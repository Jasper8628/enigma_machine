{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///external \"@aws-amplify/core\"","webpack:///./node_modules/@aws-sdk/util-utf8-browser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/util-utf8-browser/dist/es/whatwgEncodingApi.js","webpack:///./node_modules/@aws-sdk/util-utf8-browser/dist/es/pureJs.js","webpack:///./node_modules/@aws-sdk/util-locate-window/dist/es/index.js","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/ie11Sha256.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/isEmptyData.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/constants.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/webCryptoSha256.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/constants.js","webpack:///./node_modules/uuid/index.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/index.js","webpack:///./node_modules/uuid/v1.js","webpack:///./node_modules/uuid/v4.js","webpack:///./node_modules/@aws-crypto/sha256-browser/build/crossPlatformSha256.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/index.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/jsSha256.js","webpack:///./node_modules/@aws-crypto/sha256-js/build/RawSha256.js","webpack:///./node_modules/@aws-crypto/supports-web-crypto/build/index.js","webpack:///./node_modules/@aws-crypto/supports-web-crypto/build/supportsWebCrypto.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/index.js","webpack:///./node_modules/@aws-crypto/ie11-detection/build/MsWindow.js","webpack:///../../src/Providers/InteractionsProvider.ts","webpack:///./node_modules/@aws-sdk/client-lex-runtime-service/node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@aws-sdk/protocol-http/dist/es/httpResponse.js","webpack:///./node_modules/@aws-sdk/protocol-http/dist/es/httpRequest.js","webpack:///./node_modules/@aws-sdk/util-uri-escape/dist/es/escape-uri.js","webpack:///./node_modules/@aws-sdk/util-base64-browser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/fetch-http-handler/dist/es/fetch-http-handler.js","webpack:///./node_modules/@aws-sdk/querystring-builder/dist/es/index.js","webpack:///./node_modules/@aws-sdk/fetch-http-handler/dist/es/request-timeout.js","webpack:///./node_modules/@aws-sdk/fetch-http-handler/dist/es/stream-collector.js","webpack:///./node_modules/@aws-sdk/invalid-dependency/dist/es/index.js","webpack:///./node_modules/@aws-sdk/middleware-retry/dist/es/retryMiddleware.js","webpack:///./node_modules/@aws-sdk/service-error-classification/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/service-error-classification/dist/es/index.js","webpack:///./node_modules/@aws-sdk/middleware-retry/dist/es/delayDecider.js","webpack:///./node_modules/@aws-sdk/middleware-retry/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/middleware-retry/dist/es/retryDecider.js","webpack:///./node_modules/@aws-sdk/middleware-retry/dist/es/defaultStrategy.js","webpack:///./node_modules/@aws-sdk/middleware-retry/dist/es/defaultRetryQuota.js","webpack:///./node_modules/@aws-sdk/middleware-retry/dist/es/configurations.js","webpack:///./node_modules/@aws-sdk/util-user-agent-browser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/endpoints.js","webpack:///./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/runtimeConfig.browser.js","webpack:///./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/runtimeConfig.shared.js","webpack:///./node_modules/@aws-sdk/util-body-length-browser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/url-parser-browser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/querystring-parser/dist/es/index.js","webpack:///./node_modules/@aws-sdk/config-resolver/dist/es/EndpointsConfig.js","webpack:///./node_modules/@aws-sdk/config-resolver/dist/es/RegionConfig.js","webpack:///./node_modules/@aws-sdk/middleware-content-length/dist/es/index.js","webpack:///./node_modules/@aws-sdk/middleware-host-header/dist/es/index.js","webpack:///./node_modules/@aws-sdk/middleware-logger/dist/es/loggerMiddleware.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/credentialDerivation.js","webpack:///./node_modules/@aws-sdk/util-hex-encoding/dist/es/index.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/getCanonicalHeaders.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/getPayloadHash.js","webpack:///./node_modules/@aws-sdk/is-array-buffer/dist/es/index.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/cloneRequest.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/prepareRequest.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/utilDate.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/SignatureV4.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/moveHeadersToQuery.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/hasHeader.js","webpack:///./node_modules/@aws-sdk/signature-v4/dist/es/getCanonicalQuery.js","webpack:///./node_modules/@aws-sdk/middleware-signing/dist/es/configurations.js","webpack:///./node_modules/@aws-sdk/middleware-signing/dist/es/middleware.js","webpack:///./node_modules/@aws-sdk/middleware-user-agent/dist/es/middleware.js","webpack:///./node_modules/@aws-sdk/middleware-stack/dist/es/MiddlewareStack.js","webpack:///./node_modules/@aws-sdk/smithy-client/dist/es/client.js","webpack:///./node_modules/@aws-sdk/smithy-client/dist/es/command.js","webpack:///./node_modules/@aws-sdk/smithy-client/dist/es/extended-encode-uri-component.js","webpack:///./node_modules/@aws-sdk/smithy-client/dist/es/isa.js","webpack:///./node_modules/@aws-sdk/smithy-client/dist/es/lazy-json.js","webpack:///./node_modules/@aws-sdk/smithy-client/dist/es/constants.js","webpack:///./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/models/index.js","webpack:///./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/LexRuntimeServiceClient.js","webpack:///./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/protocols/Aws_restJson1.js","webpack:///./node_modules/@aws-sdk/middleware-serde/dist/es/serdePlugin.js","webpack:///./node_modules/@aws-sdk/middleware-serde/dist/es/deserializerMiddleware.js","webpack:///./node_modules/@aws-sdk/middleware-serde/dist/es/serializerMiddleware.js","webpack:///./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/commands/PostTextCommand.js","webpack:///./node_modules/@aws-sdk/client-lex-runtime-service/dist/es/commands/PostContentCommand.js","webpack:///../../../src/Providers/AWSLexProviderHelper/convert.ts","webpack:///../../src/Providers/AWSLexProvider.ts","webpack:///../src/Interactions.ts","webpack:///../src/index.ts"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__1__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","__","constructor","__assign","assign","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","push","__createBinding","k","k2","undefined","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","default","__importDefault","__classPrivateFieldGet","receiver","privateMap","has","__classPrivateFieldSet","set","input","TextEncoder","encode","bytes","len","charCodeAt","surrogatePair","Uint8Array","from","TextDecoder","decode","decoded","byte","String","fromCharCode","nextByte","encoded","map","byteValue","toString","join","decodeURIComponent","fallbackWindow","locateWindow","window","self","getRandomValues","crypto","msCrypto","rnds8","rnds","Math","random","byteToHex","substr","buf","offset","bth","isEmptyData_1","constants_1","util_utf8_browser_1","util_locate_window_1","Sha256","secret","operation","keyOperation","subtle","importKey","toArrayBufferView","SHA_256_HMAC_ALGO","oncomplete","onerror","getKeyPromise","keyData","sign","catch","digest","update","toHash","_this","isEmptyData","Error","process","finish","data","fromUtf8","ArrayBuffer","isView","buffer","byteOffset","byteLength","BYTES_PER_ELEMENT","SHA_256_HASH","hash","EMPTY_DATA_SHA_256","convertToBuffer","typedArray","BLOCK_SIZE","DIGEST_LENGTH","KEY","Uint32Array","INIT","MAX_HASHABLE_LENGTH","pow","v1","v4","uuid","ie11Sha256_1","Ie11Sha256","webCryptoSha256_1","WebCryptoSha256","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","options","node","clockseq","seedBytes","msecs","Date","getTime","nsecs","dt","tl","tmh","ii","sha256_js_1","supports_web_crypto_1","ie11_detection_1","supportsWebCrypto","isMsWindow","encoding","tslib_1","RawSha256_1","RawSha256","outer","inner","bufferHash","bufferFromSecret","digestSync","finished","_a","state","Int32Array","temp","bufferLength","bytesHashed","position","hashBuffer","bitsHashed","bufferView","DataView","undecoratedLength","setUint8","setUint32","floor","out","state0","state1","state2","state3","state4","state5","state6","state7","u","t1_1","t2_1","t1","t2","subtleCryptoMethods","supportsSecureRandom","supportsSubtleCrypto","every","methodName","supportsZeroByteGCM","_b","generateKey","encrypt","iv","additionalData","tagLength","msSubtleCryptoMethods","quacksLikeAnMsWindow","subtle_1","method","HttpResponse","statusCode","headers","isInstance","response","resp","HttpRequest","hostname","port","query","protocol","path","charAt","request","req","clone","cloned","keys","reduce","carry","paramName","param","isArray","escapeUri","uri","output","encodeURIComponent","replace","hexEncode","toUpperCase","FetchHttpHandler","httpOptions","destroy","handle","abortSignal","requestTimeoutInMs","requestTimeout","aborted","abortError","queryString","e_1","parts","sort","_c","iLen","qsEntry","e_1_1","return","buildQueryString","url","requestOptions","Headers","AbortController","timeoutInMs","fetchRequest","Request","raceOfPromises","fetch","fetchHeaders","transformedHeaders","entries","pair","status","blob","setTimeout","timeoutError","onabort","race","alphabetByEncoding","alphabetByValue","start","limit","index","fromBase64","totalByteLength","dataView","bits","bitLength","chunkOffset","readToBase64","reader","FileReader","onloadend","readyState","commaIndex","dataOffset","substring","readAsDataURL","invalidFunction","message","retryMiddlewareOptions","tags","priority","getRetryPlugin","applyToStack","clientStack","add","args","retryStrategy","retry","retryMiddleware","CLOCK_SKEW_ERROR_CODES","THROTTLING_ERROR_CODES","TRANSIENT_ERROR_CODES","TRANSIENT_ERROR_STATUS_CODES","isThrottlingError","includes","$retryable","throttling","defaultDelayDecider","delayBase","attempts","min","defaultRetryDecider","isRetryableByTrait","isClockSkewError","$metadata","httpStatusCode","isTransientError","StandardRetryStrategy","maxAttemptsProvider","initialRetryTokens","MAX_CAPACITY","availableCapacity","getCapacityAmount","hasRetryTokens","retryDecider","delayDecider","retryQuota","freeze","retrieveRetryTokens","capacityAmount","releaseRetryTokens","capacityReleaseAmount","shouldRetry","maxAttempts","getMaxAttempts","retryTokenAmount","totalDelay","_loop_1","this_1","state_1","err_1","delay_1","totalRetryDelay","normalizeMaxAttempts","promisified_1","packageName","packageVersion","AWS_REGIONS","Set","AWS_CN_REGIONS","AWS_ISO_REGIONS","AWS_ISO_B_REGIONS","AWS_US_GOV_REGIONS","ClientDefaultValues","apiVersion","disableHostPrefix","regionInfoProvider","region","regionInfo","partition","signingService","signingName","runtime","base64Decoder","base64Encoder","str","bitClusterCount","ceil","slice","bodyLengthChecker","code","size","credentialDefaultProvider","defaultUserAgent","navigator","userAgent","requestHandler","sha256","streamCollector","stream","Blob","base64","arrayBuffer","collectBlob","res","isDone","prior","getReader","read","collectStream","urlParser","URL","pathname","search","querystring","split","_d","_e","parseQueryString","parseInt","utf8Decoder","utf8Encoder","normalizeEndpoint","endpoint","promisified_2","getEndPointFromRegion","tls","RegExp","test","normalizeRegion","contentLengthMiddlewareOptions","getContentLengthPlugin","toLowerCase","contentLengthMiddleware","hostHeaderMiddlewareOptions","getHostHeaderPlugin","handlerProtocol","hostHeaderMiddleware","loggerMiddlewareOptions","getLoggerPlugin","context","logger","inputFilterSensitiveLog","outputFilterSensitiveLog","outputWithoutMetadata","debug","httpRequest","httpResponse","info","AMZ_DATE_HEADER","GENERATED_HEADERS","SIGNATURE_HEADER","TOKEN_HEADER","ALWAYS_UNSIGNABLE_HEADERS","authorization","connection","expect","pragma","referer","te","trailer","upgrade","PROXY_HEADER_PATTERN","SEC_HEADER_PATTERN","EVENT_ALGORITHM_IDENTIFIER","signingKeyCache","cacheQueue","createScope","shortDate","service","SHORT_TO_HEX","HEX_TO_SHORT","encodedByte","toHex","getCanonicalHeaders","unsignableHeaders","signableHeaders","canonical","headerName","canonicalHeaderName","trim","getPayloadHash","hashConstructor","hashCtor","_f","arg","cloneRequest","rest","prepareRequest","iso8601","time","Number","toDate","toISOString","SignatureV4","applyChecksum","credentials","uriEscapePath","regionProvider","normalizeRegionProvider","credentialProvider","normalizeCredentialsProvider","presign","originalRequest","signingDate","expiresIn","signingRegion","longDate","scope","canonicalHeaders","_g","_h","_j","_k","_l","formatDate","moveHeadersToQuery","sessionToken","accessKeyId","getCanonicalHeaderList","getSignature","getSigningKey","createCanonicalRequest","toSign","signString","payload","signEvent","signRequest","priorSignature","hashedPayload","hashedHeaders","stringToSign","requestToSign","payloadHash","signature","soughtHeader","hasHeader","ALGORITHM_IDENTIFIER","sortedHeaders","getCanonicalPath","serialized","filter","getCanonicalQuery","createStringToSign","credentialScope","canonicalRequest","hashedRequest","keyPromise","sha256Constructor","cacheKey","secretAccessKey","signable","intermediateKey","reason","now","normalizeProvider","getSkewCorrectedDate","systemClockOffset","awsAuthMiddleware","signer","dateHeader","serverTime","date","parse","newServerTime","abs","awsAuthMiddlewareOptions","relation","toMiddleware","getUserAgentMiddlewareOptions","getUserAgentPlugin","config","userAgentHeader","customUserAgent","constructStack","absoluteEntries","relativeEntries","entriesNameSet","cloneTo","toStack","forEach","entry","middleware","addRelativeTo","expandRelativeMiddlewareList","expandedMiddlewareList","before","after","reverse","getMiddlewareList","normalizedAbsoluteEntries","normalizedRelativeEntries","normalizedEntriesNameMap","normalizedEntry","stepWeights","priorityWeights","wholeList","expendedMiddlewareList","stack","use","plugin","remove","toRemove","isRemoved","filterCb","delete","removeByName","removeByReference","removeByTag","handler","initialize","serialize","build","finalizeRequest","deserialize","high","normal","low","Client","middlewareStack","send","command","optionsOrCb","cb","callback","resolveMiddleware","err","extendedEncodeURIComponent","isa","ids","_i","StringWrapper","Class","getPrototypeOf","Constructor","Function","instance","writable","configurable","_super","LazyJsonString","deserializeJSON","JSON","toJSON","fromObject","stringify","BadGatewayException","BadRequestException","Button","ConfirmationStatus","ConflictException","ContentType","DeleteSessionRequest","DeleteSessionResponse","DependencyFailedException","DialogAction","DialogActionType","DialogState","FulfillmentState","GenericAttachment","GetSessionRequest","GetSessionResponse","IntentSummary","InternalFailureException","LimitExceededException","LoopDetectedException","MessageFormatType","NotAcceptableException","NotFoundException","PostContentRequest","PostContentResponse","PostTextRequest","PostTextResponse","PutSessionRequest","PutSessionResponse","RequestTimeoutException","ResponseCard","SentimentResponse","UnsupportedMediaTypeException","SENSITIVE_STRING","LexRuntimeServiceClient","configuration","_config_1","resolveRegionConfig","_config_7","resolveRetryConfig","normalizedCreds","signingEscapePath","resolveAwsAuthConfig","filterSensitiveLog","obj","slots","dialogAction","recentIntentSummaryView","item","sessionAttributes","requestAttributes","inputText","deserializeAws_restJson1PostContentCommandError","parsedOutput","errorCode","_m","_o","parsedBody","_p","_q","parseBody","loadRestJsonErrorCode","deserializeAws_restJson1BadGatewayExceptionResponse","deserializeMetadata","deserializeAws_restJson1BadRequestExceptionResponse","deserializeAws_restJson1ConflictExceptionResponse","deserializeAws_restJson1DependencyFailedExceptionResponse","deserializeAws_restJson1InternalFailureExceptionResponse","deserializeAws_restJson1LimitExceededExceptionResponse","deserializeAws_restJson1LoopDetectedExceptionResponse","deserializeAws_restJson1NotAcceptableExceptionResponse","deserializeAws_restJson1NotFoundExceptionResponse","deserializeAws_restJson1RequestTimeoutExceptionResponse","deserializeAws_restJson1UnsupportedMediaTypeExceptionResponse","Code","Message","$fault","deserializeAws_restJson1PostTextCommandError","contents","retryAfterSeconds","serializeAws_restJson1StringMap","acc","deserializeAws_restJson1genericAttachmentList","__type","attachmentLinkUrl","buttons","deserializeAws_restJson1listOfButtons","imageUrl","subTitle","title","deserializeAws_restJson1GenericAttachment","text","deserializeAws_restJson1Button","deserializeAws_restJson1ResponseCard","contentType","genericAttachments","version","deserializeAws_restJson1SentimentResponse","sentimentLabel","sentimentScore","deserializeAws_restJson1StringMap","httpHeaders","requestId","collectBodyString","streamBody","collectBody","isSerializableHeaderValue","getOwnPropertyNames","sanitizeErrorCode","rawValue","cleanValue","headerKey","find","deserializerMiddlewareOption","serializerMiddlewareOption","getSerdePlugin","serializer","deserializer","commandStack","parsed","deserializerMiddleware","serializerMiddleware","PostTextCommand","handlerExecutionContext","resolvedPath","labelValue","userId","botName","botAlias","serializeAws_restJson1PostTextCommand","dialogState","intentName","messageFormat","responseCard","sentimentResponse","sessionId","slotToElicit","deserializeAws_restJson1PostTextCommand","PostContentCommand","accept","Accept","inputStream","serializeAws_restJson1PostContentCommand","audioStream","inputTranscript","deserializeAws_restJson1PostContentCommand"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,EAAQG,QAAQ,sBACR,mBAAXC,QAAyBA,OAAOC,IAC9CD,OAAO,2BAA4B,CAAC,qBAAsBJ,GAChC,iBAAZC,QACdA,QAAkC,yBAAID,EAAQG,QAAQ,sBAEtDJ,EAA+B,yBAAIC,EAAQD,EAAK,sBARlD,CASGO,MAAM,SAASC,GAClB,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUT,QAGnC,IAAIC,EAASM,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHX,QAAS,IAUV,OANAY,EAAQH,GAAUI,KAAKZ,EAAOD,QAASC,EAAQA,EAAOD,QAASQ,GAG/DP,EAAOU,GAAI,EAGJV,EAAOD,QA0Df,OArDAQ,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAAShB,EAASiB,EAAMC,GAC3CV,EAAoBW,EAAEnB,EAASiB,IAClCG,OAAOC,eAAerB,EAASiB,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAASxB,GACX,oBAAXyB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAerB,EAASyB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAASlC,GAChC,IAAIiB,EAASjB,GAAUA,EAAO6B,WAC7B,WAAwB,OAAO7B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAO,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,I,+BClFrD;;;;;;;;;;;;;;;AAgBA,IAAIC,EAAgB,SAAS1B,EAAG2B,GAI5B,OAHAD,EAAgBtB,OAAOwB,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAU9B,EAAG2B,GAAK3B,EAAE6B,UAAYF,IACvE,SAAU3B,EAAG2B,GAAK,IAAK,IAAIH,KAAKG,EAAOA,EAAEJ,eAAeC,KAAIxB,EAAEwB,GAAKG,EAAEH,MACpDxB,EAAG2B,IAGrB,SAASI,EAAU/B,EAAG2B,GAEzB,SAASK,IAAO3C,KAAK4C,YAAcjC,EADnC0B,EAAc1B,EAAG2B,GAEjB3B,EAAEsB,UAAkB,OAANK,EAAavB,OAAOY,OAAOW,IAAMK,EAAGV,UAAYK,EAAEL,UAAW,IAAIU,GAG5E,IAAIE,EAAW,WAQlB,OAPAA,EAAW9B,OAAO+B,QAAU,SAAkBvB,GAC1C,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAIiB,UAAUC,OAAQ3C,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAIW,UAAU1C,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KAAIZ,EAAEY,GAAKC,EAAED,IAE9E,OAAOZ,IAEK0B,MAAMjD,KAAM+C,YAGzB,SAASG,EAAOd,EAAGe,GACtB,IAAI5B,EAAI,GACR,IAAK,IAAIY,KAAKC,EAAOrB,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,IAAMgB,EAAEC,QAAQjB,GAAK,IAC9EZ,EAAEY,GAAKC,EAAED,IACb,GAAS,MAALC,GAAqD,mBAAjCrB,OAAOsC,sBACtB,KAAIhD,EAAI,EAAb,IAAgB8B,EAAIpB,OAAOsC,sBAAsBjB,GAAI/B,EAAI8B,EAAEa,OAAQ3C,IAC3D8C,EAAEC,QAAQjB,EAAE9B,IAAM,GAAKU,OAAOkB,UAAUqB,qBAAqB9C,KAAK4B,EAAGD,EAAE9B,MACvEkB,EAAEY,EAAE9B,IAAM+B,EAAED,EAAE9B,KAE1B,OAAOkB,EAGJ,SAASgC,EAAWC,EAAYC,EAAQ7B,EAAK8B,GAChD,IAA2H/C,EAAvHD,EAAIqC,UAAUC,OAAQ7B,EAAIT,EAAI,EAAI+C,EAAkB,OAATC,EAAgBA,EAAO3C,OAAO4C,yBAAyBF,EAAQ7B,GAAO8B,EACrH,GAAuB,iBAAZE,SAAoD,mBAArBA,QAAQC,SAAyB1C,EAAIyC,QAAQC,SAASL,EAAYC,EAAQ7B,EAAK8B,QACpH,IAAK,IAAIrD,EAAImD,EAAWR,OAAS,EAAG3C,GAAK,EAAGA,KAASM,EAAI6C,EAAWnD,MAAIc,GAAKT,EAAI,EAAIC,EAAEQ,GAAKT,EAAI,EAAIC,EAAE8C,EAAQ7B,EAAKT,GAAKR,EAAE8C,EAAQ7B,KAAST,GAChJ,OAAOT,EAAI,GAAKS,GAAKJ,OAAOC,eAAeyC,EAAQ7B,EAAKT,GAAIA,EAGzD,SAAS2C,EAAQC,EAAYC,GAChC,OAAO,SAAUP,EAAQ7B,GAAOoC,EAAUP,EAAQ7B,EAAKmC,IAGpD,SAASE,EAAWC,EAAaC,GACpC,GAAuB,iBAAZP,SAAoD,mBAArBA,QAAQQ,SAAyB,OAAOR,QAAQQ,SAASF,EAAaC,GAG7G,SAASE,EAAUC,EAASC,EAAYC,EAAGC,GAE9C,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUvD,GAAS,IAAMwD,EAAKL,EAAUM,KAAKzD,IAAW,MAAO6B,GAAKyB,EAAOzB,IACpF,SAAS6B,EAAS1D,GAAS,IAAMwD,EAAKL,EAAiB,MAAEnD,IAAW,MAAO6B,GAAKyB,EAAOzB,IACvF,SAAS2B,EAAKG,GAJlB,IAAe3D,EAIa2D,EAAOC,KAAOP,EAAQM,EAAO3D,QAJ1CA,EAIyD2D,EAAO3D,MAJhDA,aAAiBkD,EAAIlD,EAAQ,IAAIkD,GAAE,SAAUG,GAAWA,EAAQrD,OAIT6D,KAAKN,EAAWG,GAClGF,GAAML,EAAYA,EAAUxB,MAAMqB,EAASC,GAAc,KAAKQ,WAI/D,SAASK,EAAYd,EAASe,GACjC,IAAsGC,EAAGC,EAAGhE,EAAGiE,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPpE,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOqE,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAET,KAAMe,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAX1E,SAA0BoE,EAAEpE,OAAO2E,UAAY,WAAa,OAAO/F,OAAUwF,EACvJ,SAASM,EAAKhE,GAAK,OAAO,SAAUkE,GAAK,OACzC,SAAcC,GACV,GAAIX,EAAG,MAAM,IAAIY,UAAU,mCAC3B,KAAOT,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAMhE,EAAY,EAAR0E,EAAG,GAASV,EAAU,OAAIU,EAAG,GAAKV,EAAS,SAAOhE,EAAIgE,EAAU,SAAMhE,EAAEf,KAAK+E,GAAI,GAAKA,EAAER,SAAWxD,EAAIA,EAAEf,KAAK+E,EAAGU,EAAG,KAAKf,KAAM,OAAO3D,EAE3J,OADIgE,EAAI,EAAGhE,IAAG0E,EAAK,CAAS,EAARA,EAAG,GAAQ1E,EAAED,QACzB2E,EAAG,IACP,KAAK,EAAG,KAAK,EAAG1E,EAAI0E,EAAI,MACxB,KAAK,EAAc,OAAXR,EAAEC,QAAgB,CAAEpE,MAAO2E,EAAG,GAAIf,MAAM,GAChD,KAAK,EAAGO,EAAEC,QAASH,EAAIU,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKR,EAAEI,IAAIM,MAAOV,EAAEG,KAAKO,MAAO,SACxC,QACI,KAAM5E,EAAIkE,EAAEG,MAAMrE,EAAIA,EAAEyB,OAAS,GAAKzB,EAAEA,EAAEyB,OAAS,KAAkB,IAAViD,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAER,EAAI,EAAG,SACjG,GAAc,IAAVQ,EAAG,MAAc1E,GAAM0E,EAAG,GAAK1E,EAAE,IAAM0E,EAAG,GAAK1E,EAAE,IAAM,CAAEkE,EAAEC,MAAQO,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYR,EAAEC,MAAQnE,EAAE,GAAI,CAAEkE,EAAEC,MAAQnE,EAAE,GAAIA,EAAI0E,EAAI,MAC7D,GAAI1E,GAAKkE,EAAEC,MAAQnE,EAAE,GAAI,CAAEkE,EAAEC,MAAQnE,EAAE,GAAIkE,EAAEI,IAAIO,KAAKH,GAAK,MACvD1E,EAAE,IAAIkE,EAAEI,IAAIM,MAChBV,EAAEG,KAAKO,MAAO,SAEtBF,EAAKZ,EAAK7E,KAAK8D,EAASmB,GAC1B,MAAOtC,GAAK8C,EAAK,CAAC,EAAG9C,GAAIoC,EAAI,EAAK,QAAUD,EAAI/D,EAAI,EACtD,GAAY,EAAR0E,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE3E,MAAO2E,EAAG,GAAKA,EAAG,QAAK,EAAQf,MAAM,GArB9BJ,CAAK,CAAChD,EAAGkE,MAyBtD,SAASK,EAAgBvF,EAAGL,EAAG6F,EAAGC,QAC1BC,IAAPD,IAAkBA,EAAKD,GAC3BxF,EAAEyF,GAAM9F,EAAE6F,GAGP,SAASG,EAAahG,EAAGd,GAC5B,IAAK,IAAIwC,KAAK1B,EAAa,YAAN0B,GAAoBxC,EAAQuC,eAAeC,KAAIxC,EAAQwC,GAAK1B,EAAE0B,IAGhF,SAASuE,EAAS5F,GACrB,IAAIsB,EAAsB,mBAAXhB,QAAyBA,OAAO2E,SAAUtF,EAAI2B,GAAKtB,EAAEsB,GAAI/B,EAAI,EAC5E,GAAII,EAAG,OAAOA,EAAED,KAAKM,GACrB,GAAIA,GAAyB,iBAAbA,EAAEkC,OAAqB,MAAO,CAC1C+B,KAAM,WAEF,OADIjE,GAAKT,GAAKS,EAAEkC,SAAQlC,OAAI,GACrB,CAAEQ,MAAOR,GAAKA,EAAET,KAAM6E,MAAOpE,KAG5C,MAAM,IAAIoF,UAAU9D,EAAI,0BAA4B,mCAGjD,SAASuE,EAAO7F,EAAGgB,GACtB,IAAIrB,EAAsB,mBAAXW,QAAyBN,EAAEM,OAAO2E,UACjD,IAAKtF,EAAG,OAAOK,EACf,IAAmBK,EAAYgC,EAA3B9C,EAAII,EAAED,KAAKM,GAAO8F,EAAK,GAC3B,IACI,WAAc,IAAN9E,GAAgBA,KAAM,MAAQX,EAAId,EAAE0E,QAAQG,MAAM0B,EAAGR,KAAKjF,EAAEG,OAExE,MAAOuF,GAAS1D,EAAI,CAAE0D,MAAOA,GAC7B,QACI,IACQ1F,IAAMA,EAAE+D,OAASzE,EAAIJ,EAAU,SAAII,EAAED,KAAKH,GAElD,QAAU,GAAI8C,EAAG,MAAMA,EAAE0D,OAE7B,OAAOD,EAGJ,SAASE,IACZ,IAAK,IAAIF,EAAK,GAAIvG,EAAI,EAAGA,EAAI0C,UAAUC,OAAQ3C,IAC3CuG,EAAKA,EAAGG,OAAOJ,EAAO5D,UAAU1C,KACpC,OAAOuG,EAGJ,SAASI,IACZ,IAAK,IAAI5E,EAAI,EAAG/B,EAAI,EAAG4G,EAAKlE,UAAUC,OAAQ3C,EAAI4G,EAAI5G,IAAK+B,GAAKW,UAAU1C,GAAG2C,OACxE,IAAI7B,EAAIsB,MAAML,GAAIkE,EAAI,EAA3B,IAA8BjG,EAAI,EAAGA,EAAI4G,EAAI5G,IACzC,IAAK,IAAI6G,EAAInE,UAAU1C,GAAI8G,EAAI,EAAGC,EAAKF,EAAElE,OAAQmE,EAAIC,EAAID,IAAKb,IAC1DnF,EAAEmF,GAAKY,EAAEC,GACjB,OAAOhG,EAGJ,SAASkG,EAAQrB,GACpB,OAAOhG,gBAAgBqH,GAAWrH,KAAKgG,EAAIA,EAAGhG,MAAQ,IAAIqH,EAAQrB,GAG/D,SAASsB,EAAiBhD,EAASC,EAAYE,GAClD,IAAKrD,OAAOmG,cAAe,MAAM,IAAIrB,UAAU,wCAC/C,IAAoD7F,EAAhDmF,EAAIf,EAAUxB,MAAMqB,EAASC,GAAc,IAAQiD,EAAI,GAC3D,OAAOnH,EAAI,GAAIyF,EAAK,QAASA,EAAK,SAAUA,EAAK,UAAWzF,EAAEe,OAAOmG,eAAiB,WAAc,OAAOvH,MAASK,EACpH,SAASyF,EAAKhE,GAAS0D,EAAE1D,KAAIzB,EAAEyB,GAAK,SAAUkE,GAAK,OAAO,IAAItB,SAAQ,SAAUwC,EAAG5E,GAAKkF,EAAEpB,KAAK,CAACtE,EAAGkE,EAAGkB,EAAG5E,IAAM,GAAKmF,EAAO3F,EAAGkE,QAC9H,SAASyB,EAAO3F,EAAGkE,GAAK,KACV7E,EADqBqE,EAAE1D,GAAGkE,IACnB1E,iBAAiB+F,EAAU3C,QAAQC,QAAQxD,EAAEG,MAAM0E,GAAGb,KAAKuC,EAAS9C,GAAU+C,EAAOH,EAAE,GAAG,GAAIrG,GADpE,MAAOgC,GAAKwE,EAAOH,EAAE,GAAG,GAAIrE,GAC3E,IAAchC,EACd,SAASuG,EAAQpG,GAASmG,EAAO,OAAQnG,GACzC,SAASsD,EAAOtD,GAASmG,EAAO,QAASnG,GACzC,SAASqG,EAAOrC,EAAGU,GAASV,EAAEU,GAAIwB,EAAEI,QAASJ,EAAExE,QAAQyE,EAAOD,EAAE,GAAG,GAAIA,EAAE,GAAG,KAGzE,SAASK,EAAiB/G,GAC7B,IAAIT,EAAG8B,EACP,OAAO9B,EAAI,GAAIyF,EAAK,QAASA,EAAK,SAAS,SAAU3C,GAAK,MAAMA,KAAO2C,EAAK,UAAWzF,EAAEe,OAAO2E,UAAY,WAAc,OAAO/F,MAASK,EAC1I,SAASyF,EAAKhE,EAAGwD,GAAKjF,EAAEyB,GAAKhB,EAAEgB,GAAK,SAAUkE,GAAK,OAAQ7D,GAAKA,GAAK,CAAEb,MAAO+F,EAAQvG,EAAEgB,GAAGkE,IAAKd,KAAY,WAANpD,GAAmBwD,EAAIA,EAAEU,GAAKA,GAAOV,GAGxI,SAASwC,EAAchH,GAC1B,IAAKM,OAAOmG,cAAe,MAAM,IAAIrB,UAAU,wCAC/C,IAAiC7F,EAA7BI,EAAIK,EAAEM,OAAOmG,eACjB,OAAO9G,EAAIA,EAAED,KAAKM,IAAMA,EAAqC4F,EAAS5F,GAA2BT,EAAI,GAAIyF,EAAK,QAASA,EAAK,SAAUA,EAAK,UAAWzF,EAAEe,OAAOmG,eAAiB,WAAc,OAAOvH,MAASK,GAC9M,SAASyF,EAAKhE,GAAKzB,EAAEyB,GAAKhB,EAAEgB,IAAM,SAAUkE,GAAK,OAAO,IAAItB,SAAQ,SAAUC,EAASC,IACvF,SAAgBD,EAASC,EAAQjE,EAAGqF,GAAKtB,QAAQC,QAAQqB,GAAGb,MAAK,SAASa,GAAKrB,EAAQ,CAAErD,MAAO0E,EAAGd,KAAMvE,MAASiE,IADJ+C,CAAOhD,EAASC,GAA7BoB,EAAIlF,EAAEgB,GAAGkE,IAA8Bd,KAAMc,EAAE1E,YAI7I,SAASyG,EAAqBC,EAAQC,GAEzC,OADIlH,OAAOC,eAAkBD,OAAOC,eAAegH,EAAQ,MAAO,CAAE1G,MAAO2G,IAAiBD,EAAOC,IAAMA,EAClGD,EAGJ,SAASE,EAAaC,GACzB,GAAIA,GAAOA,EAAI1G,WAAY,OAAO0G,EAClC,IAAIlD,EAAS,GACb,GAAW,MAAPkD,EAAa,IAAK,IAAI7B,KAAK6B,EAASpH,OAAOmB,eAAe1B,KAAK2H,EAAK7B,KAAIrB,EAAOqB,GAAK6B,EAAI7B,IAE5F,OADArB,EAAOmD,QAAUD,EACVlD,EAGJ,SAASoD,EAAgBF,GAC5B,OAAQA,GAAOA,EAAI1G,WAAc0G,EAAM,CAAEC,QAASD,GAG/C,SAASG,EAAuBC,EAAUC,GAC7C,IAAKA,EAAWC,IAAIF,GAChB,MAAM,IAAIrC,UAAU,kDAExB,OAAOsC,EAAWtH,IAAIqH,GAGnB,SAASG,EAAuBH,EAAUC,EAAYlH,GACzD,IAAKkH,EAAWC,IAAIF,GAChB,MAAM,IAAIrC,UAAU,kDAGxB,OADAsC,EAAWG,IAAIJ,EAAUjH,GAClBA,I,cCxNX1B,EAAOD,QAAUM,G,6BCEV,SAAS,EAAS2I,GACrB,MAA2B,mBAAhBC,YCHR,SAAkBD,GACrB,OAAO,IAAIC,aAAcC,OAAOF,GDGrB,CAAoBA,GEG5B,SAAkBA,GAErB,IADA,IAAIG,EAAQ,GACH1I,EAAI,EAAG2I,EAAMJ,EAAM5F,OAAQ3C,EAAI2I,EAAK3I,IAAK,CAC9C,IAAIiB,EAAQsH,EAAMK,WAAW5I,GAC7B,GAAIiB,EAAQ,IACRyH,EAAM3C,KAAK9E,QAEV,GAAIA,EAAQ,KACbyH,EAAM3C,KAAM9E,GAAS,EAAK,IAAc,GAARA,EAAc,UAE7C,GAAIjB,EAAI,EAAIuI,EAAM5F,QAA+B,QAAZ,MAAR1B,IAAqE,QAAZ,MAA1BsH,EAAMK,WAAW5I,EAAI,IAAyB,CAC3G,IAAI6I,EAAgB,QAAoB,KAAR5H,IAAiB,KAA+B,KAAxBsH,EAAMK,aAAa5I,IAC3E0I,EAAM3C,KAAM8C,GAAiB,GAAM,IAAOA,GAAiB,GAAM,GAAM,IAAOA,GAAiB,EAAK,GAAM,IAAsB,GAAhBA,EAAsB,UAGtIH,EAAM3C,KAAM9E,GAAS,GAAM,IAAOA,GAAS,EAAK,GAAM,IAAc,GAARA,EAAc,KAGlF,OAAO6H,WAAWC,KAAKL,GFnBhB,CAAWH,GAEf,SAAS,EAAOA,GACnB,MAA2B,mBAAhBS,YCNR,SAAgBT,GACnB,OAAO,IAAIS,YAAY,SAASC,OAAOV,GDM5B,CAAkBA,GEyB1B,SAAgBA,GAEnB,IADA,IAAIW,EAAU,GACLlJ,EAAI,EAAG2I,EAAMJ,EAAM5F,OAAQ3C,EAAI2I,EAAK3I,IAAK,CAC9C,IAAImJ,EAAOZ,EAAMvI,GACjB,GAAImJ,EAAO,IACPD,GAAWE,OAAOC,aAAaF,QAE9B,GAAI,KAAOA,GAAQA,EAAO,IAAK,CAChC,IAAIG,EAAWf,IAAQvI,GACvBkJ,GAAWE,OAAOC,cAAsB,GAAPF,IAAc,EAAiB,GAAXG,QAEpD,GAAI,KAAOH,GAAQA,EAAO,IAAK,CAChC,IACII,EAAU,IADM,CAACJ,EAAMZ,IAAQvI,GAAIuI,IAAQvI,GAAIuI,IAAQvI,IACzBwJ,KAAI,SAAUC,GAAa,OAAOA,EAAUC,SAAS,OAAQC,KAAK,KACpGT,GAAWU,mBAAmBL,QAG9BL,GAAWE,OAAOC,cAAsB,GAAPF,IAAc,IAAqB,GAAbZ,IAAQvI,KAAY,EAAmB,GAAbuI,IAAQvI,IAGjG,OAAOkJ,EF3CA,CAASX,G,qHGZpB,wDAAIsB,EAAiB,GAMd,SAASC,IACZ,MAAsB,oBAAXC,OACAA,OAEc,oBAATC,KACLA,KAEJH,I,mHCNX,IAAII,EAAqC,oBAAZ,QAA2BC,OAAOD,iBAAmBC,OAAOD,gBAAgBzI,KAAK0I,SACnE,oBAAd,UAAuE,mBAAnCH,OAAOI,SAASF,iBAAiCE,SAASF,gBAAgBzI,KAAK2I,UAEhJ,GAAIF,EAAiB,CAEnB,IAAIG,EAAQ,IAAItB,WAAW,IAE3BvJ,EAAOD,QAAU,WAEf,OADA2K,EAAgBG,GACTA,OAEJ,CAKL,IAAIC,EAAO,IAAIjI,MAAM,IAErB7C,EAAOD,QAAU,WACf,IAAK,IAAWwB,EAAPd,EAAI,EAAMA,EAAI,GAAIA,IACN,IAAV,EAAJA,KAAiBc,EAAoB,WAAhBwJ,KAAKC,UAC/BF,EAAKrK,GAAKc,MAAY,EAAJd,IAAa,GAAK,IAGtC,OAAOqK,K,cC1BX,IADA,IAAIG,EAAY,GACPxK,EAAI,EAAGA,EAAI,MAAOA,EACzBwK,EAAUxK,IAAMA,EAAI,KAAO0J,SAAS,IAAIe,OAAO,GAmBjDlL,EAAOD,QAhBP,SAAqBoL,EAAKC,GACxB,IAAI3K,EAAI2K,GAAU,EACdC,EAAMJ,EAEV,MAAO,CACLI,EAAIF,EAAI1K,MAAO4K,EAAIF,EAAI1K,MACvB4K,EAAIF,EAAI1K,MAAO4K,EAAIF,EAAI1K,MAAO,IAC9B4K,EAAIF,EAAI1K,MAAO4K,EAAIF,EAAI1K,MAAO,IAC9B4K,EAAIF,EAAI1K,MAAO4K,EAAIF,EAAI1K,MAAO,IAC9B4K,EAAIF,EAAI1K,MAAO4K,EAAIF,EAAI1K,MAAO,IAC9B4K,EAAIF,EAAI1K,MAAO4K,EAAIF,EAAI1K,MACvB4K,EAAIF,EAAI1K,MAAO4K,EAAIF,EAAI1K,MACvB4K,EAAIF,EAAI1K,MAAO4K,EAAIF,EAAI1K,OACtB2J,KAAK,M,6BCrBVjJ,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAI4J,EAAgB,EAAQ,GACxBC,EAAc,EAAQ,GACtBC,EAAsB,EAAQ,GAC9BC,EAAuB,EAAQ,GAC/BC,EAAwB,WACxB,SAASA,EAAOC,GACRA,GACAvL,KAAKwL,UA0CjB,SAAuBD,GACnB,OAAO,IAAI7G,SAAQ,SAAUC,EAASC,GAClC,IAAI6G,EAAeJ,EAAqBlB,eAAeK,SAASkB,OAAOC,UAAU,MAAOC,EAAkBL,GAASJ,EAAYU,mBAAmB,EAAO,CAAC,SAC1JJ,EAAaK,WAAa,WAClBL,EAAaxG,QACbN,EAAQ8G,EAAaxG,QAEzBL,EAAO,+CAEX6G,EAAaM,QAAU,WACnBnH,EAAO,uCApDUoH,CAAcT,GAAQpG,MAAK,SAAU8G,GAClD,OAAOZ,EAAqBlB,eAAeK,SAASkB,OAAOQ,KAAKf,EAAYU,kBAAmBI,MAEnGjM,KAAKwL,UAAUW,OAAM,gBAGrBnM,KAAKwL,UAAY9G,QAAQC,QAAQ0G,EAAqBlB,eAAeK,SAASkB,OAAOU,OAAO,YAiCpG,OA9BAd,EAAOrJ,UAAUoK,OAAS,SAAUC,GAChC,IAAIC,EAAQvM,KACRkL,EAAcsB,YAAYF,KAG9BtM,KAAKwL,UAAYxL,KAAKwL,UAAUrG,MAAK,SAAUqG,GAK3C,OAJAA,EAAUO,QAAU,WAChBQ,EAAMf,UAAY9G,QAAQE,OAAO,IAAI6H,MAAM,qCAE/CjB,EAAUkB,QAAQd,EAAkBU,IAC7Bd,KAEXxL,KAAKwL,UAAUW,OAAM,iBAEzBb,EAAOrJ,UAAUmK,OAAS,WACtB,OAAOpM,KAAKwL,UAAUrG,MAAK,SAAUqG,GACjC,OAAO,IAAI9G,SAAQ,SAAUC,EAASC,GAClC4G,EAAUO,QAAU,WAChBnH,EAAO,sCAEX4G,EAAUM,WAAa,WACfN,EAAUvG,QACVN,EAAQ,IAAIwE,WAAWqC,EAAUvG,SAErCL,EAAO,sCAEX4G,EAAUmB,gBAIfrB,EA1CgB,GA2D3B,SAASM,EAAkBgB,GACvB,MAAoB,iBAATA,EACAxB,EAAoByB,SAASD,GAEpCE,YAAYC,OAAOH,GACZ,IAAIzD,WAAWyD,EAAKI,OAAQJ,EAAKK,WAAYL,EAAKM,WAAa/D,WAAWgE,mBAE9E,IAAIhE,WAAWyD,GAtB1BjN,EAAQ2L,OAASA,G,6BCjDjBvK,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IAOtD3B,EAAQ6M,YANR,SAAqBI,GACjB,MAAoB,iBAATA,EACgB,IAAhBA,EAAK5J,OAEW,IAApB4J,EAAKM,a,6BCLhBnM,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD3B,EAAQyN,aAAe,CAAExM,KAAM,WAC/BjB,EAAQkM,kBAAoB,CACxBjL,KAAM,OACNyM,KAAM1N,EAAQyN,cAElBzN,EAAQ2N,mBAAqB,IAAInE,WAAW,CACxC,IACA,IACA,IACA,GACA,IACA,IACA,GACA,GACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,GACA,GACA,IACA,GACA,IACA,IACA,IACA,IACA,GACA,IACA,IACA,IACA,GACA,IACA,GACA,IACA,M,6BCtCJpI,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAI8J,EAAsB,EAAQ,GAC9BF,EAAgB,EAAQ,GACxBC,EAAc,EAAQ,GACtBE,EAAuB,EAAQ,GAC/BC,EAAwB,WACxB,SAASA,EAAOC,GACZvL,KAAKsM,OAAS,IAAInD,WAAW,QACd,IAAXoC,IACAvL,KAAK4B,IAAM,IAAI8C,SAAQ,SAAUC,EAASC,GACtCyG,EAAqBlB,eAChBI,OAAOmB,OAAOC,UAAU,MAAO4B,EAAgBhC,GAASJ,EAAYU,mBAAmB,EAAO,CAAC,SAC/F1G,KAAKR,EAASC,MAEvB5E,KAAK4B,IAAIuK,OAAM,gBA+BvB,OA5BAb,EAAOrJ,UAAUoK,OAAS,SAAUO,GAChC,IAAI1B,EAAcsB,YAAYI,GAA9B,CAGA,IAAIP,EAASkB,EAAgBX,GACzBY,EAAa,IAAIrE,WAAWnJ,KAAKsM,OAAOY,WAAab,EAAOa,YAChEM,EAAW7E,IAAI3I,KAAKsM,OAAQ,GAC5BkB,EAAW7E,IAAI0D,EAAQrM,KAAKsM,OAAOY,YACnClN,KAAKsM,OAASkB,IAElBlC,EAAOrJ,UAAUmK,OAAS,WACtB,IAAIG,EAAQvM,KACZ,OAAIA,KAAK4B,IACE5B,KAAK4B,IAAIuD,MAAK,SAAUvD,GAC3B,OAAOyJ,EAAqBlB,eACvBI,OAAOmB,OAAOQ,KAAKf,EAAYU,kBAAmBjK,EAAK2K,EAAMD,QAC7DnH,MAAK,SAAUyH,GAAQ,OAAO,IAAIzD,WAAWyD,SAGtD1B,EAAcsB,YAAYxM,KAAKsM,QACxB5H,QAAQC,QAAQwG,EAAYmC,oBAEhC5I,QAAQC,UACVQ,MAAK,WACN,OAAOkG,EAAqBlB,eAAeI,OAAOmB,OAAOU,OAAOjB,EAAYiC,aAAcb,EAAMD,WAE/FnH,MAAK,SAAUyH,GAAQ,OAAOlI,QAAQC,QAAQ,IAAIwE,WAAWyD,QAE/DtB,EAxCgB,GA2C3B,SAASiC,EAAgBX,GACrB,MAAoB,iBAATA,EACAxB,EAAoByB,SAASD,GAEpCE,YAAYC,OAAOH,GACZ,IAAIzD,WAAWyD,EAAKI,OAAQJ,EAAKK,WAAYL,EAAKM,WAAa/D,WAAWgE,mBAE9E,IAAIhE,WAAWyD,GAR1BjN,EAAQ2L,OAASA,G,6BC/CjBvK,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IAItD3B,EAAQ8N,WAAa,GAIrB9N,EAAQ+N,cAAgB,GAIxB/N,EAAQgO,IAAM,IAAIC,YAAY,CAC1B,WACA,WACA,WACA,WACA,UACA,WACA,WACA,WACA,WACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,UACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,UACA,UACA,UACA,UACA,UACA,UACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,aAKJjO,EAAQkO,KAAO,CACX,WACA,WACA,WACA,WACA,WACA,WACA,UACA,YAKJlO,EAAQmO,oBAAsBnD,KAAKoD,IAAI,EAAG,IAAM,G,gBC/FhD,IAAIC,EAAK,EAAQ,IACbC,EAAK,EAAQ,IAEbC,EAAOD,EACXC,EAAKF,GAAKA,EACVE,EAAKD,GAAKA,EAEVrO,EAAOD,QAAUuO,G,6BCNjBnN,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACxC,EAAQ,GACdmF,aAAa,EAAQ,IAA0B9G,GACvD,IAAIwO,EAAe,EAAQ,GAC3BxO,EAAQyO,WAAaD,EAAa7C,OAClC,IAAI+C,EAAoB,EAAQ,IAChC1O,EAAQ2O,gBAAkBD,EAAkB/C,Q,gBCP5C,IAQIiD,EACAC,EATAC,EAAM,EAAQ,GACdC,EAAc,EAAQ,GAWtBC,EAAa,EACbC,EAAa,EA+FjBhP,EAAOD,QA5FP,SAAYkP,EAAS9D,EAAKC,GACxB,IAAI3K,EAAI0K,GAAOC,GAAU,EACrB1I,EAAIyI,GAAO,GAGX+D,GADJD,EAAUA,GAAW,IACFC,MAAQP,EACvBQ,OAAgCvI,IAArBqI,EAAQE,SAAyBF,EAAQE,SAAWP,EAKnE,GAAY,MAARM,GAA4B,MAAZC,EAAkB,CACpC,IAAIC,EAAYP,IACJ,MAARK,IAEFA,EAAOP,EAAU,CACA,EAAfS,EAAU,GACVA,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAAIA,EAAU,KAGtD,MAAZD,IAEFA,EAAWP,EAAiD,OAApCQ,EAAU,IAAM,EAAIA,EAAU,KAQ1D,IAAIC,OAA0BzI,IAAlBqI,EAAQI,MAAsBJ,EAAQI,OAAQ,IAAIC,MAAOC,UAIjEC,OAA0B5I,IAAlBqI,EAAQO,MAAsBP,EAAQO,MAAQR,EAAa,EAGnES,EAAMJ,EAAQN,GAAeS,EAAQR,GAAY,IAcrD,GAXIS,EAAK,QAA0B7I,IAArBqI,EAAQE,WACpBA,EAAWA,EAAW,EAAI,QAKvBM,EAAK,GAAKJ,EAAQN,SAAiCnI,IAAlBqI,EAAQO,QAC5CA,EAAQ,GAINA,GAAS,IACX,MAAM,IAAI3C,MAAM,mDAGlBkC,EAAaM,EACbL,EAAaQ,EACbZ,EAAYO,EAMZ,IAAIO,GAA4B,KAAb,WAHnBL,GAAS,cAG+BG,GAAS,WACjD9M,EAAEjC,KAAOiP,IAAO,GAAK,IACrBhN,EAAEjC,KAAOiP,IAAO,GAAK,IACrBhN,EAAEjC,KAAOiP,IAAO,EAAI,IACpBhN,EAAEjC,KAAY,IAALiP,EAGT,IAAIC,EAAON,EAAQ,WAAc,IAAS,UAC1C3M,EAAEjC,KAAOkP,IAAQ,EAAI,IACrBjN,EAAEjC,KAAa,IAANkP,EAGTjN,EAAEjC,KAAOkP,IAAQ,GAAK,GAAM,GAC5BjN,EAAEjC,KAAOkP,IAAQ,GAAK,IAGtBjN,EAAEjC,KAAO0O,IAAa,EAAI,IAG1BzM,EAAEjC,KAAkB,IAAX0O,EAGT,IAAK,IAAIjN,EAAI,EAAGA,EAAI,IAAKA,EACvBQ,EAAEjC,EAAIyB,GAAKgN,EAAKhN,GAGlB,OAAOiJ,GAAY2D,EAAYpM,K,gBCzGjC,IAAImM,EAAM,EAAQ,GACdC,EAAc,EAAQ,GA2B1B9O,EAAOD,QAzBP,SAAYkP,EAAS9D,EAAKC,GACxB,IAAI3K,EAAI0K,GAAOC,GAAU,EAEF,iBAAb,IACRD,EAAkB,WAAZ8D,EAAuB,IAAIpM,MAAM,IAAM,KAC7CoM,EAAU,MAIZ,IAAInE,GAFJmE,EAAUA,GAAW,IAEFjE,SAAWiE,EAAQJ,KAAOA,KAO7C,GAJA/D,EAAK,GAAgB,GAAVA,EAAK,GAAa,GAC7BA,EAAK,GAAgB,GAAVA,EAAK,GAAa,IAGzBK,EACF,IAAK,IAAIyE,EAAK,EAAGA,EAAK,KAAMA,EAC1BzE,EAAI1K,EAAImP,GAAM9E,EAAK8E,GAIvB,OAAOzE,GAAO2D,EAAYhE,K,6BCxB5B3J,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAI6M,EAAe,EAAQ,GACvBE,EAAoB,EAAQ,IAC5BoB,EAAc,EAAQ,IACtBC,EAAwB,EAAQ,IAChCC,EAAmB,EAAQ,IAC3BtE,EAAuB,EAAQ,GAC/BC,EAAwB,WACxB,SAASA,EAAOC,GACRmE,EAAsBE,kBAAkBvE,EAAqBlB,gBAC7DnK,KAAKqN,KAAO,IAAIgB,EAAkB/C,OAAOC,GAEpCoE,EAAiBE,WAAWxE,EAAqBlB,gBACtDnK,KAAKqN,KAAO,IAAIc,EAAa7C,OAAOC,GAGpCvL,KAAKqN,KAAO,IAAIoC,EAAYnE,OAAOC,GAS3C,OANAD,EAAOrJ,UAAUoK,OAAS,SAAUO,EAAMkD,GACtC9P,KAAKqN,KAAKhB,OAAOO,EAAMkD,IAE3BxE,EAAOrJ,UAAUmK,OAAS,WACtB,OAAOpM,KAAKqN,KAAKjB,UAEdd,EAlBgB,GAoB3B3L,EAAQ2L,OAASA,G,6BC3BjBvK,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACxC,EAAQ,GACdmF,aAAa,EAAQ,IAAe9G,I,6BCF5CoB,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyO,EAAU,EAAQ,GAClB5E,EAAc,EAAQ,IACtB6E,EAAc,EAAQ,IACtB5E,EAAsB,EAAQ,GAC9BE,EAAwB,WACxB,SAASA,EAAOC,GAEZ,GADAvL,KAAKqN,KAAO,IAAI2C,EAAYC,UACxB1E,EAAQ,CACRvL,KAAKkQ,MAAQ,IAAIF,EAAYC,UAC7B,IAAIE,EAwDhB,SAA0B5E,GACtB,IAAI3C,EAAQ2E,EAAgBhC,GAC5B,GAAI3C,EAAMsE,WAAa/B,EAAYsC,WAAY,CAC3C,IAAI2C,EAAa,IAAIJ,EAAYC,UACjCG,EAAW/D,OAAOzD,GAClBA,EAAQwH,EAAWhE,SAEvB,IAAIY,EAAS,IAAI7D,WAAWgC,EAAYsC,YAExC,OADAT,EAAOrE,IAAIC,GACJoE,EAjEaqD,CAAiB9E,GACzB2E,EAAQ,IAAI/G,WAAWgC,EAAYsC,YACvCyC,EAAMvH,IAAIwH,GACV,IAAK,IAAI9P,EAAI,EAAGA,EAAI8K,EAAYsC,WAAYpN,IACxC8P,EAAM9P,IAAM,GACZ6P,EAAM7P,IAAM,GAEhBL,KAAKqN,KAAKhB,OAAO8D,GACjBnQ,KAAKkQ,MAAM7D,OAAO6D,GAElB,IAAS7P,EAAI,EAAGA,EAAI8P,EAAMjD,WAAY7M,IAClC8P,EAAM9P,GAAK,GA0CvB,OAtCAiL,EAAOrJ,UAAUoK,OAAS,SAAUC,GAChC,IAmDR,SAAqBM,GACjB,GAAoB,iBAATA,EACP,OAAuB,IAAhBA,EAAK5J,OAEhB,OAA2B,IAApB4J,EAAKM,WAvDJV,CAAYF,KAAWtM,KAAK6G,MAGhC,IACI7G,KAAKqN,KAAKhB,OAAOkB,EAAgBjB,IAErC,MAAOnJ,GACHnD,KAAK6G,MAAQ1D,IAMrBmI,EAAOrJ,UAAUqO,WAAa,WAC1B,GAAItQ,KAAK6G,MACL,MAAM7G,KAAK6G,MAEf,OAAI7G,KAAKkQ,OACAlQ,KAAKkQ,MAAMK,UACZvQ,KAAKkQ,MAAM7D,OAAOrM,KAAKqN,KAAKjB,UAEzBpM,KAAKkQ,MAAM9D,UAEfpM,KAAKqN,KAAKjB,UAOrBd,EAAOrJ,UAAUmK,OAAS,WACtB,OAAO2D,EAAQ1L,UAAUrE,UAAM,OAAQ,GAAQ,WAC3C,OAAO+P,EAAQ3K,YAAYpF,MAAM,SAAUwQ,GACvC,MAAO,CAAC,EAAcxQ,KAAKsQ,qBAIhChF,EA1DgB,GA8E3B,SAASiC,EAAgBX,GACrB,MAAoB,iBAATA,EACAxB,EAAoByB,SAASD,GAEpCE,YAAYC,OAAOH,GACZ,IAAIzD,WAAWyD,EAAKI,OAAQJ,EAAKK,WAAYL,EAAKM,WAAa/D,WAAWgE,mBAE9E,IAAIhE,WAAWyD,GAzB1BjN,EAAQ2L,OAASA,G,6BCjEjBvK,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAI6J,EAAc,EAAQ,IAItB8E,EAA2B,WAC3B,SAASA,IACLjQ,KAAKyQ,MAAQC,WAAWtH,KAAK+B,EAAY0C,MACzC7N,KAAK2Q,KAAO,IAAID,WAAW,IAC3B1Q,KAAKgN,OAAS,IAAI7D,WAAW,IAC7BnJ,KAAK4Q,aAAe,EACpB5Q,KAAK6Q,YAAc,EAInB7Q,KAAKuQ,UAAW,EAuGpB,OArGAN,EAAUhO,UAAUoK,OAAS,SAAUO,GACnC,GAAI5M,KAAKuQ,SACL,MAAM,IAAI9D,MAAM,iDAEpB,IAAIqE,EAAW,EACX5D,EAAaN,EAAKM,WAEtB,GADAlN,KAAK6Q,aAAe3D,EACG,EAAnBlN,KAAK6Q,YAAkB1F,EAAY2C,oBACnC,MAAM,IAAIrB,MAAM,uCAEpB,KAAOS,EAAa,GAChBlN,KAAKgN,OAAOhN,KAAK4Q,gBAAkBhE,EAAKkE,KACxC5D,IACIlN,KAAK4Q,eAAiBzF,EAAYsC,aAClCzN,KAAK+Q,aACL/Q,KAAK4Q,aAAe,IAIhCX,EAAUhO,UAAUmK,OAAS,WACzB,IAAKpM,KAAKuQ,SAAU,CAChB,IAAIS,EAAgC,EAAnBhR,KAAK6Q,YAClBI,EAAa,IAAIC,SAASlR,KAAKgN,OAAOA,OAAQhN,KAAKgN,OAAOC,WAAYjN,KAAKgN,OAAOE,YAClFiE,EAAoBnR,KAAK4Q,aAG7B,GAFAK,EAAWG,SAASpR,KAAK4Q,eAAgB,KAErCO,EAAoBhG,EAAYsC,YAActC,EAAYsC,WAAa,EAAG,CAC1E,IAAK,IAAIpN,EAAIL,KAAK4Q,aAAcvQ,EAAI8K,EAAYsC,WAAYpN,IACxD4Q,EAAWG,SAAS/Q,EAAG,GAE3BL,KAAK+Q,aACL/Q,KAAK4Q,aAAe,EAExB,IAASvQ,EAAIL,KAAK4Q,aAAcvQ,EAAI8K,EAAYsC,WAAa,EAAGpN,IAC5D4Q,EAAWG,SAAS/Q,EAAG,GAE3B4Q,EAAWI,UAAUlG,EAAYsC,WAAa,EAAG9C,KAAK2G,MAAMN,EAAa,aAAc,GACvFC,EAAWI,UAAUlG,EAAYsC,WAAa,EAAGuD,GACjDhR,KAAK+Q,aACL/Q,KAAKuQ,UAAW,EAIpB,IAAIgB,EAAM,IAAIpI,WAAWgC,EAAYuC,eACrC,IAASrN,EAAI,EAAGA,EAAI,EAAGA,IACnBkR,EAAQ,EAAJlR,GAAUL,KAAKyQ,MAAMpQ,KAAO,GAAM,IACtCkR,EAAQ,EAAJlR,EAAQ,GAAML,KAAKyQ,MAAMpQ,KAAO,GAAM,IAC1CkR,EAAQ,EAAJlR,EAAQ,GAAML,KAAKyQ,MAAMpQ,KAAO,EAAK,IACzCkR,EAAQ,EAAJlR,EAAQ,GAAML,KAAKyQ,MAAMpQ,KAAO,EAAK,IAE7C,OAAOkR,GAEXtB,EAAUhO,UAAU8O,WAAa,WAG7B,IAFA,IAAe/D,EAANhN,KAAkBgN,OAAQyD,EAA1BzQ,KAAqCyQ,MAC1Ce,EAASf,EAAM,GAAIgB,EAAShB,EAAM,GAAIiB,EAASjB,EAAM,GAAIkB,EAASlB,EAAM,GAAImB,EAASnB,EAAM,GAAIoB,EAASpB,EAAM,GAAIqB,EAASrB,EAAM,GAAIsB,EAAStB,EAAM,GAC/IpQ,EAAI,EAAGA,EAAI8K,EAAYsC,WAAYpN,IAAK,CAC7C,GAAIA,EAAI,GACJL,KAAK2Q,KAAKtQ,IACY,IAAhB2M,EAAW,EAAJ3M,KAAkB,IACD,IAApB2M,EAAW,EAAJ3M,EAAQ,KAAc,IACT,IAApB2M,EAAW,EAAJ3M,EAAQ,KAAc,EACV,IAApB2M,EAAW,EAAJ3M,EAAQ,OAEvB,CACD,IAAI2R,EAAIhS,KAAK2Q,KAAKtQ,EAAI,GAClB4R,GAASD,IAAM,GAAOA,GAAK,KAASA,IAAM,GAAOA,GAAK,IAAQA,IAAM,GAEpEE,IADJF,EAAIhS,KAAK2Q,KAAKtQ,EAAI,OACC,EAAM2R,GAAK,KAASA,IAAM,GAAOA,GAAK,IAAQA,IAAM,EACvEhS,KAAK2Q,KAAKtQ,IACJ4R,EAAOjS,KAAK2Q,KAAKtQ,EAAI,GAAM,IAAO6R,EAAOlS,KAAK2Q,KAAKtQ,EAAI,IAAO,GAExE,IAAI8R,KAAWP,IAAW,EAAMA,GAAU,KACpCA,IAAW,GAAOA,GAAU,KAC5BA,IAAW,GAAOA,GAAU,KAC5BA,EAASC,GAAYD,EAASE,GAChC,IACEC,GAAW5G,EAAYwC,IAAItN,GAAKL,KAAK2Q,KAAKtQ,GAAM,GAAM,GACxD,EACA+R,IAASZ,IAAW,EAAMA,GAAU,KAClCA,IAAW,GAAOA,GAAU,KAC5BA,IAAW,GAAOA,GAAU,MAC5BA,EAASC,EAAWD,EAASE,EAAWD,EAASC,GACnD,EACJK,EAASD,EACTA,EAASD,EACTA,EAASD,EACTA,EAAUD,EAASQ,EAAM,EACzBR,EAASD,EACTA,EAASD,EACTA,EAASD,EACTA,EAAUW,EAAKC,EAAM,EAEzB3B,EAAM,IAAMe,EACZf,EAAM,IAAMgB,EACZhB,EAAM,IAAMiB,EACZjB,EAAM,IAAMkB,EACZlB,EAAM,IAAMmB,EACZnB,EAAM,IAAMoB,EACZpB,EAAM,IAAMqB,EACZrB,EAAM,IAAMsB,GAET9B,EAjHmB,GAmH9BtQ,EAAQsQ,UAAYA,G,6BCxHpBlP,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACxC,EAAQ,GACdmF,aAAa,EAAQ,IAAwB9G,I,6BCFrDoB,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAIyO,EAAU,EAAQ,GAClBsC,EAAsB,CACtB,UACA,SACA,UACA,YACA,cACA,YACA,OACA,UAWJ,SAASC,EAAqBlI,GAC1B,MAAsB,iBAAXA,GAAgD,iBAAlBA,EAAOG,QAEV,mBADZH,EAAOG,OAAOD,gBAM5C,SAASiI,EAAqB7G,GAC1B,OAAQA,GACJ2G,EAAoBG,OAAM,SAAUC,GAAc,MAAqC,mBAAvB/G,EAAO+G,MAX/E9S,EAAQiQ,kBARR,SAA2BxF,GACvB,SAAIkI,EAAqBlI,IACW,iBAAzBA,EAAOG,OAAOmB,SAEd6G,EADMnI,EAAOG,OAAOmB,SAanC/L,EAAQ2S,qBAAuBA,EAK/B3S,EAAQ4S,qBAAuBA,EAgC/B5S,EAAQ+S,oBA/BR,SAA6BhH,GACzB,OAAOqE,EAAQ1L,UAAUrE,UAAM,OAAQ,GAAQ,WAC3C,IAAI4B,EACJ,OAAOmO,EAAQ3K,YAAYpF,MAAM,SAAU2S,GACvC,OAAQA,EAAGjN,OACP,KAAK,EACD,IAAK6M,EAAqB7G,GACtB,MAAO,CAAC,GAAc,GAC1BiH,EAAGjN,MAAQ,EACf,KAAK,EAED,OADAiN,EAAG/M,KAAKQ,KAAK,CAAC,EAAG,EAAG,CAAE,IACf,CAAC,EAAasF,EAAOkH,YAAY,CAAEhS,KAAM,UAAWoC,OAAQ,MAAO,EAAO,CAAC,aACtF,KAAK,EAED,OADApB,EAAM+Q,EAAGhN,OACF,CAAC,EAAa+F,EAAOmH,QAAQ,CAC5BjS,KAAM,UACNkS,GAAI,IAAI3J,WAAW1G,MAAM,KACzBsQ,eAAgB,IAAI5J,WAAW1G,MAAM,KACrCuQ,UAAW,KACZpR,EAAK,IAAIuH,WAAW,KAC/B,KAAK,EAED,MAAO,CAAC,EAA6C,KADnCwJ,EAAGhN,OACiBuH,YAC1C,KAAK,EAED,OADKyF,EAAGhN,OACD,CAAC,GAAc,GAC1B,KAAK,EAAG,MAAO,CAAC,Y,6BC5DhC5E,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACxC,EAAQ,GACdmF,aAAa,EAAQ,IAAe9G,I,6BCF5CoB,OAAOC,eAAerB,EAAS,aAAc,CAAE2B,OAAO,IACtD,IAAI2R,EAAwB,CACxB,UACA,SACA,UACA,YACA,cACA,YACA,OACA,UAmBJtT,EAAQkQ,WAVR,SAAoBzF,GAChB,GARJ,SAA8BA,GAC1B,MAAO,yBAA0BA,GAAU,aAAcA,EAOrD8I,CAAqB9I,SAAsC5D,IAA3B4D,EAAOI,SAASkB,OAAsB,CACtE,IAAI8E,EAAKpG,EAAOI,SAAUF,EAAkBkG,EAAGlG,gBAAiB6I,EAAW3C,EAAG9E,OAC9E,OAAOuH,EACFpJ,KAAI,SAAU4I,GAAc,OAAOU,EAASV,MAC5C1L,OAAOuD,GACPkI,OAAM,SAAUY,GAAU,MAAyB,mBAAXA,KAEjD,OAAO,I,4VCNL,EAAS,oBAAf,gCAEA,aAIG,SAAF,UAAY,cACP,KAAJ,UA8BF,OA3BG,EAAF,gCAKC,YALS,cACL,KAAJ,QAAY,OAAQ,KAAR,SAAZ,GAEI,EAAJ,MAAa,aAAa,KAA1B,kBAAoD,KAApD,SAEO,KAAP,SAGC,EAAF,iCACK,MAAJ,gBAKC,OAAF,eAAc,EAAd,oBAAqB,C,IAArB,WACC,YAAY,KAAZ,U,YADoB,E,kBAatB,EAnCA,GCPI/Q,EAAgB,SAAS1B,EAAG2B,GAI5B,OAHAD,EAAgBtB,OAAOwB,gBAClB,CAAEC,UAAW,cAAgBC,OAAS,SAAU9B,EAAG2B,GAAK3B,EAAE6B,UAAYF,IACvE,SAAU3B,EAAG2B,GAAK,IAAK,IAAIH,KAAKG,EAAOvB,OAAOkB,UAAUC,eAAe1B,KAAK8B,EAAGH,KAAIxB,EAAEwB,GAAKG,EAAEH,MAC3ExB,EAAG2B,IAGrB,SAASI,EAAU/B,EAAG2B,GAEzB,SAASK,IAAO3C,KAAK4C,YAAcjC,EADnC0B,EAAc1B,EAAG2B,GAEjB3B,EAAEsB,UAAkB,OAANK,EAAavB,OAAOY,OAAOW,IAAMK,EAAGV,UAAYK,EAAEL,UAAW,IAAIU,GAG5E,IAAI,EAAW,WAQlB,OAPA,EAAW5B,OAAO+B,QAAU,SAAkBvB,GAC1C,IAAK,IAAIa,EAAG/B,EAAI,EAAGyB,EAAIiB,UAAUC,OAAQ3C,EAAIyB,EAAGzB,IAE5C,IAAK,IAAI8B,KADTC,EAAIW,UAAU1C,GACOU,OAAOkB,UAAUC,eAAe1B,KAAK4B,EAAGD,KAAIZ,EAAEY,GAAKC,EAAED,IAE9E,OAAOZ,IAEK0B,MAAMjD,KAAM+C,YA8BzB,SAASsB,EAAUC,EAASC,EAAYC,EAAGC,GAE9C,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUvD,GAAS,IAAMwD,EAAKL,EAAUM,KAAKzD,IAAW,MAAO6B,GAAKyB,EAAOzB,IACpF,SAAS6B,EAAS1D,GAAS,IAAMwD,EAAKL,EAAiB,MAAEnD,IAAW,MAAO6B,GAAKyB,EAAOzB,IACvF,SAAS2B,EAAKG,GAJlB,IAAe3D,EAIa2D,EAAOC,KAAOP,EAAQM,EAAO3D,QAJ1CA,EAIyD2D,EAAO3D,MAJhDA,aAAiBkD,EAAIlD,EAAQ,IAAIkD,GAAE,SAAUG,GAAWA,EAAQrD,OAIT6D,KAAKN,EAAWG,GAClGF,GAAML,EAAYA,EAAUxB,MAAMqB,EAASC,GAAc,KAAKQ,WAI/D,SAASK,EAAYd,EAASe,GACjC,IAAsGC,EAAGC,EAAGhE,EAAGiE,EAA3GC,EAAI,CAAEC,MAAO,EAAGC,KAAM,WAAa,GAAW,EAAPpE,EAAE,GAAQ,MAAMA,EAAE,GAAI,OAAOA,EAAE,IAAOqE,KAAM,GAAIC,IAAK,IAChG,OAAOL,EAAI,CAAET,KAAMe,EAAK,GAAI,MAASA,EAAK,GAAI,OAAUA,EAAK,IAAwB,mBAAX1E,SAA0BoE,EAAEpE,OAAO2E,UAAY,WAAa,OAAO/F,OAAUwF,EACvJ,SAASM,EAAKhE,GAAK,OAAO,SAAUkE,GAAK,OACzC,SAAcC,GACV,GAAIX,EAAG,MAAM,IAAIY,UAAU,mCAC3B,KAAOT,GAAG,IACN,GAAIH,EAAI,EAAGC,IAAMhE,EAAY,EAAR0E,EAAG,GAASV,EAAU,OAAIU,EAAG,GAAKV,EAAS,SAAOhE,EAAIgE,EAAU,SAAMhE,EAAEf,KAAK+E,GAAI,GAAKA,EAAER,SAAWxD,EAAIA,EAAEf,KAAK+E,EAAGU,EAAG,KAAKf,KAAM,OAAO3D,EAE3J,OADIgE,EAAI,EAAGhE,IAAG0E,EAAK,CAAS,EAARA,EAAG,GAAQ1E,EAAED,QACzB2E,EAAG,IACP,KAAK,EAAG,KAAK,EAAG1E,EAAI0E,EAAI,MACxB,KAAK,EAAc,OAAXR,EAAEC,QAAgB,CAAEpE,MAAO2E,EAAG,GAAIf,MAAM,GAChD,KAAK,EAAGO,EAAEC,QAASH,EAAIU,EAAG,GAAIA,EAAK,CAAC,GAAI,SACxC,KAAK,EAAGA,EAAKR,EAAEI,IAAIM,MAAOV,EAAEG,KAAKO,MAAO,SACxC,QACI,KAAM5E,EAAIkE,EAAEG,MAAMrE,EAAIA,EAAEyB,OAAS,GAAKzB,EAAEA,EAAEyB,OAAS,KAAkB,IAAViD,EAAG,IAAsB,IAAVA,EAAG,IAAW,CAAER,EAAI,EAAG,SACjG,GAAc,IAAVQ,EAAG,MAAc1E,GAAM0E,EAAG,GAAK1E,EAAE,IAAM0E,EAAG,GAAK1E,EAAE,IAAM,CAAEkE,EAAEC,MAAQO,EAAG,GAAI,MAC9E,GAAc,IAAVA,EAAG,IAAYR,EAAEC,MAAQnE,EAAE,GAAI,CAAEkE,EAAEC,MAAQnE,EAAE,GAAIA,EAAI0E,EAAI,MAC7D,GAAI1E,GAAKkE,EAAEC,MAAQnE,EAAE,GAAI,CAAEkE,EAAEC,MAAQnE,EAAE,GAAIkE,EAAEI,IAAIO,KAAKH,GAAK,MACvD1E,EAAE,IAAIkE,EAAEI,IAAIM,MAChBV,EAAEG,KAAKO,MAAO,SAEtBF,EAAKZ,EAAK7E,KAAK8D,EAASmB,GAC1B,MAAOtC,GAAK8C,EAAK,CAAC,EAAG9C,GAAIoC,EAAI,EAAK,QAAUD,EAAI/D,EAAI,EACtD,GAAY,EAAR0E,EAAG,GAAQ,MAAMA,EAAG,GAAI,MAAO,CAAE3E,MAAO2E,EAAG,GAAKA,EAAG,QAAK,EAAQf,MAAM,GArB9BJ,CAAK,CAAChD,EAAGkE,MAyBhCjF,OAAOY,OAwB7B,SAASgF,EAAO7F,EAAGgB,GACtB,IAAIrB,EAAsB,mBAAXW,QAAyBN,EAAEM,OAAO2E,UACjD,IAAKtF,EAAG,OAAOK,EACf,IAAmBK,EAAYgC,EAA3B9C,EAAII,EAAED,KAAKM,GAAO8F,EAAK,GAC3B,IACI,WAAc,IAAN9E,GAAgBA,KAAM,MAAQX,EAAId,EAAE0E,QAAQG,MAAM0B,EAAGR,KAAKjF,EAAEG,OAExE,MAAOuF,GAAS1D,EAAI,CAAE0D,MAAOA,GAC7B,QACI,IACQ1F,IAAMA,EAAE+D,OAASzE,EAAIJ,EAAU,SAAII,EAAED,KAAKH,GAElD,QAAU,GAAI8C,EAAG,MAAMA,EAAE0D,OAE7B,OAAOD,EAoDc7F,OAAOY,O,0BCnM5B0R,EAA8B,WAC9B,SAASA,EAAaxE,GAClB7O,KAAKsT,WAAazE,EAAQyE,WAC1BtT,KAAKuT,QAAU1E,EAAQ0E,SAAW,GAClCvT,KAAKqF,KAAOwJ,EAAQxJ,KASxB,OAPAgO,EAAaG,WAAa,SAAUC,GAEhC,IAAKA,EACD,OAAO,EACX,IAAIC,EAAOD,EACX,MAAkC,iBAApBC,EAAKJ,YAAmD,iBAAjBI,EAAKH,SAEvDF,EAbsB,GCC7B,EAA6B,WAC7B,SAASM,EAAY9E,GACjB7O,KAAKoT,OAASvE,EAAQuE,QAAU,MAChCpT,KAAK4T,SAAW/E,EAAQ+E,UAAY,YACpC5T,KAAK6T,KAAOhF,EAAQgF,KACpB7T,KAAK8T,MAAQjF,EAAQiF,OAAS,GAC9B9T,KAAKuT,QAAU1E,EAAQ0E,SAAW,GAClCvT,KAAKqF,KAAOwJ,EAAQxJ,KACpBrF,KAAK+T,SAAWlF,EAAQkF,SACc,MAAhClF,EAAQkF,SAASjJ,QAAQ,GACrB+D,EAAQkF,SAAW,IACnBlF,EAAQkF,SACZ,SACN/T,KAAKgU,KAAOnF,EAAQmF,KAAmC,MAA3BnF,EAAQmF,KAAKC,OAAO,GAAa,IAAMpF,EAAQmF,KAAOnF,EAAQmF,KAAQ,IAoBtG,OAlBAL,EAAYH,WAAa,SAAUU,GAE/B,IAAKA,EACD,OAAO,EACX,IAAIC,EAAMD,EACV,MAAQ,WAAYC,GAChB,aAAcA,GACd,aAAcA,GACd,SAAUA,GACc,iBAAjBA,EAAW,OACQ,iBAAnBA,EAAa,SAE5BR,EAAY1R,UAAUmS,MAAQ,WAC1B,IAQYN,EARRO,EAAS,IAAIV,EAAY,mBAAS,mBAAS,GAAI3T,MAAO,CAAEuT,QAAS,mBAAS,GAAIvT,KAAKuT,YAGvF,OAFIc,EAAOP,QACPO,EAAOP,OAMCA,EANkBO,EAAOP,MAOlC/S,OAAOuT,KAAKR,GAAOS,QAAO,SAAUC,EAAOC,GAC9C,IAAIjE,EACAkE,EAAQZ,EAAMW,GAClB,OAAO,mBAAS,mBAAS,GAAID,KAAShE,EAAK,IAAOiE,GAAahS,MAAMkS,QAAQD,GAAS,mBAASA,GAASA,EAAOlE,MAChH,MAVQ6D,GAEJV,EAjCqB,GCDzB,SAASiB,EAAUC,GACtB,IAAIC,EAASC,mBAAmBF,GAGhC,OADAC,EAASA,EAAOE,QAAQ,WAAYC,GAGxC,SAASA,EAAUvU,GACf,MAAO,IAAMA,EAAEuI,WAAW,GAAGc,SAAS,IAAImL,cCL9C,ICEA,IAAI,EAAkC,WAClC,SAASC,EAAiBC,QACF,IAAhBA,IAA0BA,EAAc,IAC5CpV,KAAKoV,YAAcA,EAqFvB,OAnFAD,EAAiBlT,UAAUoT,QAAU,aAIrCF,EAAiBlT,UAAUqT,OAAS,SAAUpB,EAASrF,GACnD,IAAI0G,EAAc1G,aAAyC,EAASA,EAAQ0G,YACxEC,EAAqBxV,KAAKoV,YAAYK,eAE1C,GAAIF,aAAiD,EAASA,EAAYG,QAAS,CAC/E,IAAIC,EAAa,IAAIlJ,MAAM,mBAE3B,OADAkJ,EAAW/U,KAAO,aACX8D,QAAQE,OAAO+Q,GAE1B,IAAI3B,EAAOE,EAAQF,KACnB,GAAIE,EAAQJ,MAAO,CACf,IAAI8B,ECtBT,SAA0B9B,GAC7B,IAAI+B,EAAKrF,EACLsF,EAAQ,GACZ,IACI,IAAK,IAAInD,EAAK,mBAAS5R,OAAOuT,KAAKR,GAAOiC,QAASC,EAAKrD,EAAG5N,QAASiR,EAAG9Q,KAAM8Q,EAAKrD,EAAG5N,OAAQ,CACzF,IAAInD,EAAMoU,EAAG1U,MACTA,EAAQwS,EAAMlS,GAElB,GADAA,EAAMgT,EAAUhT,GACZa,MAAMkS,QAAQrT,GACd,IAAK,IAAIjB,EAAI,EAAG4V,EAAO3U,EAAM0B,OAAQ3C,EAAI4V,EAAM5V,IAC3CyV,EAAM1P,KAAKxE,EAAM,IAAMgT,EAAUtT,EAAMjB,SAG1C,CACD,IAAI6V,EAAUtU,GACVN,GAA0B,iBAAVA,KAChB4U,GAAW,IAAMtB,EAAUtT,IAE/BwU,EAAM1P,KAAK8P,KAIvB,MAAOC,GAASN,EAAM,CAAEhP,MAAOsP,GAC/B,QACI,IACQH,IAAOA,EAAG9Q,OAASsL,EAAKmC,EAAGyD,SAAS5F,EAAGhQ,KAAKmS,GAEpD,QAAU,GAAIkD,EAAK,MAAMA,EAAIhP,OAEjC,OAAOiP,EAAM9L,KAAK,KDPQqM,CAAiBnC,EAAQJ,OACvC8B,IACA5B,GAAQ,IAAM4B,GAGtB,IAAI/B,EAAOK,EAAQL,KACfyC,EAAMpC,EAAQH,SAAW,KAAOG,EAAQN,UAAYC,EAAO,IAAMA,EAAO,IAAMG,EAC9EuC,EAAiB,CACjBlR,KAAM6O,EAAQ7O,KACdkO,QAAS,IAAIiD,QAAQtC,EAAQX,SAC7BH,OAAQc,EAAQd,QAGW,oBAApBqD,kBACPF,EAAuB,OAAIhB,GAE/B,IExCuBmB,EFwCnBC,EAAe,IAAIC,QAAQN,EAAKC,GAChCM,EAAiB,CACjBC,MAAMH,GAAcxR,MAAK,SAAUsO,GAC/B,IAAIoC,EAAKrF,EACLuG,EAAetD,EAASF,QACxByD,EAAqB,GACzB,IACI,IAAK,IAAIrE,EAAK,mBAASoE,EAAaE,WAAYjB,EAAKrD,EAAG5N,QAASiR,EAAG9Q,KAAM8Q,EAAKrD,EAAG5N,OAAQ,CACtF,IAAImS,EAAOlB,EAAG1U,MACd0V,EAAmBE,EAAK,IAAMA,EAAK,IAG3C,MAAOf,GAASN,EAAM,CAAEhP,MAAOsP,GAC/B,QACI,IACQH,IAAOA,EAAG9Q,OAASsL,EAAKmC,EAAGyD,SAAS5F,EAAGhQ,KAAKmS,GAEpD,QAAU,GAAIkD,EAAK,MAAMA,EAAIhP,OAIjC,YAF0CL,IAAlBiN,EAASpO,KAY1B,CACHoO,SAAU,IAAIJ,EAAa,CACvBE,QAASyD,EACT1D,WAAYG,EAAS0D,OACrB9R,KAAMoO,EAASpO,QAbZoO,EAAS2D,OAAOjS,MAAK,SAAUE,GAAQ,MAAO,CACjDoO,SAAU,IAAIJ,EAAa,CACvBE,QAASyD,EACT1D,WAAYG,EAAS0D,OACrB9R,KAAMA,YElEHqR,EF+EJlB,OE9EH,IAAhBkB,IAA0BA,EAAc,GACrC,IAAIhS,SAAQ,SAAUC,EAASC,GAC9B8R,GACAW,YAAW,WACP,IAAIC,EAAe,IAAI7K,MAAM,mCAAqCiK,EAAc,OAChFY,EAAa1W,KAAO,eACpBgE,EAAO0S,KACRZ,QFkFP,OATInB,GACAsB,EAAezQ,KAAK,IAAI1B,SAAQ,SAAUC,EAASC,GAC/C2Q,EAAYgC,QAAU,WAClB,IAAI5B,EAAa,IAAIlJ,MAAM,mBAC3BkJ,EAAW/U,KAAO,aAClBgE,EAAO+Q,QAIZjR,QAAQ8S,KAAKX,IAEjB1B,EAxF0B,GDJjCsC,EAAqB,GACrBC,EAAkB,IAAIjV,MAAM,IACvB,EAAI,EAAGkV,EAAQ,IAAI1O,WAAW,GAAI2O,EAAQ,IAAI3O,WAAW,GAAI,EAAI0O,GAASC,EAAO,IAAK,CAC3F,IAAI,EAAOnO,OAAOC,aAAa,EAAIiO,GACnCF,EAAmB,GAAQ,EAC3BC,EAAgB,GAAK,EAEzB,IAAS,EAAI,EAAGC,EAAQ,IAAI1O,WAAW,GAAI2O,EAAQ,IAAI3O,WAAW,GAAI,EAAI0O,GAASC,EAAO,IAAK,CACvF,EAAOnO,OAAOC,aAAa,EAAIiO,GAAnC,IACIE,EAAQ,EAAI,GAChBJ,EAAmB,GAAQI,EAC3BH,EAAgBG,GAAS,EAE7B,IAAS,EAAI,EAAG,EAAI,GAAI,IAAK,CACzBJ,EAAmB,EAAE1N,SAAS,KAAO,EAAI,GACrC,EAAO,EAAEA,SAAS,IAClB8N,EAAQ,EAAI,GAChBJ,EAAmB,GAAQI,EAC3BH,EAAgBG,GAAS,EAE7BJ,EAAmB,KAAO,GAC1BC,EAAgB,IAAM,IACtBD,EAAmB,KAAO,GAC1BC,EAAgB,IAAM,IAWf,SAASI,EAAWlP,GACvB,IAAImP,EAAmBnP,EAAM5F,OAAS,EAAK,EAClB,OAArB4F,EAAMkC,QAAQ,GACdiN,GAAmB,EAEO,MAArBnP,EAAMkC,QAAQ,IACnBiN,IAIJ,IAFA,IAAIxG,EAAM,IAAIzE,YAAYiL,GACtBC,EAAW,IAAI9G,SAASK,GACnBlR,EAAI,EAAGA,EAAIuI,EAAM5F,OAAQ3C,GAAK,EAAG,CAGtC,IAFA,IAAI4X,EAAO,EACPC,EAAY,EACP/Q,EAAI9G,EAAGuX,EAAQvX,EAAI,EAAG8G,GAAKyQ,EAAOzQ,IACtB,MAAbyB,EAAMzB,IACN8Q,GAAQR,EAAmB7O,EAAMzB,KAzB7B,GAyBsCyQ,EAAQzQ,GAClD+Q,GA1BI,GA6BJD,IA7BI,EAgCZ,IAAIE,EAAe9X,EAAI,EAAK,EAC5B4X,IAASC,EAhCC,EAkCV,IADA,IAAIhL,EAAavC,KAAK2G,MAAM4G,EAjClB,GAkCD5R,EAAI,EAAGA,EAAI4G,EAAY5G,IAAK,CACjC,IAAI0E,EAnCE,GAmCQkC,EAAa5G,EAAI,GAC/B0R,EAAS5G,SAAS+G,EAAc7R,GAAI2R,EAAQ,KAAOjN,IAAYA,IAGvE,OAAO,IAAI7B,WAAWoI,GIb1B,SAAS6G,EAAahB,GAClB,OAAO,IAAI1S,SAAQ,SAAUC,EAASC,GAClC,IAAIyT,EAAS,IAAIC,WACjBD,EAAOE,UAAY,WACf,IAAI/H,EAGJ,GAA0B,IAAtB6H,EAAOG,WACP,OAAO5T,EAAO,IAAI6H,MAAM,6BAE5B,IAAIxH,EAAmC,QAAxBuL,EAAK6H,EAAOpT,cAA2B,IAAPuL,EAAgBA,EAAK,GAGhEiI,EAAaxT,EAAO7B,QAAQ,KAC5BsV,EAAaD,GAAc,EAAIA,EAAa,EAAIxT,EAAOjC,OAC3D2B,EAAQM,EAAO0T,UAAUD,KAE7BL,EAAOd,QAAU,WAAc,OAAO3S,EAAO,IAAI6H,MAAM,kBACvD4L,EAAOtM,QAAU,WAAc,OAAOnH,EAAOyT,EAAOxR,QAEpDwR,EAAOO,cAAcxB,MCvEtB,IAAIyB,EAAkB,SAAUC,GAAW,OAAO,WACrD,MAAM,IAAIrM,MAAMqM,KCGTC,EAAyB,CAChCnY,KAAM,kBACNoY,KAAM,CAAC,SACPlU,KAAM,kBACNmU,SAAU,QAEHC,EAAiB,SAAUrK,GAAW,MAAO,CACpDsK,aAAc,SAAUC,GACpBA,EAAYC,IAXS,SAAUxK,GAAW,OAAO,SAAU9J,GAAQ,OAAO,SAAUuU,GAAQ,OAAO,yBAAU,OAAQ,OAAQ,GAAQ,WAAc,OAAO,sBAAYtZ,MAAM,SAAUwQ,GAC1L,MAAO,CAAC,EAAc3B,EAAQ0K,cAAcC,MAAMzU,EAAMuU,YAUpCG,CAAgB5K,GAAUkK,MCLvCW,EAAyB,CAChC,cACA,4BACA,iBACA,qBACA,uBACA,yBAOOC,EAAyB,CAChC,aACA,sBACA,qBACA,4BACA,2BACA,yCACA,iCACA,uBACA,yBACA,yBACA,mBACA,WACA,0BACA,yBAKOC,EAAwB,CAAC,aAAc,eAAgB,iBAAkB,2BAIzEC,EAA+B,CAAC,IAAK,IAAK,IAAK,KCxC/CC,EAAoB,SAAUjT,GAAS,IAAI2J,EAAI,OAAOmJ,EAAuBI,SAASlT,EAAMjG,OAAyF,IAAnD,QAA3B4P,EAAK3J,EAAMmT,kBAA+B,IAAPxJ,OAAgB,EAASA,EAAGyJ,a,QCCtKC,EAAsB,SAAUC,EAAWC,GAClD,OAAOzP,KAAK2G,MAAM3G,KAAK0P,ICIM,IDJmB1P,KAAKC,SAAWD,KAAKoD,IAAI,EAAGqM,GAAYD,KEJjFG,EAAsB,SAAUzT,GACvC,QAAKA,IHDuB,SAAUA,GAAS,YAA4BL,IAArBK,EAAMmT,WGIrDO,CAAmB1T,IHHA,SAAUA,GAAS,OAAO6S,EAAuBK,SAASlT,EAAMjG,MGGtD4Z,CAAiB3T,IAAUiT,EAAkBjT,IHDvD,SAAUA,GACpC,IAAI2J,EACJ,OAAOoJ,EAAsBG,SAASlT,EAAMjG,OACxCiZ,EAA6BE,UAAqC,QAA1BvJ,EAAK3J,EAAM4T,iBAA8B,IAAPjK,OAAgB,EAASA,EAAGkK,iBAAmB,GGFlCC,CAAiB9T,KCY5G,EAAuC,WACvC,SAAS+T,EAAsBC,EAAqBhM,GAChD,IAAI2B,EAAImC,EAAIqD,EClBwB8E,EACpCC,EACAC,EACAC,EACAC,EDeAlb,KAAK6a,oBAAsBA,EAC3B7a,KAAKmb,aAAiG,QAAjF3K,EAAK3B,aAAyC,EAASA,EAAQsM,oBAAiC,IAAP3K,EAAgBA,EAAK8J,EACnIta,KAAKob,aAAiG,QAAjFzI,EAAK9D,aAAyC,EAASA,EAAQuM,oBAAiC,IAAPzI,EAAgBA,EAAKuH,EACnIla,KAAKqb,WAA6F,QAA/ErF,EAAKnH,aAAyC,EAASA,EAAQwM,kBAA+B,IAAPrF,EAAgBA,GCrB1H+E,EADoCD,EHiBV,IGf1BE,EAAoBF,EACpBG,EAAoB,SAAUpU,GAAS,MAAuB,iBAAfA,EAAMjG,KHuB7B,GALR,GGjBhBsa,EAAiB,SAAUrU,GAAS,OAAOoU,EAAkBpU,IAAUmU,GAcpEja,OAAOua,OAAO,CACjBJ,eAAgBA,EAChBK,oBAfsB,SAAU1U,GAChC,IAAKqU,EAAerU,GAEhB,MAAM,IAAI4F,MAAM,4BAEpB,IAAI+O,EAAiBP,EAAkBpU,GAEvC,OADAmU,GAAqBQ,EACdA,GASPC,mBAPqB,SAAUC,GAC/BV,GAAqBU,QAAqEA,EHgBlE,EGfxBV,EAAoBrQ,KAAK0P,IAAIW,EAAmBD,ODmGpD,OA3FAH,EAAsB3Y,UAAU0Z,YAAc,SAAU9U,EAAOuT,EAAUwB,GACrE,OAAOxB,EAAWwB,GAAe5b,KAAKmb,aAAatU,IAAU7G,KAAKqb,WAAWH,eAAerU,IAEhG+T,EAAsB3Y,UAAU4Z,eAAiB,WAC7C,OAAO,oBAAU7b,UAAM,OAAQ,GAAQ,WACnC,IAAI4b,EACJ,OAAO,sBAAY5b,MAAM,SAAUwQ,GAC/B,OAAQA,EAAG9K,OACP,KAAK,EAED,OADA8K,EAAG5K,KAAKQ,KAAK,CAAC,EAAG,EAAG,CAAE,IACf,CAAC,EAAapG,KAAK6a,uBAC9B,KAAK,EAED,OADAe,EAAcpL,EAAG7K,OACV,CAAC,EAAa,GACzB,KAAK,EAGD,OAFU6K,EAAG7K,OACbiW,EA7BU,EA8BH,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAcA,WAK9ChB,EAAsB3Y,UAAUuX,MAAQ,SAAUzU,EAAMuU,GACpD,OAAO,oBAAUtZ,UAAM,OAAQ,GAAQ,WACnC,IAAI8b,EAAkB1B,EAAU2B,EAAYH,EAAa1H,EAAS8H,EAASC,EAAQC,EACnF,OAAO,sBAAYlc,MAAM,SAAUwQ,GAC/B,OAAQA,EAAG9K,OACP,KAAK,EAGD,OAFA0U,EAAW,EACX2B,EAAa,EACN,CAAC,EAAa/b,KAAK6b,kBAC9B,KAAK,EACDD,EAAcpL,EAAG7K,OACjBuO,EAAUoF,EAAKpF,QACX,EAAYV,WAAWU,KACvBA,EAAQX,QAAQ,yBAA2B,gBAE/CyI,EAAU,WACN,IAAIxL,EAAIiD,EAAUqB,EAAQqH,EAAOC,EACjC,OAAO,sBAAYpc,MAAM,SAAU2S,GAC/B,OAAQA,EAAGjN,OACP,KAAK,EAKD,OAJAiN,EAAG/M,KAAKQ,KAAK,CAAC,EAAG,EAAG,CAAE,IAClB,EAAYoN,WAAWU,KACvBA,EAAQX,QAAQ,mBAAqB,YAAc6G,EAAW,GAAK,SAAWwB,GAE3E,CAAC,EAAa7W,EAAKuU,IAC9B,KAAK,EAKD,OAJA9I,EAAKmC,EAAGhN,OAAQ8N,EAAWjD,EAAGiD,SAAUqB,EAAStE,EAAGsE,OACpDmH,EAAOZ,WAAWI,mBAAmBK,GACrChH,EAAO2F,UAAUL,SAAWA,EAAW,EACvCtF,EAAO2F,UAAU4B,gBAAkBN,EAC5B,CAAC,EAAc,CAAEza,MAAO,CAAEmS,SAAUA,EAAUqB,OAAQA,KACjE,KAAK,EAGD,OAFAqH,EAAQxJ,EAAGhN,OACXyU,IACK6B,EAAON,YAAYQ,EAAO/B,EAAUwB,IACzCE,EAAmBG,EAAOZ,WAAWE,oBAAoBY,GACzDC,EAAUH,EAAOb,aAAatB,EAAkBqC,GFtE/C,IAVH,IEgFmH/B,GACjH2B,GAAcK,EACP,CAAC,EAAa,IAAI1X,SAAQ,SAAUC,GAAW,OAAO0S,WAAW1S,EAASyX,QAJnB,CAAC,EAAa,GAKhF,KAAK,EAED,OADAzJ,EAAGhN,OACI,CAAC,EAAc,YAC1B,KAAK,EAMD,MALKwW,EAAM1B,YACP0B,EAAM1B,UAAY,IAEtB0B,EAAM1B,UAAUL,SAAWA,EAC3B+B,EAAM1B,UAAU4B,gBAAkBN,EAC5BI,EACV,KAAK,EAAG,MAAO,CAAC,QAI5BF,EAASjc,KACTwQ,EAAG9K,MAAQ,EACf,KAAK,EAED,MAAO,CAAC,EAAcsW,KAC1B,KAAK,EAED,MAAuB,iBADvBE,EAAU1L,EAAG7K,QAEF,CAAC,EAAcuW,EAAQ5a,OAC3B,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,WAKzBsZ,EAnG+B,GEctC0B,EAAuB,SAAUV,GAEjC,QADoB,IAAhBA,IAA0BA,EFpBA,GEqBH,iBAAhBA,EAA0B,CACjC,IAAIW,EAAgB7X,QAAQC,QAAQiX,GACpC,OAAO,WAAc,OAAOW,GAEhC,OAAOX,G,ICrCsBY,EAAaC,E,OCO1CC,EAAc,IAAIC,IAAI,CACtB,YACA,iBACA,iBACA,aACA,iBACA,iBACA,eACA,eACA,aACA,YACA,YACA,YACA,aACA,YACA,YACA,YACA,YACA,cAEAC,EAAiB,IAAID,IAAI,CAAC,aAAc,mBACxCE,EAAkB,IAAIF,IAAI,CAAC,kBAC3BG,EAAoB,IAAIH,IAAI,CAAC,mBAC7BI,EAAqB,IAAIJ,IAAI,CAAC,gBAAiB,kBClBxCK,EAAsB,EAAS,EAAS,GCXnB,CAC5BC,WAAY,aACZC,mBAAmB,EACnBC,mBF2BmC,SAAUC,EAAQvO,GACrD,IAAIwO,OAAa7W,EACjB,OAAQ4W,GAEJ,IAAK,YACDC,EAAa,CACTzJ,SAAU,sCACV0J,UAAW,MACXC,eAAgB,OAEpB,MACJ,IAAK,YACDF,EAAa,CACTzJ,SAAU,sCACV0J,UAAW,MACXC,eAAgB,OAEpB,MACJ,IAAK,YACDF,EAAa,CACTzJ,SAAU,sCACV0J,UAAW,MACXC,eAAgB,OAEpB,MAEJ,QACQb,EAAYjU,IAAI2U,KAChBC,EAAa,CACTzJ,SA3DD,qCA2DwBoB,QAAQ,WAAYoI,GAC3CE,UAAW,MACXC,eAAgB,QAGpBX,EAAenU,IAAI2U,KACnBC,EAAa,CACTzJ,SAjEE,wCAiEwBoB,QAAQ,WAAYoI,GAC9CE,UAAW,WAGfT,EAAgBpU,IAAI2U,KACpBC,EAAa,CACTzJ,SAtEG,kCAsEwBoB,QAAQ,WAAYoI,GAC/CE,UAAW,YAGfR,EAAkBrU,IAAI2U,KACtBC,EAAa,CACTzJ,SA3EK,qCA2EwBoB,QAAQ,WAAYoI,GACjDE,UAAW,cAGfP,EAAmBtU,IAAI2U,KACvBC,EAAa,CACTzJ,SAhFM,qCAgFwBoB,QAAQ,WAAYoI,GAClDE,UAAW,oBAIA9W,IAAf6W,IACAA,EAAa,CACTzJ,SA3FD,qCA2FwBoB,QAAQ,WAAYoI,GAC3CE,UAAW,MACXC,eAAgB,QAIhC,OAAO7Y,QAAQC,QAAQ0Y,IE7FvBG,YAAa,QDO2D,CAAEC,QAAS,UAAWC,cAAe5F,EAAY6F,cjB6DtH,SAAkB/U,GAErB,IADA,IAAIgV,EAAM,GACDvd,EAAI,EAAGA,EAAIuI,EAAM5F,OAAQ3C,GAAK,EAAG,CAGtC,IAFA,IAAI4X,EAAO,EACPC,EAAY,EACP/Q,EAAI9G,EAAGuX,EAAQjN,KAAK0P,IAAIha,EAAI,EAAGuI,EAAM5F,QAASmE,EAAIyQ,EAAOzQ,IAC9D8Q,GAAQrP,EAAMzB,IAtDR,GAsDgByQ,EAAQzQ,EAAI,GAClC+Q,GAvDM,EAyDV,IAAI2F,EAAkBlT,KAAKmT,KAAK5F,EA1DpB,GA2DZD,IA3DY,EA2DH4F,EAAkC3F,EAC3C,IAAK,IAAI5R,EAAI,EAAGA,GAAKuX,EAAiBvX,IAAK,CACvC,IAAI0E,EA7DI,GA6DM6S,EAAkBvX,GAChCsX,GAAOlG,GAAiBO,EA5Df,IA4DyCjN,IAAYA,GAElE4S,GAAO,KAAKG,MAAM,EAAG,EAAIF,GAE7B,OAAOD,GiB9E2II,kBEZ/I,SAA6B3Y,GAChC,GAAoB,iBAATA,EAAmB,CAE1B,IADA,IAAI2D,EAAM3D,EAAKrC,OACN3C,EAAI2I,EAAM,EAAG3I,GAAK,EAAGA,IAAK,CAC/B,IAAI4d,EAAO5Y,EAAK4D,WAAW5I,GACvB4d,EAAO,KAAQA,GAAQ,KACvBjV,IACKiV,EAAO,MAASA,GAAQ,QAC7BjV,GAAO,GAEf,OAAOA,EAEN,MAA+B,iBAApB3D,EAAK6H,WAEV7H,EAAK6H,WAEc,iBAAd7H,EAAK6Y,KAEV7Y,EAAK6Y,UAFX,GFJqLC,0BAA2BtF,EAAgB,yBAA0BuF,kBFZlO5B,EEYqQ,IFZxPC,EEY8P,IFVjS,iBAAmBD,EAAc,IAAMC,EAAiB,KADpB,oBAAd4B,WAA4D,iBAAxBA,UAAUC,UAAyBD,UAAUC,UAAY,KEWwL1C,YLApR,EKAuTwB,OAAQvE,EAAgB,qBAAsB0F,eAAgB,IAAI,EAAoBC,OAAQ,SAAQC,gBbTla,SAAUC,GACnC,MAAoB,mBAATC,MAAuBD,aAAkBC,KAKxD,SAAqBvH,GACjB,OAAO,oBAAUpX,UAAM,OAAQ,GAAQ,WACnC,IAAI4e,EAAQC,EACZ,OAAO,sBAAY7e,MAAM,SAAUwQ,GAC/B,OAAQA,EAAG9K,OACP,KAAK,EAAG,MAAO,CAAC,EAAa0S,EAAahB,IAC1C,KAAK,EAGD,OAFAwH,EAASpO,EAAG7K,OACZkZ,EAAc/G,EAAW8G,GAClB,CAAC,EAAc,IAAIzV,WAAW0V,WAb1CC,CAAYJ,GAkB3B,SAAuBA,GACnB,OAAO,oBAAU1e,UAAM,OAAQ,GAAQ,WACnC,IAAI+e,EAAK1G,EAAQ2G,EAAQxO,EAAItL,EAAM5D,EAAO2d,EAC1C,OAAO,sBAAYjf,MAAM,SAAU2S,GAC/B,OAAQA,EAAGjN,OACP,KAAK,EACDqZ,EAAM,IAAI5V,WAAW,GACrBkP,EAASqG,EAAOQ,YAChBF,GAAS,EACTrM,EAAGjN,MAAQ,EACf,KAAK,EACD,OAAMsZ,EAAe,CAAC,EAAa,GAC5B,CAAC,EAAa3G,EAAO8G,QAChC,KAAK,EASD,OARA3O,EAAKmC,EAAGhN,OAAQT,EAAOsL,EAAGtL,MAAM5D,EAAQkP,EAAGlP,SAEvC2d,EAAQF,GACRA,EAAM,IAAI5V,WAAW8V,EAAMjc,OAAS1B,EAAM0B,SACtC2F,IAAIsW,GACRF,EAAIpW,IAAIrH,EAAO2d,EAAMjc,SAEzBgc,EAAS9Z,EACF,CAAC,EAAa,GACzB,KAAK,EAAG,MAAO,CAAC,EAAc6Z,UAvCnCK,CAAcV,IaKwcW,UGX3c,SAAU/I,GAC5B,IACIxC,EADAtD,EAAK,IAAI8O,IAAIhJ,GAAM1C,EAAWpD,EAAGoD,SAAU2L,EAAW/O,EAAG+O,SAAU1L,EAAOrD,EAAGqD,KAAME,EAAWvD,EAAGuD,SAAUyL,EAAShP,EAAGgP,OAK3H,OAHIA,IACA1L,ECJD,SAA0B2L,GAC7B,IAAI5J,EAAKrF,EACLsD,EAAQ,GAEZ,GADA2L,EAAcA,EAAYzK,QAAQ,MAAO,IAErC,IACI,IAAK,IAAIrC,EAAK,mBAAS8M,EAAYC,MAAM,MAAO1J,EAAKrD,EAAG5N,QAASiR,EAAG9Q,KAAM8Q,EAAKrD,EAAG5N,OAAQ,CACtF,IAAImS,EAAOlB,EAAG1U,MACVqe,EAAK,iBAAOzI,EAAKwI,MAAM,KAAM,GAAI9d,EAAM+d,EAAG,GAAIC,EAAKD,EAAG,GAAIre,OAAe,IAAPse,EAAgB,KAAOA,EAC7Fhe,EAAMqI,mBAAmBrI,GACrBN,IACAA,EAAQ2I,mBAAmB3I,IAEzBM,KAAOkS,EAGJrR,MAAMkS,QAAQb,EAAMlS,IACzBkS,EAAMlS,GAAKwE,KAAK9E,GAGhBwS,EAAMlS,GAAO,CAACkS,EAAMlS,GAAMN,GAN1BwS,EAAMlS,GAAON,GAUzB,MAAO6U,GAASN,EAAM,CAAEhP,MAAOsP,GAC/B,QACI,IACQH,IAAOA,EAAG9Q,OAASsL,EAAKmC,EAAGyD,SAAS5F,EAAGhQ,KAAKmS,GAEpD,QAAU,GAAIkD,EAAK,MAAMA,EAAIhP,OAGrC,OAAOiN,ED5BK+L,CAAiBL,IAEtB,CACH5L,SAAUA,EACVC,KAAMA,EAAOiM,SAASjM,QAAQrN,EAC9BuN,SAAUA,EACVC,KAAMuL,EACNzL,MAAOA,IHAueiM,YAAa,WAAUC,YAAa,WKPthBC,EAAoB,SAAUrX,GAC9B,IAAIsX,EAAWtX,EAAMsX,SAAUb,EAAYzW,EAAMyW,UACjD,GAAwB,iBAAba,EAAuB,CAC9B,IAAI3D,EAAgB7X,QAAQC,QAAQ0a,EAAUa,IAC9C,OAAO,WAAc,OAAO3D,GAE3B,GAAwB,iBAAb2D,EAAuB,CACnC,IAAIC,EAAgBzb,QAAQC,QAAQub,GACpC,OAAO,WAAc,OAAOC,GAEhC,OAAOD,GAEPE,EAAwB,SAAUxX,GAAS,OAAO,yBAAU,OAAQ,OAAQ,GAAQ,WACpF,IAAI4H,EAAI6P,EAAKjD,EAAsBxJ,EAC/BjB,EACJ,OAAO,sBAAY3S,MAAM,SAAUgW,GAC/B,OAAQA,EAAGtQ,OACP,KAAK,EAED,OADA8K,EAAK5H,EAAMyX,IAAKA,OAAa,IAAP7P,GAAuBA,EACtC,CAAC,EAAa5H,EAAMwU,UAC/B,KAAK,EAGD,GAFAA,EAASpH,EAAGrQ,QACG,IAAI2a,OAAO,4DACRC,KAAKnD,GACnB,MAAM,IAAI3Q,MAAM,mCAEpB,MAAO,CAAC,EAAa7D,EAAMuU,mBAAmBC,IAClD,KAAK,EAED,KADAxJ,GAAmC,QAAtBjB,EAAMqD,EAAGrQ,cAA4B,IAAPgN,EAAgBA,EAAK,IAAIiB,UAEhE,MAAM,IAAInH,MAAM,8CAEpB,MAAO,CAAC,EAAc7D,EAAMyW,WAAWgB,EAAM,SAAW,SAAW,KAAOzM,YClBtF4M,GAAkB,SAAUpD,GAC5B,GAAsB,iBAAXA,EAAqB,CAC5B,IAAIb,EAAgB7X,QAAQC,QAAQyY,GACpC,OAAO,WAAc,OAAOb,GAEhC,OAAOa,GCEJ,IAAIqD,GAAiC,CACxC3b,KAAM,QACNkU,KAAM,CAAC,qBAAsB,kBAC7BpY,KAAM,2BAEC8f,GAAyB,SAAU7R,GAAW,MAAO,CAC5DsK,aAAc,SAAUC,GACpBA,EAAYC,IA9Bb,SAAiC2E,GACpC,IAAIzR,EAAQvM,KACZ,OAAO,SAAU+E,GAAQ,OAAO,SAAUuU,GAAQ,OAAO,oBAAU/M,OAAO,OAAQ,GAAQ,WACtF,IAAI2H,EAAS7O,EAAMkO,EAASvQ,EACxBwN,EACJ,OAAO,sBAAYxQ,MAAM,SAAU2S,GAc/B,OAbAuB,EAAUoF,EAAKpF,QACX,EAAYV,WAAWU,KACvB7O,EAAO6O,EAAQ7O,KAAMkO,EAAUW,EAAQX,QACnClO,IAGyC,IAFzCtE,OAAOuT,KAAKf,GACP1J,KAAI,SAAU+T,GAAO,OAAOA,EAAI+C,iBAChCvd,QAbG,wBAeOoD,KADfxD,EAASgb,EAAkB3Y,MAEvB6O,EAAQX,QAAU,mBAAS,mBAAS,GAAIW,EAAQX,WAAW/C,EAAK,IAhB5D,kBAgB4F/G,OAAOzG,GAASwN,MAIrH,CAAC,EAAczL,EAAK,mBAAS,mBAAS,GAAIuU,GAAO,CAAEpF,QAASA,cAWvD0M,CAAwB/R,EAAQmP,mBAAoByC,OC5BrE,IAoBII,GAA8B,CACrCjgB,KAAM,uBACNkE,KAAM,QACNkU,KAAM,CAAC,SAEA8H,GAAsB,SAAUjS,GAAW,MAAO,CACzDsK,aAAc,SAAUC,GACpBA,EAAYC,IA3Bc,SAAUxK,GAAW,OAAO,SAAU9J,GAAQ,OAAO,SAAUuU,GAAQ,OAAO,yBAAU,OAAQ,OAAQ,GAAQ,WAC9I,IAAIpF,EAAS1D,EACb,OAAO,sBAAYxQ,MAAM,SAAU2S,GAC/B,OAAK,EAAYa,WAAW8F,EAAKpF,UAEjCA,EAAUoF,EAAKpF,QACf1D,GAAM3B,EAAQ0P,eAAena,UAAY,IAAI2c,sBAA0C,IAAPvQ,EAAgB,GAAKA,GAGjFpN,QAAQ,OAAS,IAAM8Q,EAAQX,QAAQ,sBAChDW,EAAQX,QAAc,KAC7BW,EAAQX,QAAQ,cAAgB,IAG1BW,EAAQX,QAAc,OAC5BW,EAAQX,QAAc,KAAIW,EAAQN,UAE/B,CAAC,EAAc7O,EAAKuU,KAbhB,CAAC,EAAcvU,EAAKuU,YAuBf0H,CAAqBnS,GAAUgS,OCC5CI,GAA0B,CACjCrgB,KAAM,mBACNoY,KAAM,CAAC,UACPlU,KAAM,mBAGCoc,GAAkB,SAAUrS,GAAW,MAAO,CACrDsK,aAAc,SAAUC,GACpBA,EAAYC,KAxC+B,SAAUtU,EAAMoc,GAAW,OAAO,SAAU7H,GAAQ,OAAO,yBAAU,OAAQ,OAAQ,GAAQ,WAC5I,IAAI8H,EAAQC,EAAyBC,EAA0B7N,EAAUjD,EAAIiK,EAAW8G,EACxF,OAAO,sBAAYvhB,MAAM,SAAU2S,GAC/B,OAAQA,EAAGjN,OACP,KAAK,EAED,OADA0b,EAASD,EAAQC,OAAQC,EAA0BF,EAAQE,wBAAyBC,EAA2BH,EAAQG,yBAChH,CAAC,EAAavc,EAAKuU,IAC9B,KAAK,EAED,OADA7F,EAAWd,EAAGhN,OACTyb,GAGL5Q,EAAKiD,EAASqB,OAAQ2F,EAAYjK,EAAGiK,UAAW8G,EAAwB,iBAAO/Q,EAAI,CAAC,cACxD,mBAAjB4Q,EAAOI,QACdJ,EAAOI,MAAM,CACTC,YAAanI,EAAKpF,UAEtBkN,EAAOI,MAAM,CACTE,aAAcjO,EAASA,YAGJ,mBAAhB2N,EAAOO,MACdP,EAAOO,KAAK,CACRlH,UAAWA,EACX7R,MAAOyY,EAAwB/H,EAAK1Q,OACpCkM,OAAQwM,EAAyBC,KAGlC,CAAC,EAAc9N,IAlBX,CAAC,EAAcA,aA8BEwN,OCjCjCW,GANuB,aAMgBjB,cAEvCkB,GAAoB,CAHN,gBAGoBD,GADpB,QAEdE,GANwB,kBAMiBnB,cAEzCoB,GAPoB,uBAOapB,cAEjCqB,GAA4B,CACnCC,eAAe,EACf,iBAAiB,EACjBC,YAAY,EACZC,QAAQ,EACR/Y,MAAM,EACN,cAAc,EACd,gBAAgB,EAChBgZ,QAAQ,EACRC,SAAS,EACTC,IAAI,EACJC,SAAS,EACT,qBAAqB,EACrBC,SAAS,EACT,cAAc,EACd,mBAAmB,GAEZC,GAAuB,UACvBC,GAAqB,QAGrBC,GAA6B,2BClCpCC,GAAkB,GAClBC,GAAa,GAQV,SAASC,GAAYC,EAAW3F,EAAQ4F,GAC3C,OAAOD,EAAY,IAAM3F,EAAS,IAAM4F,EAAU,gBCVtD,IAFA,IAAIC,GAAe,GACfC,GAAe,GACV,GAAI,EAAG,GAAI,IAAK,KAAK,CAC1B,IAAIC,GAAc,GAAEpZ,SAAS,IAAI4W,cACN,IAAvBwC,GAAYngB,SACZmgB,GAAc,IAAMA,IAExBF,GAAa,IAAKE,GAClBD,GAAaC,IAAe,GA4BzB,SAASC,GAAMra,GAElB,IADA,IAAIwI,EAAM,GACDlR,EAAI,EAAGA,EAAI0I,EAAMmE,WAAY7M,IAClCkR,GAAO0R,GAAala,EAAM1I,IAE9B,OAAOkR,ECpCJ,SAAS8R,GAAoB7S,EAAI8S,EAAmBC,GACvD,IAAI1N,EAAKlD,EACLY,EAAU/C,EAAG+C,QACbiQ,EAAY,GAChB,IACI,IAAK,IAAIxN,EAAK,mBAASjV,OAAOuT,KAAKf,GAASwC,QAAS4J,EAAK3J,EAAGjR,QAAS4a,EAAGza,KAAMya,EAAK3J,EAAGjR,OAAQ,CAC3F,IAAI0e,EAAa9D,EAAGre,MAChBoiB,EAAsBD,EAAW9C,eACjC+C,KAAuB1B,KAA8BsB,aAA6D,EAASA,EAAkB7a,IAAIib,KACjJjB,GAAqBlC,KAAKmD,IAC1BhB,GAAmBnC,KAAKmD,OACnBH,GAAoBA,IAAoBA,EAAgB9a,IAAIib,MAIrEF,EAAUE,GAAuBnQ,EAAQkQ,GAAYE,OAAO3O,QAAQ,OAAQ,OAGpF,MAAOmB,GAASN,EAAM,CAAEhP,MAAOsP,GAC/B,QACI,IACQwJ,IAAOA,EAAGza,OAASyN,EAAKqD,EAAGI,SAASzD,EAAGnS,KAAKwV,GAEpD,QAAU,GAAIH,EAAK,MAAMA,EAAIhP,OAEjC,OAAO2c,ECvBJ,SAASI,GAAepT,EAAIqT,GAC/B,IAAItQ,EAAU/C,EAAG+C,QAASlO,EAAOmL,EAAGnL,KACpC,OAAO,oBAAUrF,UAAM,OAAQ,GAAQ,WACnC,IAAI2S,EAAIqD,EAAIyN,EAAYK,EAAUnE,EAC9B9J,EAAK+J,EACT,OAAO,sBAAY5f,MAAM,SAAU+jB,GAC/B,OAAQA,EAAGre,OACP,KAAK,EACD,IACI,IAAKiN,EAAK,mBAAS5R,OAAOuT,KAAKf,IAAWyC,EAAKrD,EAAG5N,QAASiR,EAAG9Q,KAAM8Q,EAAKrD,EAAG5N,OAExE,GJND,0BIKC0e,EAAazN,EAAG1U,OACDqf,cACX,MAAO,CAAC,EAAcpN,EAAQkQ,IAI1C,MAAOtN,GAASN,EAAM,CAAEhP,MAAOsP,GAC/B,QACI,IACQH,IAAOA,EAAG9Q,OAAS0a,EAAKjN,EAAGyD,SAASwJ,EAAGpf,KAAKmS,GAEpD,QAAU,GAAIkD,EAAK,MAAMA,EAAIhP,OAEjC,OAAcL,MAARnB,EAA2B,CAAC,EAAa,GACxC,CAAC,EAAc,oEAC1B,KAAK,EACD,MAAsB,iBAATA,GAAqByH,YAAYC,OAAO1H,KCjC3C2e,EDiCkE3e,EChC5D,mBAAhByH,aAA8BkX,aAAelX,aACjB,yBAAxC/L,OAAOkB,UAAU8H,SAASvJ,KAAKwjB,MDgCnBF,EAAW,IAAID,GACNxX,OAAOhH,GAChBsa,EAAKyD,GACE,CAAC,EAAaU,EAAS1X,WAJ6D,CAAC,EAAa,GAK7G,KAAK,EAAG,MAAO,CAAC,EAAcuT,EAAG1c,WAAM,EAAQ,CAAC8gB,EAAGpe,UACnD,KAAK,EAIL,MAAO,CAAC,EJNM,oBKrCvB,IAAuBqe,QCIvB,SAASC,GAAazT,GACzB,IAAI+C,EAAU/C,EAAG+C,QAASO,EAAQtD,EAAGsD,MAAOoQ,EAAO,iBAAO1T,EAAI,CAAC,UAAW,UAC1E,OAAO,mBAAS,mBAAS,GAAI0T,GAAO,CAAE3Q,QAAS,mBAAS,GAAIA,GAAUO,MAAOA,EAAQ,GAAWA,QAAStN,IAE7G,SAAS,GAAWsN,GAChB,OAAO/S,OAAOuT,KAAKR,GAAOS,QAAO,SAAUC,EAAOC,GAC9C,IAAIjE,EACAkE,EAAQZ,EAAMW,GAClB,OAAO,mBAAS,mBAAS,GAAID,KAAShE,EAAK,IAAOiE,GAAahS,MAAMkS,QAAQD,GAAS,mBAASA,GAASA,EAAOlE,MAChH,ICPA,SAAS2T,GAAejQ,GAC3B,IAAI2B,EAAKrF,EAET0D,EAAmC,mBAAlBA,EAAQE,MAAuBF,EAAQE,QAAU6P,GAAa/P,GAC/E,IACI,IAAK,IAAIvB,EAAK,mBAAS5R,OAAOuT,KAAKJ,EAAQX,UAAWyC,EAAKrD,EAAG5N,QAASiR,EAAG9Q,KAAM8Q,EAAKrD,EAAG5N,OAAQ,CAC5F,IAAI0e,EAAazN,EAAG1U,MAChBugB,GAAkBze,QAAQqgB,EAAW9C,gBAAkB,UAChDzM,EAAQX,QAAQkQ,IAInC,MAAOtN,GAASN,EAAM,CAAEhP,MAAOsP,GAC/B,QACI,IACQH,IAAOA,EAAG9Q,OAASsL,EAAKmC,EAAGyD,SAAS5F,EAAGhQ,KAAKmS,GAEpD,QAAU,GAAIkD,EAAK,MAAMA,EAAIhP,OAEjC,OAAOqN,ECzBJ,SAASkQ,GAAQC,GACpB,OAIG,SAAgBA,GACnB,GAAoB,iBAATA,EACP,OAAO,IAAInV,KAAY,IAAPmV,GAEpB,GAAoB,iBAATA,EACP,OAAIC,OAAOD,GACA,IAAInV,KAAoB,IAAfoV,OAAOD,IAEpB,IAAInV,KAAKmV,GAEpB,OAAOA,EAdAE,CAAOF,GACTG,cACAxP,QAAQ,YAAa,KCQ9B,IAAI,GAA6B,WAC7B,SAASyP,EAAYjU,GACjB,IAAIkU,EAAgBlU,EAAGkU,cAAeC,EAAcnU,EAAGmU,YAAavH,EAAS5M,EAAG4M,OAAQ4F,EAAUxS,EAAGwS,QAASxE,EAAShO,EAAGgO,OAAQ7L,EAAKnC,EAAGoU,cAAeA,OAAuB,IAAPjS,GAAuBA,EAChM3S,KAAKgjB,QAAUA,EACfhjB,KAAKwe,OAASA,EACdxe,KAAK4kB,cAAgBA,EAErB5kB,KAAK0kB,cAAyC,kBAAlBA,GAA8BA,EAC1D1kB,KAAK6kB,eAAiBC,GAAwB1H,GAC9Cpd,KAAK+kB,mBAAqBC,GAA6BL,GA8O3D,OA5OAF,EAAYxiB,UAAUgjB,QAAU,SAAUC,EAAiBrW,GAEvD,YADgB,IAAZA,IAAsBA,EAAU,IAC7B,oBAAU7O,UAAM,OAAQ,GAAQ,WACnC,IAAIwQ,EAAI2U,EAAaxS,EAAIyS,EAAW9B,EAAmBC,EAAiB8B,EAAe9H,EAAgBoH,EAAavH,EAAQpH,EAAI2J,EAAI2F,EAAUvC,EAAWwC,EAAOrR,EAASsR,EAAkB5F,EAAImE,EAAI0B,EAAIC,EAAIC,EAAIC,EAC/M,OAAO,sBAAY5lB,MAAM,SAAU6lB,GAC/B,OAAQA,EAAGngB,OACP,KAAK,EAED,OADA8K,EAAK3B,EAAQsW,YAAaA,OAAqB,IAAP3U,EAAgB,IAAItB,KAASsB,EAAImC,EAAK9D,EAAQuW,UAAWA,OAAmB,IAAPzS,EAAgB,KAAOA,EAAI2Q,EAAoBzU,EAAQyU,kBAAmBC,EAAkB1U,EAAQ0U,gBAAiB8B,EAAgBxW,EAAQwW,cAAe9H,EAAiB1O,EAAQ0O,eAC3R,CAAC,EAAavd,KAAK+kB,sBAC9B,KAAK,EAED,OADAJ,EAAckB,EAAGlgB,OACZ,MAAC0f,EAA4D,CAAC,EAAa,IAChFrP,EAAKqP,EACE,CAAC,EAAa,IACzB,KAAK,EAAG,MAAO,CAAC,EAAarlB,KAAK6kB,kBAClC,KAAK,EACD7O,EAAM6P,EAAGlgB,OACTkgB,EAAGngB,MAAQ,EACf,KAAK,EAGD,OAFA0X,EAASpH,EACT2J,EAAKmG,GAAWX,GAAcG,EAAW3F,EAAG2F,SAAUvC,EAAYpD,EAAGoD,UACjEqC,ETHG,OSII,CAAC,EAAc1gB,QAAQE,OAAO,sGAEzC2gB,EAAQzC,GAAYC,EAAW3F,EAAQG,QAAuDA,EAAiBvd,KAAKgjB,SACpH9O,EC1CjB,SAA4BA,GAC/B,IAAI2B,EAAKrF,EACLmC,EAA8B,mBAAlBuB,EAAQE,MAAuBF,EAAQE,QAAU6P,GAAa/P,GAAUX,EAAUZ,EAAGY,QAASyC,EAAKrD,EAAGmB,MAAOA,OAAe,IAAPkC,EAAgB,GAAKA,EAC1J,IACI,IAAK,IAAI2J,EAAK,mBAAS5e,OAAOuT,KAAKf,IAAWqM,EAAKD,EAAG5a,QAAS6a,EAAG1a,KAAM0a,EAAKD,EAAG5a,OAAQ,CACpF,IAAInE,EAAOgf,EAAGte,MAEa,WADfV,EAAK+f,cACP7V,OAAO,EAAG,KAChBgJ,EAAMlT,GAAQ2S,EAAQ3S,UACf2S,EAAQ3S,KAI3B,MAAOuV,GAASN,EAAM,CAAEhP,MAAOsP,GAC/B,QACI,IACQyJ,IAAOA,EAAG1a,OAASsL,EAAKmP,EAAGvJ,SAAS5F,EAAGhQ,KAAKmf,GAEpD,QAAU,GAAI9J,EAAK,MAAMA,EAAIhP,OAEjC,OAAO,mBAAS,mBAAS,GAAIqN,GAAU,CAAEX,QAASA,EAC9CO,MAAOA,IDqBmBiS,CAAmB5B,GAAee,IACxCP,EAAYqB,eACZ9R,EAAQJ,MT3CL,wBS2CgC6Q,EAAYqB,cAEnD9R,EAAQJ,MTnDG,mBAmCD,mBSiBVI,EAAQJ,MTnDI,oBSmD4B6Q,EAAYsB,YAAc,IAAMV,EACxErR,EAAQJ,MTnDE,cSmD4BwR,EACtCpR,EAAQJ,MTlDC,iBSkD4BsR,EAAUrb,SAAS,IACxDyb,EAAmBnC,GAAoBnP,EAASoP,EAAmBC,GACnErP,EAAQJ,MTrDQ,uBSqD4BoS,GAAuBV,GACnE5F,EAAK1L,EAAQJ,MACbiQ,ETrDW,kBSsDX0B,EAAKzlB,KAAKmmB,aACVT,EAAK,CAACJ,EACFC,EACAvlB,KAAKomB,cAAczB,EAAavH,EAAQ2F,EAAWxF,IACvDoI,EAAK3lB,KAAKqmB,uBACVT,EAAK,CAAC1R,EAASsR,GACR,CAAC,EAAa5B,GAAesB,EAAiBllB,KAAKwe,UAC9D,KAAK,EAAG,MAAO,CAAC,EAAaiH,EAAGxiB,MAAMjD,KAAM0lB,EAAG3e,OAAO,CAAC4e,EAAG1iB,MAAMjD,KAAM4lB,EAAG7e,OAAO,CAAC8e,EAAGlgB,cACpF,KAAK,EAED,OADAia,EAAGmE,GAAM8B,EAAGlgB,OACL,CAAC,EAAcuO,WAK1CuQ,EAAYxiB,UAAUiK,KAAO,SAAUoa,EAAQzX,GAC3C,OAAO,oBAAU7O,UAAM,OAAQ,GAAQ,WACnC,OAAO,sBAAYA,MAAM,SAAUwQ,GAC/B,MAAsB,iBAAX8V,EACA,CAAC,EAActmB,KAAKumB,WAAWD,EAAQzX,IAEzCyX,EAAO/S,SAAW+S,EAAOE,QACvB,CAAC,EAAcxmB,KAAKymB,UAAUH,EAAQzX,IAGtC,CAAC,EAAc7O,KAAK0mB,YAAYJ,EAAQzX,WAM/D4V,EAAYxiB,UAAUwkB,UAAY,SAAUjW,EAAImC,GAC5C,IAAIY,EAAU/C,EAAG+C,QAASiT,EAAUhW,EAAGgW,QACnCxQ,EAAKrD,EAAGwS,YAAaA,OAAqB,IAAPnP,EAAgB,IAAI9G,KAAS8G,EAAI2Q,EAAiBhU,EAAGgU,eAAgBtB,EAAgB1S,EAAG0S,cAAe9H,EAAiB5K,EAAG4K,eAClK,OAAO,oBAAUvd,UAAM,OAAQ,GAAQ,WACnC,IAAIod,EAAQuC,EAAIC,EAAImD,EAAWuC,EAAUC,EAAOqB,EAAevZ,EAAMwZ,EAAe9C,EAAI+C,EACxF,OAAO,sBAAY9mB,MAAM,SAAUylB,GAC/B,OAAQA,EAAG/f,OACP,KAAK,EACD,OAAK,MAAC2f,EAA4D,CAAC,EAAa,IAChF1F,EAAK0F,EACE,CAAC,EAAa,IACzB,KAAK,EAAG,MAAO,CAAC,EAAarlB,KAAK6kB,kBAClC,KAAK,EACDlF,EAAM8F,EAAG9f,OACT8f,EAAG/f,MAAQ,EACf,KAAK,EAID,OAHA0X,EAASuC,EACTC,EAAKkG,GAAWX,GAAcpC,EAAYnD,EAAGmD,UAAWuC,EAAW1F,EAAG0F,SACtEC,EAAQzC,GAAYC,EAAW3F,EAAQG,QAAuDA,EAAiBvd,KAAKgjB,SAC7G,CAAC,EAAaY,GAAe,CAAErQ,QAAS,GAAIlO,KAAMmhB,GAAWxmB,KAAKwe,SAC7E,KAAK,EAKD,OAJAoI,EAAgBnB,EAAG9f,QACnB0H,EAAO,IAAIrN,KAAKwe,QACXnS,OAAOkH,GACZwQ,EAAKX,GACE,CAAC,EAAa/V,EAAKjB,UAC9B,KAAK,EAUD,OATAya,EAAgB9C,EAAG9gB,WAAM,EAAQ,CAACwiB,EAAG9f,SACrCmhB,EAAe,CACXnE,GACA2C,EACAC,EACAoB,EACAE,EACAD,GACF5c,KAAK,MACA,CAAC,EAAchK,KAAKumB,WAAWO,EAAc,CAAE3B,YAAaA,EAAaE,cAAejI,EAAQG,eAAgBA,aAK3IkH,EAAYxiB,UAAUskB,WAAa,SAAUO,EAActW,GACvD,IAAImC,OAAY,IAAPnC,EAAgB,GAAKA,EAAIwF,EAAKrD,EAAGwS,YAAaA,OAAqB,IAAPnP,EAAgB,IAAI9G,KAAS8G,EAAIqP,EAAgB1S,EAAG0S,cAAe9H,EAAiB5K,EAAG4K,eAC5J,OAAO,oBAAUvd,UAAM,OAAQ,GAAQ,WACnC,IAAI2kB,EAAavH,EAAQuC,EAAIoD,EAAW1V,EAAMuS,EAAImE,EAAI0B,EACtD,OAAO,sBAAYzlB,MAAM,SAAU0lB,GAC/B,OAAQA,EAAGhgB,OACP,KAAK,EAAG,MAAO,CAAC,EAAa1F,KAAK+kB,sBAClC,KAAK,EAED,OADAJ,EAAce,EAAG/f,OACZ,MAAC0f,EAA4D,CAAC,EAAa,IAChF1F,EAAK0F,EACE,CAAC,EAAa,IACzB,KAAK,EAAG,MAAO,CAAC,EAAarlB,KAAK6kB,kBAClC,KAAK,EACDlF,EAAM+F,EAAG/f,OACT+f,EAAGhgB,MAAQ,EACf,KAAK,EAID,OAHA0X,EAASuC,EACToD,EAAY+C,GAAWX,GAAapC,UACpCgB,GAAMnE,EAAK5f,KAAKwe,QAAQ3c,KACjB,CAAC,EAAa7B,KAAKomB,cAAczB,EAAavH,EAAQ2F,EAAWxF,IAC5E,KAAK,EAID,OAHAlQ,EAAO,IAAK0W,EAAG9gB,MAAM2c,EAAI,MAAC,EAAQ8F,EAAG/f,WAChC0G,OAAOya,GACZrB,EAAKrC,GACE,CAAC,EAAa/V,EAAKjB,UAC9B,KAAK,EAAG,MAAO,CAAC,EAAcqZ,EAAGxiB,WAAM,EAAQ,CAACyiB,EAAG/f,kBAKnE8e,EAAYxiB,UAAUykB,YAAc,SAAUK,EAAevW,GACzD,IAAImC,OAAY,IAAPnC,EAAgB,GAAKA,EAAIwF,EAAKrD,EAAGwS,YAAaA,OAAqB,IAAPnP,EAAgB,IAAI9G,KAAS8G,EAAIuN,EAAkB5Q,EAAG4Q,gBAAiBD,EAAoB3Q,EAAG2Q,kBAAmB+B,EAAgB1S,EAAG0S,cAAe9H,EAAiB5K,EAAG4K,eAC5O,OAAO,oBAAUvd,UAAM,OAAQ,GAAQ,WACnC,IAAI2kB,EAAavH,EAAQuC,EAAIzL,EAAS0L,EAAI0F,EAAUvC,EAAWwC,EAAOyB,EAAaxB,EAAkByB,EACrG,OAAO,sBAAYjnB,MAAM,SAAU+jB,GAC/B,OAAQA,EAAGre,OACP,KAAK,EAAG,MAAO,CAAC,EAAa1F,KAAK+kB,sBAClC,KAAK,EAED,OADAJ,EAAcZ,EAAGpe,OACZ,MAAC0f,EAA4D,CAAC,EAAa,IAChF1F,EAAK0F,EACE,CAAC,EAAa,IACzB,KAAK,EAAG,MAAO,CAAC,EAAarlB,KAAK6kB,kBAClC,KAAK,EACDlF,EAAMoE,EAAGpe,OACToe,EAAGre,MAAQ,EACf,KAAK,EASD,OARA0X,EAASuC,EACTzL,EAAUiQ,GAAe4C,GACzBnH,EAAKkG,GAAWX,GAAcG,EAAW1F,EAAG0F,SAAUvC,EAAYnD,EAAGmD,UACrEwC,EAAQzC,GAAYC,EAAW3F,EAAQG,QAAuDA,EAAiBvd,KAAKgjB,SACpH9O,EAAQX,QAAQqO,IAAmB0D,EAC/BX,EAAYqB,eACZ9R,EAAQX,QAAQwO,IAAgB4C,EAAYqB,cAEzC,CAAC,EAAapC,GAAe1P,EAASlU,KAAKwe,SACtD,KAAK,EAMD,OALAwI,EAAcjD,EAAGpe,QE5LlC,SAAmBuhB,EAAc3T,GACpC,IAAIsC,EAAKrF,EACT0W,EAAeA,EAAavG,cAC5B,IACI,IAAK,IAAIhO,EAAK,mBAAS5R,OAAOuT,KAAKf,IAAWyC,EAAKrD,EAAG5N,QAASiR,EAAG9Q,KAAM8Q,EAAKrD,EAAG5N,OAAQ,CAEpF,GAAImiB,IADalR,EAAG1U,MACYqf,cAC5B,OAAO,GAInB,MAAOxK,GAASN,EAAM,CAAEhP,MAAOsP,GAC/B,QACI,IACQH,IAAOA,EAAG9Q,OAASsL,EAAKmC,EAAGyD,SAAS5F,EAAGhQ,KAAKmS,GAEpD,QAAU,GAAIkD,EAAK,MAAMA,EAAIhP,OAEjC,OAAO,EF2KkBsgB,CTlLF,uBSkL2BjT,EAAQX,UAAYvT,KAAK0kB,gBACnDxQ,EAAQX,QTnLT,wBSmLkCyT,GAErCxB,EAAmBnC,GAAoBnP,EAASoP,EAAmBC,GAC5D,CAAC,EAAavjB,KAAKmmB,aAAab,EAAUC,EAAOvlB,KAAKomB,cAAczB,EAAavH,EAAQ2F,EAAWxF,GAAiBvd,KAAKqmB,uBAAuBnS,EAASsR,EAAkBwB,KACvL,KAAK,EAOD,OANAC,EAAYlD,EAAGpe,OACfuO,EAAQX,QAAmB,cACvB6T,+BACqBzC,EAAYsB,YAAc,IAAMV,EAAQ,mBACrCW,GAAuBV,GAAoB,eAC/CyB,EACjB,CAAC,EAAc/S,WAK1CuQ,EAAYxiB,UAAUokB,uBAAyB,SAAUnS,EAASsR,EAAkBwB,GAChF,IAAIK,EAAgBtmB,OAAOuT,KAAKkR,GAAkBzP,OAClD,OAAO7B,EAAQd,OAAS,KAAOpT,KAAKsnB,iBAAiBpT,GAAW,KG3MjE,SAA2B1D,GAC9B,IAAIqF,EAAKlD,EACLqD,EAAKxF,EAAGsD,MAAOA,OAAe,IAAPkC,EAAgB,GAAKA,EAC5C1B,EAAO,GACPiT,EAAa,GACbvL,EAAU,SAAUpa,GACpB,GAAIA,EAAI+e,gBAAkBmB,GACtB,MAAO,WAEXxN,EAAKlO,KAAKxE,GACV,IAAIN,EAAQwS,EAAMlS,GACG,iBAAVN,EACPimB,EAAW3lB,GAAOgT,EAAUhT,GAAO,IAAMgT,EAAUtT,GAE9CmB,MAAMkS,QAAQrT,KACnBimB,EAAW3lB,GAAON,EACbyc,MAAM,GACNhI,OACAxB,QAAO,SAAU3K,EAAStI,GAAS,OAAOsI,EAAQ7C,OAAO,CAAC6N,EAAUhT,GAAO,IAAMgT,EAAUtT,OAAa,IACxG0I,KAAK,OAGlB,IACI,IAAK,IAAI2V,EAAK,mBAAS5e,OAAOuT,KAAKR,GAAOiC,QAAS6J,EAAKD,EAAG5a,QAAS6a,EAAG1a,KAAM0a,EAAKD,EAAG5a,OAAQ,CAEzFiX,EADU4D,EAAGte,QAIrB,MAAO6U,GAASN,EAAM,CAAEhP,MAAOsP,GAC/B,QACI,IACQyJ,IAAOA,EAAG1a,OAASyN,EAAKgN,EAAGvJ,SAASzD,EAAGnS,KAAKmf,GAEpD,QAAU,GAAI9J,EAAK,MAAMA,EAAIhP,OAEjC,OAAOyN,EACFzK,KAAI,SAAUjI,GAAO,OAAO2lB,EAAW3lB,MACvC4lB,QAAO,SAAUD,GAAc,OAAOA,KACtCvd,KAAK,KHqKiEyd,CAAkBvT,GAAW,KAAOmT,EAAcxd,KAAI,SAAUjJ,GAAQ,OAAOA,EAAO,IAAM4kB,EAAiB5kB,MAAUoJ,KAAK,MAAQ,OAASqd,EAAcrd,KAAK,KAAO,KAAOgd,GAEzPvC,EAAYxiB,UAAUylB,mBAAqB,SAAUpC,EAAUqC,EAAiBC,GAC5E,OAAO,oBAAU5nB,UAAM,OAAQ,GAAQ,WACnC,IAAIqN,EAAMwa,EACV,OAAO,sBAAY7nB,MAAM,SAAUwQ,GAC/B,OAAQA,EAAG9K,OACP,KAAK,EAGD,OAFA2H,EAAO,IAAIrN,KAAKwe,QACXnS,OAAOub,GACL,CAAC,EAAava,EAAKjB,UAC9B,KAAK,EAED,OADAyb,EAAgBrX,EAAG7K,OACZ,CAAC,EAAcyhB,qBAA8B9B,EAAW,KAAOqC,EAAkB,KAAOvE,GAAMyE,YAKzHpD,EAAYxiB,UAAUqlB,iBAAmB,SAAU9W,GAC/C,IAAIwD,EAAOxD,EAAGwD,KACd,OAAIhU,KAAK4kB,cAEE,IADa7P,mBAAmBf,EAAKgB,QAAQ,MAAO,KAChCA,QAAQ,OAAQ,KAExChB,GAEXyQ,EAAYxiB,UAAUkkB,aAAe,SAAUb,EAAUqC,EAAiBG,EAAYF,GAClF,OAAO,oBAAU5nB,UAAM,OAAQ,GAAQ,WACnC,IAAI8mB,EAAczZ,EAAMmD,EAAImC,EAAIqD,EAChC,OAAO,sBAAYhW,MAAM,SAAU2f,GAC/B,OAAQA,EAAGja,OACP,KAAK,EAAG,MAAO,CAAC,EAAa1F,KAAK0nB,mBAAmBpC,EAAUqC,EAAiBC,IAChF,KAAK,EAGD,OAFAd,EAAenH,EAAGha,OAClBgN,GAAMnC,EAAKxQ,KAAKwe,QAAQ3c,KACjB,CAAC,EAAaimB,GACzB,KAAK,EAID,OAHAza,EAAO,IAAKsF,EAAG1P,MAAMuN,EAAI,MAAC,EAAQmP,EAAGha,WAChC0G,OAAOya,GACZ9Q,EAAKoN,GACE,CAAC,EAAa/V,EAAKjB,UAC9B,KAAK,EAAG,MAAO,CAAC,EAAc4J,EAAG/S,WAAM,EAAQ,CAAC0c,EAAGha,kBAKnE8e,EAAYxiB,UAAUmkB,cAAgB,SAAUzB,EAAavH,EAAQ2F,EAAWC,GAC5E,ORtOD,SAAuB+E,EAAmBpD,EAAa5B,EAAW3F,EAAQ4F,GAC7E,IAAIgF,EAAWjF,EAAY,IAAM3F,EAAS,IAAM4F,EAAU,IAAO2B,EAAYsB,YAAc,IAAMtB,EAAYqB,aAC7G,GAAIgC,KAAYpF,GACZ,OAAOA,GAAgBoF,GAG3B,IADAnF,GAAWzc,KAAK4hB,GACTnF,GAAW7f,ODMM,WCLb4f,GAAgBC,GAAWjb,SAEtC,OAAQgb,GAAgBoF,GAAY,IAAItjB,SAAQ,SAAUC,EAASC,GAC/D,IAAIiR,EAAKrF,EACLsX,EAAapjB,QAAQC,QAAQ,OAASggB,EAAYsD,iBAClDjM,EAAU,SAAUkM,IACpBJ,EAAaA,EAAW3iB,MAAK,SAAUgjB,GAAmB,OA+B1Cvb,EA/B0Fsb,GAgC9G7a,EAAO,IAhCmE0a,EAAmBI,IAiC5F9b,OAAOO,GACLS,EAAKjB,SAHhB,IAA4BQ,EACpBS,MA/BelB,OAAM,gBAErB,IACI,IAAK,IAAIwG,EAAK,mBAAS,CAACoQ,EAAW3F,EAAQ4F,EDJtB,iBCIsDhN,EAAKrD,EAAG5N,QAASiR,EAAG9Q,KAAM8Q,EAAKrD,EAAG5N,OAAQ,CAEjHiX,EADehG,EAAG1U,QAI1B,MAAO6U,GAASN,EAAM,CAAEhP,MAAOsP,GAC/B,QACI,IACQH,IAAOA,EAAG9Q,OAASsL,EAAKmC,EAAGyD,SAAS5F,EAAGhQ,KAAKmS,GAEpD,QAAU,GAAIkD,EAAK,MAAMA,EAAIhP,OAEjCihB,EAAW3iB,KAAKR,GAAS,SAAUyjB,UACxBxF,GAAgBoF,GACvBpjB,EAAOwjB,SQuMJhC,CAAcpmB,KAAKwe,OAAQmG,EAAa5B,EAAW3F,EAAQ4F,GAAWhjB,KAAKgjB,UAE/EyB,EAvPqB,GA0P5BqB,GAAa,SAAUuC,GACvB,IAAI/C,EAAWlB,GAAQiE,GAAKrT,QAAQ,SAAU,IAC9C,MAAO,CACHsQ,SAAUA,EACVvC,UAAWuC,EAASxa,OAAO,EAAG,KAGlCob,GAAyB,SAAU3S,GAAW,OAAOxS,OAAOuT,KAAKf,GAASwC,OAAO/L,KAAK,MACtF8a,GAA0B,SAAU1H,GACpC,GAAsB,iBAAXA,EAAqB,CAC5B,IAAIb,EAAgB7X,QAAQC,QAAQyY,GACpC,OAAO,WAAc,OAAOb,GAG5B,OAAOa,GAGX4H,GAA+B,SAAUL,GACzC,GAA2B,iBAAhBA,EAA0B,CACjC,IAAIxE,EAAgBzb,QAAQC,QAAQggB,GACpC,OAAO,WAAc,OAAOxE,GAG5B,OAAOwE,GIlPf,SAAS2D,GAAkB1f,GACvB,GAAqB,iBAAVA,EAAoB,CAC3B,IAAI2T,EAAgB7X,QAAQC,QAAQiE,GACpC,OAAO,WAAc,OAAO2T,GAEhC,OAAO3T,EC7CX,IAGI2f,GAAuB,SAAUC,GAAqB,OAAO,IAAItZ,KAAKA,KAAKmZ,MAAQG,IAChF,SAASC,GAAkB5Z,GAC9B,OAAO,SAAU9J,EAAMoc,GACnB,OAAO,SAAU7H,GACb,OAAO,oBAAUtZ,UAAM,OAAQ,GAAQ,WACnC,IAAI0oB,EAAQlY,EAAIsE,EAAQnC,EAAIqD,EAAIzC,EAASoV,EAAYC,EACjDjJ,EACJ,OAAO,sBAAY3f,MAAM,SAAU4f,GAC/B,OAAQA,EAAGla,OACP,KAAK,EACD,OAAK,EAAY8N,WAAW8F,EAAKpF,SAED,mBAAnBrF,EAAQ6Z,OAA+B,CAAC,EAAa,GAC3D,CAAC,EAAa7Z,EAAQ6Z,UAFlB,CAAC,EAAc3jB,EAAKuU,IAGnC,KAAK,EAED,OADA9I,EAAKoP,EAAGja,OACD,CAAC,EAAa,GACzB,KAAK,EACD6K,EAAK3B,EAAQ6Z,OACb9I,EAAGla,MAAQ,EACf,KAAK,EAKD,OAJAgjB,EAASlY,EACTmC,EAAK5N,EACLiR,EAAK,CAAC,mBAAS,GAAIsD,IACnBqG,EAAK,GACE,CAAC,EAAa+I,EAAOxc,KAAKoN,EAAKpF,QAAS,CACvCiR,YAAa,IAAIjW,KAAKA,KAAKmZ,MAAQxZ,EAAQ2Z,mBAC3CnD,cAAelE,EAAwB,eACvC5D,eAAgB4D,EAAyB,mBAErD,KAAK,EAAG,MAAO,CAAC,EAAaxO,EAAG1P,WAAM,EAAQ,CAAC,WAASA,WAAM,EAAQ+S,EAAGjP,OAAO,EAAE4Y,EAAGzL,QAAU0L,EAAGja,OAAQga,SAC1G,KAAK,EAUD,OATA7K,EAAS8K,EAAGja,OACZ4N,EAAUuB,EAAOrB,SAASF,SAC1BoV,EAAapV,IAAYA,EAAQsV,MAAQtV,EAAQrE,SAE7C0Z,EAAa1Z,KAAK4Z,MAAMH,GAvC1BI,EAwCoBH,EAxCLJ,EAwCiB3Z,EAAQ2Z,kBAvC3D7d,KAAKqe,IAAIT,GAAqBC,GAAmBrZ,UAAY4Z,IAAkB,MAwCtDla,EAAQ2Z,kBAAoBI,EAAa1Z,KAAKmZ,QAG/C,CAAC,EAAcvT,GA5C9B,IAAUiU,EAAeP,UAmDtC,IAAIS,GAA2B,CAClCroB,KAAM,oBACNoY,KAAM,CAAC,YAAa,WACpBkQ,SAAU,QACVC,aAAc,mBCpCX,IAAIC,GAAgC,CACvCxoB,KAAM,yBACNkE,KAAM,QACNkU,KAAM,CAAC,iBAAkB,eAElBqQ,GAAqB,SAAUC,GAAU,MAAO,CACvDnQ,aAAc,SAAUC,GAzBrB,IAA6BvK,EA0B5BuK,EAAYC,KA1BgBxK,EA0BQya,EAzBjC,SAAUvkB,GAAQ,OAAO,SAAUuU,GACtC,IAAIpF,EAAUoF,EAAKpF,QACnB,IAAK,EAAYV,WAAWU,GACxB,OAAOnP,EAAKuU,GAChB,IAAI/F,EAAUW,EAAQX,QAClBgW,EAAsC,SAApB1a,EAAQ4O,QAAqB,aAAe,mBAUlE,OATKlK,EAAQgW,GAIThW,EAAQgW,IAAoB,IAAM1a,EAAQuP,iBAH1C7K,EAAQgW,GAAmB,GAAK1a,EAAQuP,iBAKxCvP,EAAQ2a,kBACRjW,EAAQgW,IAAoB,IAAM1a,EAAQ2a,iBAEvCzkB,EAAK,mBAAS,mBAAS,GAAIuU,GAAO,CAAEpF,QAASA,QAUPkV,OC3B1CK,GAAiB,WACxB,IAAIC,EAAkB,GAClBC,EAAkB,GAClBC,EAAiB,IAAIjN,IAoCrBkN,EAAU,SAAUC,GASpB,OARAJ,EAAgBK,SAAQ,SAAUC,GAE9BF,EAAQzQ,IAAI2Q,EAAMC,WAAY,mBAAS,GAAID,OAE/CL,EAAgBI,SAAQ,SAAUC,GAE9BF,EAAQI,cAAcF,EAAMC,WAAY,mBAAS,GAAID,OAElDF,GAEPK,EAA+B,SAAU/gB,GACzC,IAAIghB,EAAyB,GAkB7B,OAjBAhhB,EAAKihB,OAAON,SAAQ,SAAUC,GACE,IAAxBA,EAAMK,OAAOrnB,QAAuC,IAAvBgnB,EAAMM,MAAMtnB,OACzConB,EAAuBhkB,KAAK4jB,GAG5BI,EAAuBhkB,KAAKnD,MAAMmnB,EAAwB,mBAASD,EAA6BH,QAGxGI,EAAuBhkB,KAAKgD,GAC5BA,EAAKkhB,MAAMC,UAAUR,SAAQ,SAAUC,GACP,IAAxBA,EAAMK,OAAOrnB,QAAuC,IAAvBgnB,EAAMM,MAAMtnB,OACzConB,EAAuBhkB,KAAK4jB,GAG5BI,EAAuBhkB,KAAKnD,MAAMmnB,EAAwB,mBAASD,EAA6BH,QAGjGI,GAKPI,EAAoB,WACpB,IAvEiBvT,EAuEbwT,EAA4B,GAC5BC,EAA4B,GAC5BC,EAA2B,GAkC/B,OAjCAjB,EAAgBK,SAAQ,SAAUC,GAC9B,IAAIY,EAAkB,mBAAS,mBAAS,GAAIZ,GAAQ,CAAEK,OAAQ,GAAIC,MAAO,KACrEM,EAAgBhqB,OAChB+pB,EAAyBC,EAAgBhqB,MAAQgqB,GACrDH,EAA0BrkB,KAAKwkB,MAEnCjB,EAAgBI,SAAQ,SAAUC,GAC9B,IAAIY,EAAkB,mBAAS,mBAAS,GAAIZ,GAAQ,CAAEK,OAAQ,GAAIC,MAAO,KACrEM,EAAgBhqB,OAChB+pB,EAAyBC,EAAgBhqB,MAAQgqB,GACrDF,EAA0BtkB,KAAKwkB,MAEnCF,EAA0BX,SAAQ,SAAUC,GACxC,GAAIA,EAAMb,aAAc,CACpB,IAAIA,EAAewB,EAAyBX,EAAMb,cAClD,QAAqB3iB,IAAjB2iB,EACA,MAAM,IAAI1c,MAAMud,EAAMb,aAAe,8BAAgCa,EAAMppB,MAAQ,aAAe,eAAiBopB,EAAMd,SAAW,IAAMc,EAAMb,cAE7H,UAAnBa,EAAMd,UACNC,EAAamB,MAAMlkB,KAAK4jB,GAEL,WAAnBA,EAAMd,UACNC,EAAakB,OAAOjkB,KAAK4jB,QAhGpB/S,EAoGIwT,EAnGdxT,EAAQlB,MAAK,SAAU7O,EAAG5E,GAC7B,OAAOuoB,GAAYvoB,EAAEwC,MAAQ+lB,GAAY3jB,EAAEpC,OACvCgmB,GAAgBxoB,EAAE2W,UAAY,UAAY6R,GAAgB5jB,EAAE+R,UAAY,cAkG3EpP,IAAIsgB,GACJ5V,QAAO,SAAUwW,EAAWC,GAG7B,OADAD,EAAU3kB,KAAKnD,MAAM8nB,EAAW,mBAASC,IAClCD,IACR,IACclhB,KAAI,SAAUmgB,GAAS,OAAOA,EAAMC,eAErDgB,EAAQ,CACR5R,IAAK,SAAU4Q,EAAYpb,QACP,IAAZA,IAAsBA,EAAU,IACpC,IAAIjO,EAAOiO,EAAQjO,KACfopB,EAAQ,mBAAS,CAAEllB,KAAM,aAAcmU,SAAU,SAAUgR,WAAYA,GAAcpb,GACzF,GAAIjO,EAAM,CACN,GAAIgpB,EAAenhB,IAAI7H,GACnB,MAAM,IAAI6L,MAAM,8BAAgC7L,EAAO,KAE3DgpB,EAAevQ,IAAIzY,GAEvB8oB,EAAgBtjB,KAAK4jB,IAEzBE,cAAe,SAAUD,EAAYpb,GACjC,IAAIjO,EAAOiO,EAAQjO,KACfopB,EAAQ,mBAAS,CAAEC,WAAYA,GAAcpb,GACjD,GAAIjO,EAAM,CACN,GAAIgpB,EAAenhB,IAAI7H,GACnB,MAAM,IAAI6L,MAAM,+BAAiC7L,EAAO,KAE5DgpB,EAAevQ,IAAIzY,GAEvB+oB,EAAgBvjB,KAAK4jB,IAEzB5V,MAAO,WAAc,OAAOyV,EAAQJ,OACpCyB,IAAK,SAAUC,GACXA,EAAOhS,aAAa8R,IAExBG,OAAQ,SAAUC,GACd,MAAwB,iBAAbA,EApIA,SAAUA,GACzB,IAAIC,GAAY,EACZC,EAAW,SAAUvB,GACrB,OAAIA,EAAMppB,MAAQopB,EAAMppB,OAASyqB,IAC7BC,GAAY,EACZ1B,EAAe4B,OAAOH,IACf,IAMf,OAFA3B,EAAkBA,EAAgBlC,OAAO+D,GACzC5B,EAAkBA,EAAgBnC,OAAO+D,GAClCD,EAyHQG,CAAaJ,GAvHR,SAAUA,GAC9B,IAAIC,GAAY,EACZC,EAAW,SAAUvB,GACrB,OAAIA,EAAMC,aAAeoB,IACrBC,GAAY,EACRtB,EAAMppB,MACNgpB,EAAe4B,OAAOxB,EAAMppB,OACzB,IAMf,OAFA8oB,EAAkBA,EAAgBlC,OAAO+D,GACzC5B,EAAkBA,EAAgBnC,OAAO+D,GAClCD,EA4GQI,CAAkBL,IAEjCM,YAAa,SAAUN,GACnB,IAAIC,GAAY,EACZC,EAAW,SAAUvB,GACrB,IAAIhR,EAAOgR,EAAMhR,KAAMpY,EAAOopB,EAAMppB,KACpC,OAAIoY,IAAQA,EAAKe,SAASsR,KAClBzqB,GACAgpB,EAAe4B,OAAO5qB,GAC1B0qB,GAAY,GACL,IAMf,OAFA5B,EAAkBA,EAAgBlC,OAAO+D,GACzC5B,EAAkBA,EAAgBnC,OAAO+D,GAClCD,GAEXvkB,OAAQ,SAAUqC,GACd,IAAIiL,EAASwV,EAAQJ,MAErB,OADApV,EAAO6W,IAAI9hB,GACJiL,GAEX8E,aAAc0Q,EACdllB,QAAS,SAAUinB,EAASzK,GACxB,IAAItL,EAAKrF,EACT,IACI,IAAK,IAAImC,EAAK,mBAAS6X,IAAoBD,WAAYvU,EAAKrD,EAAG5N,QAASiR,EAAG9Q,KAAM8Q,EAAKrD,EAAG5N,OAAQ,CAE7F6mB,GAAU3B,EADOjU,EAAG1U,OACCsqB,EAASzK,IAGtC,MAAOhL,GAASN,EAAM,CAAEhP,MAAOsP,GAC/B,QACI,IACQH,IAAOA,EAAG9Q,OAASsL,EAAKmC,EAAGyD,SAAS5F,EAAGhQ,KAAKmS,GAEpD,QAAU,GAAIkD,EAAK,MAAMA,EAAIhP,OAEjC,OAAO+kB,IAGf,OAAOX,GAEPJ,GAAc,CACdgB,WAAY,EACZC,UAAW,EACXC,MAAO,EACPC,gBAAiB,EACjBC,YAAa,GAEbnB,GAAkB,CAClBoB,KAAM,EACNC,OAAQ,EACRC,IAAK,GCvML,GAAwB,WACxB,SAASC,EAAO/C,GACZtpB,KAAKssB,gBAAkB7C,KACvBzpB,KAAKspB,OAASA,EAsBlB,OApBA+C,EAAOpqB,UAAUsqB,KAAO,SAAUC,EAASC,EAAaC,GACpD,IAAI7d,EAAiC,mBAAhB4d,EAA6BA,OAAcjmB,EAC5DmmB,EAAkC,mBAAhBF,EAA6BA,EAAcC,EAC7Dd,EAAUY,EAAQI,kBAAkB5sB,KAAKssB,gBAAiBtsB,KAAKspB,OAAQza,GAC3E,IAAI8d,EASA,OAAOf,EAAQY,GAASrnB,MAAK,SAAUF,GAAU,OAAOA,EAAO6P,UAR/D8W,EAAQY,GACHrnB,MAAK,SAAUF,GAAU,OAAO0nB,EAAS,KAAM1nB,EAAO6P,WAAY,SAAU+X,GAAO,OAAOF,EAASE,MACnG1gB,OAGL,gBAMRkgB,EAAOpqB,UAAUoT,QAAU,WACnBrV,KAAKspB,OAAO/K,eAAelJ,SAC3BrV,KAAKspB,OAAO/K,eAAelJ,WAE5BgX,EAzBgB,GCAvB,GACA,WACIrsB,KAAKssB,gBAAkB7C,MCCxB,SAASqD,GAA2BlP,GACvC,OAAO7I,mBAAmB6I,GAAK5I,QAAQ,YAAY,SAAUtU,GACzD,MAAO,IAAMA,EAAEuI,WAAW,GAAGc,SAAS,OCHvC,SAASgjB,GAAIjsB,GAEhB,IADA,IAAIksB,EAAM,GACDC,EAAK,EAAGA,EAAKlqB,UAAUC,OAAQiqB,IACpCD,EAAIC,EAAK,GAAKlqB,UAAUkqB,GAE5B,MAAqB,iBAANnsB,IAET,WAAYA,GAAKksB,EAAI5pB,QAAQtC,EAAU,SAAM,GAAO,SAAUA,GAAKksB,EAAI5pB,QAAQtC,EAAQ,OAAM,GCChG,IAAIosB,GAAgB,WAEvB,IAAIC,EAAQpsB,OAAOqsB,eAAeptB,MAAM4C,YACpCyqB,EAAcC,SAASzrB,KAAKoB,MAAMwG,OAAQ,mBAAS,CAAC,MAAO1G,YAE3DwqB,EAAW,IAAIF,EAEnB,OADAtsB,OAAOwB,eAAegrB,EAAUJ,EAAMlrB,WAC/BsrB,GAEXL,GAAcjrB,UAAYlB,OAAOY,OAAO8H,OAAOxH,UAAW,CACtDW,YAAa,CACTtB,MAAO4rB,GACPjsB,YAAY,EACZusB,UAAU,EACVC,cAAc,KAGtB1sB,OAAOwB,eAAe2qB,GAAezjB,QACrC,IAAI,GAAgC,SAAUikB,GAE1C,SAASC,IACL,OAAkB,OAAXD,GAAmBA,EAAOzqB,MAAMjD,KAAM+C,YAAc/C,KAiB/D,OAnBA,oBAAU2tB,EAAgBD,GAI1BC,EAAe1rB,UAAU2rB,gBAAkB,WACvC,OAAOC,KAAK/E,MAAM4E,EAAOzrB,UAAU8H,SAASvJ,KAAKR,QAErD2tB,EAAe1rB,UAAU6rB,OAAS,WAC9B,OAAOJ,EAAOzrB,UAAU8H,SAASvJ,KAAKR,OAE1C2tB,EAAeI,WAAa,SAAUhsB,GAClC,OAAIA,aAAkB4rB,EACX5rB,EAGA,IAAI4rB,EADN5rB,aAAkB0H,QAA4B,iBAAX1H,EACdA,EAEJ8rB,KAAKG,UAAUjsB,KAEtC4rB,EApBwB,CAqBjCT,IClDK,ICEI,GACAe,GAIA,GACAC,GAIA,GACAC,GAIAC,GAMA,GACAC,GAIAC,GAIA,GACAC,GAIA,GACAC,GAIA,GACAC,GAIA,GACAC,GAIAC,GAQAC,GASAC,GAMA,GACAC,GAIA,GACAC,GAIA,GACAC,GAMA,GACAC,GAIA,GACAC,GAIA,GACAC,GAIA,GACAC,GAIAC,GAOA,GACAC,GAIA,GACAC,GAIA,GACAC,GAIA,GACAC,GAIA,GACAC,GAIA,GACAC,GAIA,GACAC,GAMA,GACAC,GAIA,GACAC,GAIA,GACAC,GAIA,GACAC,GAIA,GACAC,GDjLAC,GAAmB,6BEqB1B,GAAyC,SAAUxC,GAEnD,SAASyC,EAAwBC,GAC7B,I7BvBsCxnB,EACtC4H,EmByDgC3B,EUnC5BtC,EAAQvM,KAERqwB,E5BbqB,SAAUznB,GACvC,IAAKA,EAAMwU,OACP,MAAM,IAAI3Q,MAAM,qBAEpB,OAAO,mBAAS,mBAAS,GAAI7D,GAAQ,CAAEwU,OAAQoD,GAAgB5X,EAAMwU,U4BSjDkT,CADA,EAAS,EAAS,GAAI,GAAwBF,IAO1DG,ErCLoB,SAAU3nB,GACtC,IAAIgT,EAAcU,EAAqB1T,EAAMgT,aAC7C,OAAO,mBAAS,mBAAS,GAAIhT,GAAQ,CAAEgT,YAAaA,EAAarC,cAAe3Q,EAAM2Q,eAAiB,IAAI,EAAsBqC,KqCA7G4U,CX3BjB,SAA8B5nB,GACjC,IAII8f,EAJAnc,EAAQvM,KAERywB,EAAkBnI,GADJ1f,EAAM+b,aAAe/b,EAAMuV,0BAA0BvV,IAEnE4H,EAAK5H,EAAM8nB,kBAAmBA,OAA2B,IAAPlgB,GAAuBA,EAAImC,EAAK/J,EAAM4f,kBAAmBA,OAA2B,IAAP7V,EAAgB/J,EAAM4f,mBAAqB,EAAI7V,EAAI6L,EAAS5V,EAAM4V,OAiCrM,OA7BIkK,EAFA9f,EAAM8f,OAEGJ,GAAkB1f,EAAM8f,QAIxB,WACL,OAAOJ,GAAkB1f,EAAMwU,OAAxBkL,GACFnjB,MAAK,SAAUiY,GAAU,OAAO,oBAAU7Q,OAAO,OAAQ,GAAQ,WAAc,OAAO,sBAAYvM,MAAM,SAAUwQ,GACnH,OAAQA,EAAG9K,OACP,KAAK,EAAG,MAAO,CAAC,EAAakD,EAAMuU,mBAAmBC,IACtD,KAAK,EAAG,MAAO,CAAC,EAAc,CAAE5M,EAAG7K,QAAW,GAAIyX,cAGrDjY,MAAK,SAAUqL,GAChB,IAAImC,EAAK,iBAAOnC,EAAI,GAAI6M,EAAa1K,EAAG,GAAIyK,EAASzK,EAAG,GACpDqD,EAAKqH,EAAWgI,cAAeA,OAAuB,IAAPrP,EAAgBpN,EAAMyc,cAAgBrP,EAAI2J,EAAKtC,EAAWE,eAAgBA,OAAwB,IAAPoC,EAAgB/W,EAAM4U,YAAcmC,EAKlL,OAFA/W,EAAMyc,cAAgBzc,EAAMyc,eAAiBA,GAAiBjI,EAC9DxU,EAAM4U,YAAc5U,EAAM4U,aAAeD,EAClC,IAAI,GAAY,CACnBoH,YAAa8L,EACbrT,OAAQxU,EAAMyc,cACdrC,QAASpa,EAAM4U,YACfgB,OAAQA,EACRoG,cAAe8L,QAKxB,mBAAS,mBAAS,GAAI9nB,GAAQ,CAAE4f,kBAAmBA,EACtDkI,kBAAmBA,EAAmB/L,YAAa8L,EAAiB/H,OAAQA,IWZ5DiI,E7B3BsB/nB,E6B0BCynB,E7BxBnC,kBAAD,CAAU,mBAAS,GAAIznB,GAAQ,CAAEyX,IAA0B,QAApB7P,EAAK5H,EAAMyX,WAAwB,IAAP7P,GAAgBA,EAAW0P,SAAUtX,EAAMsX,SAAWD,EAAkBrX,GAAS,WAAc,OAAOwX,EAAsBxX,S6BsClM,OARA2D,EAAQmhB,EAAOltB,KAAKR,KAAMuwB,IAAcvwB,MAClCspB,OAASiH,EACfhkB,EAAM+f,gBAAgBpB,KVwBUrc,EUxBWtC,EAAM+c,OVwBC,CACtDnQ,aAAc,SAAUC,GACpBA,EAAY8Q,cAAczB,GAAkB5Z,GAAUoa,QUzBtD1c,EAAM+f,gBAAgBpB,IAAIhS,EAAe3M,EAAM+c,SAC/C/c,EAAM+f,gBAAgBpB,IAAI7B,GAAmB9c,EAAM+c,SACnD/c,EAAM+f,gBAAgBpB,IAAIxK,GAAuBnU,EAAM+c,SACvD/c,EAAM+f,gBAAgBpB,IAAIpK,GAAoBvU,EAAM+c,SACpD/c,EAAM+f,gBAAgBpB,IAAIhK,GAAgB3U,EAAM+c,SACzC/c,EAKX,OAxBA7J,EAAUytB,EAAyBzC,GAqBnCyC,EAAwBluB,UAAUoT,QAAU,WACxCqY,EAAOzrB,UAAUoT,QAAQ7U,KAAKR,OAE3BmwB,EAzBiC,CA0B1C,KD5CSlC,GAGR,KAAwB,GAAsB,KAFzB2C,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IAC/E5C,GAAoBlB,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,yBAGlDotB,GAGR,KAAwB,GAAsB,KAFzB0C,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IAC/E3C,GAAoBnB,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,yBAGlDqtB,GAGR,KAAW,GAAS,KAFZyC,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IAClE1C,GAAOpB,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,WAGhD,SAAWstB,GACPA,EAA8B,UAAI,YAClCA,EAA2B,OAAI,SAC/BA,EAAyB,KAAI,OAHjC,CAIGA,KAAuBA,GAAqB,MAEpCC,GAGR,KAAsB,GAAoB,KAFvBuC,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IAC7ExC,GAAkBtB,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,sBAG3D,SAAWwtB,GACPA,EAAqB,QAAI,yCAD7B,CAEGA,KAAgBA,GAAc,MAEtBC,GAGR,KAAyB,GAAuB,KAF1BqC,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IAChFtC,GAAqBxB,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,0BAGnD0tB,GAGR,KAA0B,GAAwB,KAF3BoC,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IACjFrC,GAAsBzB,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,2BAGpD2tB,GAGR,KAA8B,GAA4B,KAF/BmC,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IACrFpC,GAA0B1B,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,+BAGxD4tB,GAGR,KAAiB,GAAe,KAFlBkC,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,EAAS,EAAS,GAAIA,GAAOA,EAAI/X,SAAW,CAAEA,QAASoX,KAAuBW,EAAIC,OAAS,CAAEA,MAAOZ,MACxKxB,GAAa3B,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,iBAGtD,SAAW6tB,GACPA,EAAwB,MAAI,QAC5BA,EAAiC,eAAI,gBACrCA,EAA2B,SAAI,WAC/BA,EAAgC,cAAI,eACpCA,EAA8B,YAAI,aALtC,CAMGA,KAAqBA,GAAmB,KAE3C,SAAWC,GACPA,EAA4B,eAAI,gBAChCA,EAA2B,cAAI,eAC/BA,EAAyB,YAAI,aAC7BA,EAAoB,OAAI,SACxBA,EAAuB,UAAI,YAC3BA,EAAmC,sBAAI,sBAN3C,CAOGA,KAAgBA,GAAc,KAEjC,SAAWC,GACPA,EAAyB,OAAI,SAC7BA,EAA4B,UAAI,YAChCA,EAAwC,sBAAI,sBAHhD,CAIGA,KAAqBA,GAAmB,MAEhCC,GAGR,KAAsB,GAAoB,KAFvB8B,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IAC7E/B,GAAkB/B,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,uBAGhDiuB,GAGR,KAAsB,GAAoB,KAFvB6B,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IAC7E9B,GAAkBhC,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,uBAGhDkuB,GAKR,KAAuB,GAAqB,KAJxB4B,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,EAAS,EAAS,EAAS,GAAIA,GAAOA,EAAIE,cAAgB,CAAEA,aAAc,GAAaH,mBAAmBC,EAAIE,gBAAoBF,EAAIG,yBAA2B,CACvOA,wBAAyBH,EAAIG,wBAAwBnnB,KAAI,SAAUonB,GAAQ,OAAO,GAAcL,mBAAmBK,QACjHJ,EAAIK,mBAAqB,CAAEA,kBAAmBhB,MACpDlB,GAAmBjC,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,wBAGjDmuB,GAGR,KAAkB,GAAgB,KAFnB2B,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,EAAS,GAAIA,GAAOA,EAAIC,OAAS,CAAEA,MAAOZ,MAC/GjB,GAAclC,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,mBAG5CouB,GAGR,KAA6B,GAA2B,KAF9B0B,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IACpF3B,GAAyBnC,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,8BAGvDquB,GAGR,KAA2B,GAAyB,KAF5ByB,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IAClF1B,GAAuBpC,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,4BAGrDsuB,GAGR,KAA0B,GAAwB,KAF3BwB,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IACjFzB,GAAsBrC,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,0BAG/D,SAAWuuB,GACPA,EAA6B,UAAI,YACjCA,EAAkC,eAAI,gBACtCA,EAA8B,WAAI,YAClCA,EAAwB,KAAI,OAJhC,CAKGA,KAAsBA,GAAoB,MAElCC,GAGR,KAA2B,GAAyB,KAF5BsB,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IAClFvB,GAAuBvC,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,4BAGrDyuB,GAGR,KAAsB,GAAoB,KAFvBqB,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IAC7EtB,GAAkBxC,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,uBAGhD0uB,GAGR,KAAuB,GAAqB,KAFxBoB,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,EAAS,EAAS,GAAIA,GAAOA,EAAIK,mBAAqB,CAAEA,kBAAmBhB,KAAuBW,EAAIM,mBAAqB,CAAEA,kBAAmBjB,MAC1NV,GAAmBzC,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,wBAGjD2uB,GAGR,KAAwB,GAAsB,KAFzBmB,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,EAAS,GAAIA,GAAOA,EAAI/X,SAAW,CAAEA,QAASoX,MACzHT,GAAoB1C,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,yBAGlD4uB,GAGR,KAAoB,GAAkB,KAFrBkB,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,EAAS,EAAS,EAAS,GAAIA,GAAOA,EAAIO,WAAa,CAAEA,UAAWlB,KAAuBW,EAAIK,mBAAqB,CAAEA,kBAAmBhB,KAAuBW,EAAIM,mBAAqB,CAAEA,kBAAmBjB,MACrRR,GAAgB3C,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,qBAG9C6uB,GAGR,KAAqB,GAAmB,KAFtBiB,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,EAAS,EAAS,EAAS,GAAIA,GAAOA,EAAI/X,SAAW,CAAEA,QAASoX,KAAuBW,EAAIC,OAAS,CAAEA,MAAOZ,KAAuBW,EAAIK,mBAAqB,CAAEA,kBAAmBhB,MAC1PP,GAAiB5C,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,sBAG/C8uB,GAKR,KAAsB,GAAoB,KAJvBgB,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,EAAS,EAAS,EAAS,GAAIA,GAAOA,EAAIE,cAAgB,CAAEA,aAAc,GAAaH,mBAAmBC,EAAIE,gBAAoBF,EAAIG,yBAA2B,CACtOA,wBAAyBH,EAAIG,wBAAwBnnB,KAAI,SAAUonB,GAAQ,OAAO,GAAcL,mBAAmBK,QACjHJ,EAAIK,mBAAqB,CAAEA,kBAAmBhB,MACpDN,GAAkB7C,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,uBAGhD+uB,GAGR,KAAuB,GAAqB,KAFxBe,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,EAAS,GAAIA,GAAOA,EAAI/X,SAAW,CAAEA,QAASoX,MACxHL,GAAmB9C,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,wBAGjDgvB,GAGR,KAA4B,GAA0B,KAF7Bc,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IACnFf,GAAwB/C,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,6BAGtDivB,GAGR,KAAiB,GAAe,KAFlBa,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IACxEd,GAAahD,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,kBAG3CkvB,GAGR,KAAsB,GAAoB,KAFvBY,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IAC7Eb,GAAkBjD,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,uBAGhDmvB,GAGR,KAAkC,GAAgC,KAFnCW,mBAAqB,SAAUC,GAAO,OAAQ,EAAS,GAAIA,IACzFZ,GAA8BlD,IAAM,SAAUjsB,GAAK,OAAO,GAAMA,EAAG,kCEhLhE,IAqiBHuwB,GAAkD,SAAUvc,EAAQqM,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WACxH,IAAIitB,EAAc9gB,EAAIiD,EAAU8d,EAAevb,EAAI2J,EAAIC,EAAImE,EAAI0B,EAAIC,EAAIC,EAAIC,EAAIC,EAAI2L,EAAIC,EAAIC,EAAY5Y,EACnG6Y,EACJ,OAAOvsB,EAAYpF,MAAM,SAAU4xB,GAC/B,OAAQA,EAAGlsB,OACP,KAAK,EAGD,OAFA8K,EAAK,CAAC,EAAS,GAAIsE,IACnB6c,EAAK,GACE,CAAC,EAAaE,GAAU/c,EAAOzP,KAAM8b,IAChD,KAAK,EAKD,OAJAmQ,EAAe,EAASruB,WAAM,EAAQuN,EAAGzJ,OAAO,EAAE4qB,EAAGtsB,KAAOusB,EAAGjsB,OAAQgsB,MACvEJ,EAAY,eACZA,EAAYO,GAAsBhd,EAAQwc,EAAajsB,MAClDksB,GAED,IAAK,sBACL,IAAK,sDAAuD,MAAO,CAAC,EAAa,GACjF,IAAK,sBACL,IAAK,sDAAuD,MAAO,CAAC,EAAa,GACjF,IAAK,oBACL,IAAK,oDAAqD,MAAO,CAAC,EAAa,GAC/E,IAAK,4BACL,IAAK,4DAA6D,MAAO,CAAC,EAAa,GACvF,IAAK,2BACL,IAAK,2DAA4D,MAAO,CAAC,EAAa,IACtF,IAAK,yBACL,IAAK,yDAA0D,MAAO,CAAC,EAAa,IACpF,IAAK,wBACL,IAAK,wDAAyD,MAAO,CAAC,EAAa,IACnF,IAAK,yBACL,IAAK,yDAA0D,MAAO,CAAC,EAAa,IACpF,IAAK,oBACL,IAAK,oDAAqD,MAAO,CAAC,EAAa,IAC/E,IAAK,0BACL,IAAK,0DAA2D,MAAO,CAAC,EAAa,IACrF,IAAK,gCACL,IAAK,gEAAiE,MAAO,CAAC,EAAa,IAE/F,MAAO,CAAC,EAAa,IACzB,KAAK,EAED,OADAvb,EAAK,CAAC,IACC,CAAC,EAAa+b,GAAoDT,EAAcnQ,IAC3F,KAAK,EAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQ+S,EAAGjP,OAAO,CAAE6qB,EAAGjsB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,EAED,OADA6K,EAAK,CAAC,IACC,CAAC,EAAasS,GAAoDX,EAAcnQ,IAC3F,KAAK,EAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQ0c,EAAG5Y,OAAO,CAAE6qB,EAAGjsB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,EAED,OADA8K,EAAK,CAAC,IACC,CAAC,EAAasS,GAAkDZ,EAAcnQ,IACzF,KAAK,EAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQ2c,EAAG7Y,OAAO,CAAE6qB,EAAGjsB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,EAED,OADAiP,EAAK,CAAC,IACC,CAAC,EAAaoO,GAA0Db,EAAcnQ,IACjG,KAAK,EAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQ8gB,EAAGhd,OAAO,CAAE6qB,EAAGjsB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,GAED,OADA2Q,EAAK,CAAC,IACC,CAAC,EAAa2M,GAAyDd,EAAcnQ,IAChG,KAAK,GAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQwiB,EAAG1e,OAAO,CAAE6qB,EAAGjsB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,GAED,OADA4Q,EAAK,CAAC,IACC,CAAC,EAAa2M,GAAuDf,EAAcnQ,IAC9F,KAAK,GAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQyiB,EAAG3e,OAAO,CAAE6qB,EAAGjsB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,GAED,OADA6Q,EAAK,CAAC,IACC,CAAC,EAAa2M,GAAsDhB,EAAcnQ,IAC7F,KAAK,GAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQ0iB,EAAG5e,OAAO,CAAE6qB,EAAGjsB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,GAED,OADA8Q,EAAK,CAAC,IACC,CAAC,EAAa2M,GAAuDjB,EAAcnQ,IAC9F,KAAK,GAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQ2iB,EAAG7e,OAAO,CAAE6qB,EAAGjsB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,GAED,OADA+Q,EAAK,CAAC,IACC,CAAC,EAAa2M,GAAkDlB,EAAcnQ,IACzF,KAAK,GAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQ4iB,EAAG9e,OAAO,CAAE6qB,EAAGjsB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,GAED,OADA0c,EAAK,CAAC,IACC,CAAC,EAAaiB,GAAwDnB,EAAcnQ,IAC/F,KAAK,GAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQuuB,EAAGzqB,OAAO,CAAE6qB,EAAGjsB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,GAED,OADA2c,EAAK,CAAC,IACC,CAAC,EAAaiB,GAA8DpB,EAAcnQ,IACrG,KAAK,GAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQwuB,EAAG1qB,OAAO,CAAE6qB,EAAGjsB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,GACD4c,EAAaJ,EAAajsB,KAC1BksB,EAAYG,EAAWzT,MAAQyT,EAAWiB,MAAQpB,EAClD9d,EAAW,EAAS,EAAS,GAAIie,GAAa,CAAE9wB,KAAM,GAAK2wB,EAAWzY,QAAS4Y,EAAW5Y,SAAW4Y,EAAWkB,SAAWrB,EAAWsB,OAAQ,SAAUpY,UAAWuX,GAAoBld,KACvL8c,EAAGlsB,MAAQ,GACf,KAAK,GAID,OAHAoT,EAAUrF,EAASqF,SAAWrF,EAASmf,SAAWrB,EAClD9d,EAASqF,QAAUA,SACZrF,EAASmf,QACT,CAAC,EAAcluB,QAAQE,OAAO7D,OAAO+B,OAAO,IAAI2J,MAAMqM,GAAUrF,aA+DnFqf,GAA+C,SAAUhe,EAAQqM,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WACrH,IAAIitB,EAAc9gB,EAAIiD,EAAU8d,EAAevb,EAAI2J,EAAIC,EAAImE,EAAI0B,EAAIC,EAAIC,EAAIC,EAAI8L,EAAY5Y,EACvF+M,EACJ,OAAOzgB,EAAYpF,MAAM,SAAUwxB,GAC/B,OAAQA,EAAG9rB,OACP,KAAK,EAGD,OAFA8K,EAAK,CAAC,EAAS,GAAIsE,IACnB+Q,EAAK,GACE,CAAC,EAAagM,GAAU/c,EAAOzP,KAAM8b,IAChD,KAAK,EAKD,OAJAmQ,EAAe,EAASruB,WAAM,EAAQuN,EAAGzJ,OAAO,EAAE8e,EAAGxgB,KAAOmsB,EAAG7rB,OAAQkgB,MACvE0L,EAAY,eACZA,EAAYO,GAAsBhd,EAAQwc,EAAajsB,MAClDksB,GAED,IAAK,sBACL,IAAK,sDAAuD,MAAO,CAAC,EAAa,GACjF,IAAK,sBACL,IAAK,sDAAuD,MAAO,CAAC,EAAa,GACjF,IAAK,oBACL,IAAK,oDAAqD,MAAO,CAAC,EAAa,GAC/E,IAAK,4BACL,IAAK,4DAA6D,MAAO,CAAC,EAAa,GACvF,IAAK,2BACL,IAAK,2DAA4D,MAAO,CAAC,EAAa,IACtF,IAAK,yBACL,IAAK,yDAA0D,MAAO,CAAC,EAAa,IACpF,IAAK,wBACL,IAAK,wDAAyD,MAAO,CAAC,EAAa,IACnF,IAAK,oBACL,IAAK,oDAAqD,MAAO,CAAC,EAAa,IAEnF,MAAO,CAAC,EAAa,IACzB,KAAK,EAED,OADAvb,EAAK,CAAC,IACC,CAAC,EAAa+b,GAAoDT,EAAcnQ,IAC3F,KAAK,EAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQ+S,EAAGjP,OAAO,CAAEyqB,EAAG7rB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,EAED,OADA6K,EAAK,CAAC,IACC,CAAC,EAAasS,GAAoDX,EAAcnQ,IAC3F,KAAK,EAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQ0c,EAAG5Y,OAAO,CAAEyqB,EAAG7rB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,EAED,OADA8K,EAAK,CAAC,IACC,CAAC,EAAasS,GAAkDZ,EAAcnQ,IACzF,KAAK,EAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQ2c,EAAG7Y,OAAO,CAAEyqB,EAAG7rB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,EAED,OADAiP,EAAK,CAAC,IACC,CAAC,EAAaoO,GAA0Db,EAAcnQ,IACjG,KAAK,EAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQ8gB,EAAGhd,OAAO,CAAEyqB,EAAG7rB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,GAED,OADA2Q,EAAK,CAAC,IACC,CAAC,EAAa2M,GAAyDd,EAAcnQ,IAChG,KAAK,GAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQwiB,EAAG1e,OAAO,CAAEyqB,EAAG7rB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,GAED,OADA4Q,EAAK,CAAC,IACC,CAAC,EAAa2M,GAAuDf,EAAcnQ,IAC9F,KAAK,GAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQyiB,EAAG3e,OAAO,CAAEyqB,EAAG7rB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,GAED,OADA6Q,EAAK,CAAC,IACC,CAAC,EAAa2M,GAAsDhB,EAAcnQ,IAC7F,KAAK,GAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQ0iB,EAAG5e,OAAO,CAAEyqB,EAAG7rB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,GAED,OADA8Q,EAAK,CAAC,IACC,CAAC,EAAa4M,GAAkDlB,EAAcnQ,IACzF,KAAK,GAED,OADA1N,EAAW,EAASxQ,WAAM,EAAQ,CAAC,EAASA,WAAM,EAAQ2iB,EAAG7e,OAAO,CAAEyqB,EAAG7rB,UAAY,CAAE/E,KAAM2wB,EAAW9W,UAAWuX,GAAoBld,MAChI,CAAC,EAAa,IACzB,KAAK,GACD4c,EAAaJ,EAAajsB,KAC1BksB,EAAYG,EAAWzT,MAAQyT,EAAWiB,MAAQpB,EAClD9d,EAAW,EAAS,EAAS,GAAIie,GAAa,CAAE9wB,KAAM,GAAK2wB,EAAWzY,QAAS4Y,EAAW5Y,SAAW4Y,EAAWkB,SAAWrB,EAAWsB,OAAQ,SAAUpY,UAAWuX,GAAoBld,KACvL0c,EAAG9rB,MAAQ,GACf,KAAK,GAID,OAHAoT,EAAUrF,EAASqF,SAAWrF,EAASmf,SAAWrB,EAClD9d,EAASqF,QAAUA,SACZrF,EAASmf,QACT,CAAC,EAAcluB,QAAQE,OAAO7D,OAAO+B,OAAO,IAAI2J,MAAMqM,GAAUrF,aAsJnFse,GAAsD,SAAUT,EAAcnQ,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WAClI,IAAI0uB,EAAUnmB,EACd,OAAOxH,EAAYpF,MAAM,SAAUwQ,GAW/B,OAVAuiB,EAAW,CACPnyB,KAAM,sBACNiyB,OAAQ,SACRpY,UAAWuX,GAAoBV,GAC/BsB,aAASpsB,QAGQA,KADrBoG,EAAO0kB,EAAajsB,MACXutB,SAA0C,OAAjBhmB,EAAKgmB,UACnCG,EAASH,QAAUhmB,EAAKgmB,SAErB,CAAC,EAAcG,UAG1Bd,GAAsD,SAAUX,EAAcnQ,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WAClI,IAAI0uB,EAAUnmB,EACd,OAAOxH,EAAYpF,MAAM,SAAUwQ,GAW/B,OAVAuiB,EAAW,CACPnyB,KAAM,sBACNiyB,OAAQ,SACRpY,UAAWuX,GAAoBV,GAC/BxY,aAAStS,QAGQA,KADrBoG,EAAO0kB,EAAajsB,MACXyT,SAA0C,OAAjBlM,EAAKkM,UACnCia,EAASja,QAAUlM,EAAKkM,SAErB,CAAC,EAAcia,UAG1Bb,GAAoD,SAAUZ,EAAcnQ,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WAChI,IAAI0uB,EAAUnmB,EACd,OAAOxH,EAAYpF,MAAM,SAAUwQ,GAW/B,OAVAuiB,EAAW,CACPnyB,KAAM,oBACNiyB,OAAQ,SACRpY,UAAWuX,GAAoBV,GAC/BxY,aAAStS,QAGQA,KADrBoG,EAAO0kB,EAAajsB,MACXyT,SAA0C,OAAjBlM,EAAKkM,UACnCia,EAASja,QAAUlM,EAAKkM,SAErB,CAAC,EAAcia,UAG1BZ,GAA4D,SAAUb,EAAcnQ,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WACxI,IAAI0uB,EAAUnmB,EACd,OAAOxH,EAAYpF,MAAM,SAAUwQ,GAW/B,OAVAuiB,EAAW,CACPnyB,KAAM,4BACNiyB,OAAQ,SACRpY,UAAWuX,GAAoBV,GAC/BsB,aAASpsB,QAGQA,KADrBoG,EAAO0kB,EAAajsB,MACXutB,SAA0C,OAAjBhmB,EAAKgmB,UACnCG,EAASH,QAAUhmB,EAAKgmB,SAErB,CAAC,EAAcG,UAG1BX,GAA2D,SAAUd,EAAcnQ,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WACvI,IAAI0uB,EAAUnmB,EACd,OAAOxH,EAAYpF,MAAM,SAAUwQ,GAW/B,OAVAuiB,EAAW,CACPnyB,KAAM,2BACNiyB,OAAQ,SACRpY,UAAWuX,GAAoBV,GAC/BxY,aAAStS,QAGQA,KADrBoG,EAAO0kB,EAAajsB,MACXyT,SAA0C,OAAjBlM,EAAKkM,UACnCia,EAASja,QAAUlM,EAAKkM,SAErB,CAAC,EAAcia,UAG1BV,GAAyD,SAAUf,EAAcnQ,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WACrI,IAAI0uB,EAAUnmB,EACd,OAAOxH,EAAYpF,MAAM,SAAUwQ,GAe/B,OAdAuiB,EAAW,CACPnyB,KAAM,yBACNiyB,OAAQ,SACRpY,UAAWuX,GAAoBV,GAC/BxY,aAAStS,EACTwsB,uBAAmBxsB,QAEqBA,IAAxC8qB,EAAa/d,QAAQ,iBACrBwf,EAASC,kBAAoB1B,EAAa/d,QAAQ,qBAGjC/M,KADrBoG,EAAO0kB,EAAajsB,MACXyT,SAA0C,OAAjBlM,EAAKkM,UACnCia,EAASja,QAAUlM,EAAKkM,SAErB,CAAC,EAAcia,UAG1BT,GAAwD,SAAUhB,EAAcnQ,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WACpI,IAAI0uB,EAAUnmB,EACd,OAAOxH,EAAYpF,MAAM,SAAUwQ,GAW/B,OAVAuiB,EAAW,CACPnyB,KAAM,wBACNiyB,OAAQ,SACRpY,UAAWuX,GAAoBV,GAC/BsB,aAASpsB,QAGQA,KADrBoG,EAAO0kB,EAAajsB,MACXutB,SAA0C,OAAjBhmB,EAAKgmB,UACnCG,EAASH,QAAUhmB,EAAKgmB,SAErB,CAAC,EAAcG,UAG1BR,GAAyD,SAAUjB,EAAcnQ,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WACrI,IAAI0uB,EAAUnmB,EACd,OAAOxH,EAAYpF,MAAM,SAAUwQ,GAW/B,OAVAuiB,EAAW,CACPnyB,KAAM,yBACNiyB,OAAQ,SACRpY,UAAWuX,GAAoBV,GAC/BxY,aAAStS,QAGQA,KADrBoG,EAAO0kB,EAAajsB,MACXyT,SAA0C,OAAjBlM,EAAKkM,UACnCia,EAASja,QAAUlM,EAAKkM,SAErB,CAAC,EAAcia,UAG1BP,GAAoD,SAAUlB,EAAcnQ,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WAChI,IAAI0uB,EAAUnmB,EACd,OAAOxH,EAAYpF,MAAM,SAAUwQ,GAW/B,OAVAuiB,EAAW,CACPnyB,KAAM,oBACNiyB,OAAQ,SACRpY,UAAWuX,GAAoBV,GAC/BxY,aAAStS,QAGQA,KADrBoG,EAAO0kB,EAAajsB,MACXyT,SAA0C,OAAjBlM,EAAKkM,UACnCia,EAASja,QAAUlM,EAAKkM,SAErB,CAAC,EAAcia,UAG1BN,GAA0D,SAAUnB,EAAcnQ,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WACtI,IAAI0uB,EAAUnmB,EACd,OAAOxH,EAAYpF,MAAM,SAAUwQ,GAW/B,OAVAuiB,EAAW,CACPnyB,KAAM,0BACNiyB,OAAQ,SACRpY,UAAWuX,GAAoBV,GAC/BxY,aAAStS,QAGQA,KADrBoG,EAAO0kB,EAAajsB,MACXyT,SAA0C,OAAjBlM,EAAKkM,UACnCia,EAASja,QAAUlM,EAAKkM,SAErB,CAAC,EAAcia,UAG1BL,GAAgE,SAAUpB,EAAcnQ,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WAC5I,IAAI0uB,EAAUnmB,EACd,OAAOxH,EAAYpF,MAAM,SAAUwQ,GAW/B,OAVAuiB,EAAW,CACPnyB,KAAM,gCACNiyB,OAAQ,SACRpY,UAAWuX,GAAoBV,GAC/BxY,aAAStS,QAGQA,KADrBoG,EAAO0kB,EAAajsB,MACXyT,SAA0C,OAAjBlM,EAAKkM,UACnCia,EAASja,QAAUlM,EAAKkM,SAErB,CAAC,EAAcia,UAY1BE,GAAkC,SAAUrqB,EAAOuY,GACnD,OAAOpgB,OAAOkW,QAAQrO,GAAO2L,QAAO,SAAU2e,EAAK1iB,GAC/C,IAAImC,EACAqD,EAAKrP,EAAO6J,EAAI,GAAI5O,EAAMoU,EAAG,GAAI1U,EAAQ0U,EAAG,GAChD,OAAQ,EAAS,EAAS,GAAIkd,KAAOvgB,EAAK,IAAO/Q,GAAON,EAAOqR,MAChE,KAqCHwgB,GAAgD,SAAUre,EAAQqM,GAClE,OAAQrM,GAAU,IAAIjL,KAAI,SAAUmgB,GAAS,OAfD,SAAUlV,EAAQqM,GAC9D,MAAO,CACHiS,OAAQ,oBACRC,uBAAgD7sB,IAA7BsO,EAAOue,mBAAgE,OAA7Bve,EAAOue,kBAC9Dve,EAAOue,uBACP7sB,EACN8sB,aAA4B9sB,IAAnBsO,EAAOwe,SAA4C,OAAnBxe,EAAOwe,QAC1CC,GAAsCze,EAAOwe,QAASnS,QACtD3a,EACNgtB,cAA8BhtB,IAApBsO,EAAO0e,UAA8C,OAApB1e,EAAO0e,SAAoB1e,EAAO0e,cAAWhtB,EACxFitB,cAA8BjtB,IAApBsO,EAAO2e,UAA8C,OAApB3e,EAAO2e,SAAoB3e,EAAO2e,cAAWjtB,EACxFktB,WAAwBltB,IAAjBsO,EAAO4e,OAAwC,OAAjB5e,EAAO4e,MAAiB5e,EAAO4e,WAAQltB,GAI5BmtB,CAA0C3J,EAAO7I,OAqBrGoS,GAAwC,SAAUze,EAAQqM,GAC1D,OAAQrM,GAAU,IAAIjL,KAAI,SAAUmgB,GAAS,OA1DZ,SAAUlV,EAAQqM,GACnD,MAAO,CACHiS,OAAQ,SACRQ,UAAsBptB,IAAhBsO,EAAO8e,MAAsC,OAAhB9e,EAAO8e,KAAgB9e,EAAO8e,UAAOptB,EACxElF,WAAwBkF,IAAjBsO,EAAOxT,OAAwC,OAAjBwT,EAAOxT,MAAiBwT,EAAOxT,WAAQkF,GAsD5BqtB,CAA+B7J,OAEnF8J,GAAuC,SAAUhf,EAAQqM,GACzD,MAAO,CACHiS,OAAQ,eACRW,iBAAoCvtB,IAAvBsO,EAAOif,aAAoD,OAAvBjf,EAAOif,YAAuBjf,EAAOif,iBAAcvtB,EACpGwtB,wBAAkDxtB,IAA9BsO,EAAOkf,oBAAkE,OAA9Blf,EAAOkf,mBAChEb,GAA8Cre,EAAOkf,mBAAoB7S,QACzE3a,EACNytB,aAA4BztB,IAAnBsO,EAAOmf,SAA4C,OAAnBnf,EAAOmf,QAAmBnf,EAAOmf,aAAUztB,IAGxF0tB,GAA4C,SAAUpf,EAAQqM,GAC9D,MAAO,CACHiS,OAAQ,oBACRe,oBAA0C3tB,IAA1BsO,EAAOqf,gBAA0D,OAA1Brf,EAAOqf,eAA0Brf,EAAOqf,oBAAiB3tB,EAChH4tB,oBAA0C5tB,IAA1BsO,EAAOsf,gBAA0D,OAA1Btf,EAAOsf,eAA0Btf,EAAOsf,oBAAiB5tB,IAGpH6tB,GAAoC,SAAUvf,EAAQqM,GACtD,OAAOpgB,OAAOkW,QAAQnC,GAAQP,QAAO,SAAU2e,EAAK1iB,GAChD,IAAImC,EACAqD,EAAKrP,EAAO6J,EAAI,GAAI5O,EAAMoU,EAAG,GAAI1U,EAAQ0U,EAAG,GAChD,OAAQ,EAAS,EAAS,GAAIkd,KAAOvgB,EAAK,IAAO/Q,GAAON,EAAOqR,MAChE,KAEHqf,GAAsB,SAAUld,GAAU,MAAO,CACjD4F,eAAgB5F,EAAOxB,WACvBghB,YAAaxf,EAAOvB,QACpBghB,UAAWzf,EAAOvB,QAAQ,sBAW1BihB,GAAoB,SAAUC,EAAYtT,GAC1C,OATc,SAAUsT,EAAYtT,GAEpC,YADmB,IAAfsT,IAAyBA,EAAa,IAAItrB,YAC1CsrB,aAAsBtrB,WACfzE,QAAQC,QAAQ8vB,GAEpBtT,EAAQ1C,gBAAgBgW,IAAe/vB,QAAQC,QAAQ,IAAIwE,YAI3DurB,CAAYD,EAAYtT,GAAShc,MAAK,SAAUE,GAAQ,OAAO8b,EAAQnB,YAAY3a,OAE1FsvB,GAA4B,SAAUrzB,GACtC,aAAiBkF,IAAVlF,GACO,KAAVA,GACEP,OAAO6zB,oBAAoBtzB,GAAOyY,SAAS,WAA6B,GAAhBzY,EAAM0B,QAC9DjC,OAAO6zB,oBAAoBtzB,GAAOyY,SAAS,SAAyB,GAAdzY,EAAM4c,OAElE2T,GAAY,SAAU4C,EAAYtT,GAClC,OAAOqT,GAAkBC,EAAYtT,GAAShc,MAAK,SAAUyE,GACzD,OAAIA,EAAQ5G,OACD6qB,KAAK/E,MAAMlf,GAEf,OAMXkoB,GAAwB,SAAUhd,EAAQlI,GAC1C,IAAwB7K,EAAQH,EAC5BizB,EAAoB,SAAUC,GAC9B,IAAIC,EAAaD,EAOjB,OANIC,EAAW3xB,QAAQ,MAAQ,IAC3B2xB,EAAaA,EAAWrV,MAAM,KAAK,IAEnCqV,EAAW3xB,QAAQ,MAAQ,IAC3B2xB,EAAaA,EAAWrV,MAAM,KAAK,IAEhCqV,GAEPC,GAXoBjzB,EAWA+S,EAAOvB,QAXC3R,EAWQ,mBAXMb,OAAOuT,KAAKvS,GAAQkzB,MAAK,SAAU3uB,GAAK,OAAOA,EAAEqa,gBAAkB/e,EAAI+e,kBAYrH,YAAkBna,IAAdwuB,EACOH,EAAkB/f,EAAOvB,QAAQyhB,SAE1BxuB,IAAdoG,EAAKqR,KACE4W,EAAkBjoB,EAAKqR,WAEXzX,IAAnBoG,EAAa,OACNioB,EAAkBjoB,EAAa,QAEnC,ICvxCJ,IAAIsoB,GAA+B,CACtCt0B,KAAM,yBACNkE,KAAM,cACNkU,KAAM,CAAC,iBAEAmc,GAA6B,CACpCv0B,KAAM,uBACNkE,KAAM,YACNkU,KAAM,CAAC,eAEJ,SAASoc,GAAe9L,EAAQ+L,EAAYC,GAC/C,MAAO,CACHnc,aAAc,SAAUoc,GACpBA,EAAalc,ICdlB,SAAgCxK,EAASymB,GAC5C,IAAI/oB,EAAQvM,KACZ,OAAO,SAAU+E,GAAQ,OAAO,SAAUuU,GAAQ,OAAO,oBAAU/M,OAAO,OAAQ,GAAQ,WACtF,IAAIkH,EAAU+hB,EACd,OAAO,sBAAYx1B,MAAM,SAAUwQ,GAC/B,OAAQA,EAAG9K,OACP,KAAK,EAAG,MAAO,CAAC,EAAaX,EAAKuU,IAClC,KAAK,EAED,OADA7F,EAAYjD,EAAG7K,OAAQ8N,SAChB,CAAC,EAAa6hB,EAAa7hB,EAAU5E,IAChD,KAAK,EAED,OADA2mB,EAAShlB,EAAG7K,OACL,CAAC,EAAc,CACd8N,SAAUA,EACVqB,OAAQ0gB,aDAPC,CAAuBnM,EAAQgM,GAAeJ,IAC/DK,EAAalc,IEflB,SAA8BxK,EAASwmB,GAC1C,IAAI9oB,EAAQvM,KACZ,OAAO,SAAU+E,GAAQ,OAAO,SAAUuU,GAAQ,OAAO,oBAAU/M,OAAO,OAAQ,GAAQ,WACtF,IAAI2H,EACJ,OAAO,sBAAYlU,MAAM,SAAUwQ,GAC/B,OAAQA,EAAG9K,OACP,KAAK,EAAG,MAAO,CAAC,EAAa2vB,EAAW/b,EAAK1Q,MAAOiG,IACpD,KAAK,EAED,OADAqF,EAAU1D,EAAG7K,OACN,CAAC,EAAcZ,EAAK,mBAAS,mBAAS,GAAIuU,GAAO,CAAEpF,QAASA,eFM1DwhB,CAAqBpM,EAAQ+L,GAAaF,MGXvE,I,GAAI,GAAiC,SAAUzH,GAI3C,SAASiI,EAAgB/sB,GACrB,IAAI2D,EAEJmhB,EAAOltB,KAAKR,OAASA,KAErB,OADAuM,EAAM3D,MAAQA,EACP2D,EAuBX,OA/BA7J,EAAUizB,EAAiBjI,GAW3BiI,EAAgB1zB,UAAU2qB,kBAAoB,SAAUxT,EAAagX,EAAevhB,GAChF7O,KAAKssB,gBAAgBpB,IAAIkK,GAAehF,EAAepwB,KAAK8rB,UAAW9rB,KAAKisB,cAC5E,IAAIhB,EAAQ7R,EAAYrS,OAAO/G,KAAKssB,iBAEhCsJ,EAA0B,CAC1BxU,OAFSgP,EAAchP,OAGvBC,wBAAyB,GAAgBuP,mBACzCtP,yBAA0B,GAAiBsP,oBAE3CrS,EAAiB6R,EAAc7R,eACnC,OAAO0M,EAAMtmB,SAAQ,SAAUuP,GAC3B,OAAOqK,EAAejJ,OAAOpB,EAAQA,QAASrF,GAAW,MAC1D+mB,IAEPD,EAAgB1zB,UAAU6pB,UAAY,SAAUljB,EAAOuY,GACnD,OJ4I2C,SAAUvY,EAAOuY,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WACpH,IAAIkP,EAASsiB,EAAsCC,EAAYzwB,EAAMmL,EAAIoD,EAAUjB,EAAIoB,EAAUF,EACjG,OAAOzO,EAAYpF,MAAM,SAAUgW,GAC/B,OAAQA,EAAGtQ,OACP,KAAK,EAKD,GAJA6N,EAAU,CACN,eAAgB,oBAEpBsiB,EAAe,0DACMrvB,IAAjBoC,EAAMmtB,OAQN,MAAM,IAAItpB,MAAM,mDANhB,IADAqpB,EAAaltB,EAAMmtB,QACJ/yB,QAAU,EACrB,MAAM,IAAIyJ,MAAM,sDAOxB,GALIopB,EAAeA,EAAa7gB,QAAQ,WAAY,GAA6B8gB,SAK3DtvB,IAAlBoC,EAAMotB,QAQN,MAAM,IAAIvpB,MAAM,oDANhB,IADAqpB,EAAaltB,EAAMotB,SACJhzB,QAAU,EACrB,MAAM,IAAIyJ,MAAM,uDAOxB,GALIopB,EAAeA,EAAa7gB,QAAQ,YAAa,GAA6B8gB,SAK3DtvB,IAAnBoC,EAAMqtB,SAQN,MAAM,IAAIxpB,MAAM,qDANhB,IADAqpB,EAAaltB,EAAMqtB,UACJjzB,QAAU,EACrB,MAAM,IAAIyJ,MAAM,wDAYxB,OAVIopB,EAAeA,EAAa7gB,QAAQ,aAAc,GAA6B8gB,IAKnFzwB,EAAOwoB,KAAKG,UAAU,EAAS,EAAS,EAAS,QAAyBxnB,IAApBoC,EAAMwoB,WAA2B,CAAEA,UAAWxoB,EAAMwoB,iBAA4C5qB,IAA5BoC,EAAMuoB,mBAAmC,CAC/JA,kBAAmB8B,GAAgCrqB,EAAMuoB,kBAAmBhQ,UAC9C3a,IAA5BoC,EAAMsoB,mBAAmC,CAC3CA,kBAAmB+B,GAAgCrqB,EAAMsoB,kBAAmB/P,MAEzE,CAAC,EAAaA,EAAQjB,YACjC,KAAK,EAED,OADA1P,EAAKwF,EAAGrQ,OAAQiO,EAAWpD,EAAGoD,SAAUjB,EAAKnC,EAAGuD,SAAUA,OAAkB,IAAPpB,EAAgB,QAAUA,EAAIkB,EAAOrD,EAAGqD,KACtG,CAAC,EAAc,IAAI,EAAc,CAChCE,SAAUA,EACVH,SAAUA,EACVC,KAAMA,EACNT,OAAQ,OACRG,QAASA,EACTS,KAAM6hB,EACNxwB,KAAMA,YIlMf6wB,CAAsCttB,EAAOuY,IAExDwU,EAAgB1zB,UAAUgqB,YAAc,SAAUnX,EAAQqM,GACtD,OJ2nB6C,SAAUrM,EAAQqM,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WACvH,IAAI0uB,EAAUnmB,EACd,OAAOxH,EAAYpF,MAAM,SAAUwQ,GAC/B,OAAQA,EAAG9K,OACP,KAAK,EACD,OAA0B,MAAtBoP,EAAOxB,YAAsBwB,EAAOxB,YAAc,IAC3C,CAAC,EAAcwf,GAA6Che,EAAQqM,KAE/E4R,EAAW,CACPtY,UAAWuX,GAAoBld,GAC/Bse,OAAQ,mBACR+C,iBAAa3vB,EACb4vB,gBAAY5vB,EACZsS,aAAStS,EACT6vB,mBAAe7vB,EACf8vB,kBAAc9vB,EACd+vB,uBAAmB/vB,EACnB0qB,uBAAmB1qB,EACnBgwB,eAAWhwB,EACXiwB,kBAAcjwB,EACdsqB,WAAOtqB,GAEJ,CAAC,EAAaqrB,GAAU/c,EAAOzP,KAAM8b,KAChD,KAAK,EAgCD,YA9ByB3a,KADzBoG,EAAO4D,EAAG7K,QACDwwB,aAAkD,OAArBvpB,EAAKupB,cACvCpD,EAASoD,YAAcvpB,EAAKupB,kBAER3vB,IAApBoG,EAAKwpB,YAAgD,OAApBxpB,EAAKwpB,aACtCrD,EAASqD,WAAaxpB,EAAKwpB,iBAEV5vB,IAAjBoG,EAAKkM,SAA0C,OAAjBlM,EAAKkM,UACnCia,EAASja,QAAUlM,EAAKkM,cAEDtS,IAAvBoG,EAAKypB,eAAsD,OAAvBzpB,EAAKypB,gBACzCtD,EAASsD,cAAgBzpB,EAAKypB,oBAER7vB,IAAtBoG,EAAK0pB,cAAoD,OAAtB1pB,EAAK0pB,eACxCvD,EAASuD,aAAexC,GAAqClnB,EAAK0pB,aAAcnV,SAErD3a,IAA3BoG,EAAK2pB,mBAA8D,OAA3B3pB,EAAK2pB,oBAC7CxD,EAASwD,kBAAoBrC,GAA0CtnB,EAAK2pB,kBAAmBpV,SAEpE3a,IAA3BoG,EAAKskB,mBAA8D,OAA3BtkB,EAAKskB,oBAC7C6B,EAAS7B,kBAAoBmD,GAAkCznB,EAAKskB,kBAAmB/P,SAEpE3a,IAAnBoG,EAAK4pB,WAA8C,OAAnB5pB,EAAK4pB,YACrCzD,EAASyD,UAAY5pB,EAAK4pB,gBAEJhwB,IAAtBoG,EAAK6pB,cAAoD,OAAtB7pB,EAAK6pB,eACxC1D,EAAS0D,aAAe7pB,EAAK6pB,mBAEdjwB,IAAfoG,EAAKkkB,OAAsC,OAAflkB,EAAKkkB,QACjCiC,EAASjC,MAAQuD,GAAkCznB,EAAKkkB,MAAO3P,IAE5D,CAAC,EAAczc,QAAQC,QAAQouB,WIlrBvC2D,CAAwC5hB,EAAQqM,IAEpDwU,EAhCyB,CAiClC,ICjCE,GAAoC,SAAUjI,GAI9C,SAASiJ,EAAmB/tB,GACxB,IAAI2D,EAEJmhB,EAAOltB,KAAKR,OAASA,KAErB,OADAuM,EAAM3D,MAAQA,EACP2D,EAuBX,OA/BA7J,EAAUi0B,EAAoBjJ,GAW9BiJ,EAAmB10B,UAAU2qB,kBAAoB,SAAUxT,EAAagX,EAAevhB,GACnF7O,KAAKssB,gBAAgBpB,IAAIkK,GAAehF,EAAepwB,KAAK8rB,UAAW9rB,KAAKisB,cAC5E,IAAIhB,EAAQ7R,EAAYrS,OAAO/G,KAAKssB,iBAEhCsJ,EAA0B,CAC1BxU,OAFSgP,EAAchP,OAGvBC,wBAAyB,GAAmBuP,mBAC5CtP,yBAA0B,GAAoBsP,oBAE9CrS,EAAiB6R,EAAc7R,eACnC,OAAO0M,EAAMtmB,SAAQ,SAAUuP,GAC3B,OAAOqK,EAAejJ,OAAOpB,EAAQA,QAASrF,GAAW,MAC1D+mB,IAEPe,EAAmB10B,UAAU6pB,UAAY,SAAUljB,EAAOuY,GACtD,OLiF8C,SAAUvY,EAAOuY,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WACvH,IAAIkP,EAASsiB,EAAsCC,EAAYzwB,EAAMmL,EAAIoD,EAAUjB,EAAIoB,EAAUF,EACjG,OAAOzO,EAAYpF,MAAM,SAAUgW,GAC/B,OAAQA,EAAGtQ,OACP,KAAK,EAOD,GANA6N,EAAU,EAAS,EAAS,EAAS,EAAS,CAAE,eAAgB,2BAA4B,uBAAwB,oBAAuBohB,GAA0B/rB,EAAMsoB,oBAAsB,CAC7L,+BAAgC,GAAiBnD,WAAWnlB,EAAMsoB,qBAChEyD,GAA0B/rB,EAAMuoB,oBAAsB,CACxD,+BAAgC,GAAiBpD,WAAWnlB,EAAMuoB,qBAChEwD,GAA0B/rB,EAAMguB,SAAW,CAAEC,OAAQjuB,EAAMguB,SAAajC,GAA0B/rB,EAAMmrB,cAAgB,CAAE,eAAgBnrB,EAAMmrB,cACtJ8B,EAAe,6DACMrvB,IAAjBoC,EAAMmtB,OAQN,MAAM,IAAItpB,MAAM,mDANhB,IADAqpB,EAAaltB,EAAMmtB,QACJ/yB,QAAU,EACrB,MAAM,IAAIyJ,MAAM,sDAOxB,GALIopB,EAAeA,EAAa7gB,QAAQ,WAAY,GAA6B8gB,SAK3DtvB,IAAlBoC,EAAMotB,QAQN,MAAM,IAAIvpB,MAAM,oDANhB,IADAqpB,EAAaltB,EAAMotB,SACJhzB,QAAU,EACrB,MAAM,IAAIyJ,MAAM,uDAOxB,GALIopB,EAAeA,EAAa7gB,QAAQ,YAAa,GAA6B8gB,SAK3DtvB,IAAnBoC,EAAMqtB,SAQN,MAAM,IAAIxpB,MAAM,qDANhB,IADAqpB,EAAaltB,EAAMqtB,UACJjzB,QAAU,EACrB,MAAM,IAAIyJ,MAAM,wDAUxB,OARIopB,EAAeA,EAAa7gB,QAAQ,aAAc,GAA6B8gB,SAKzDtvB,IAAtBoC,EAAMkuB,cACNzxB,EAAOuD,EAAMkuB,aAEV,CAAC,EAAa3V,EAAQjB,YACjC,KAAK,EAED,OADA1P,EAAKwF,EAAGrQ,OAAQiO,EAAWpD,EAAGoD,SAAUjB,EAAKnC,EAAGuD,SAAUA,OAAkB,IAAPpB,EAAgB,QAAUA,EAAIkB,EAAOrD,EAAGqD,KACtG,CAAC,EAAc,IAAI,EAAc,CAChCE,SAAUA,EACVH,SAAUA,EACVC,KAAMA,EACNT,OAAQ,OACRG,QAASA,EACTS,KAAM6hB,EACNxwB,KAAMA,YKvIf0xB,CAAyCnuB,EAAOuY,IAE3DwV,EAAmB10B,UAAUgqB,YAAc,SAAUnX,EAAQqM,GACzD,OLycgD,SAAUrM,EAAQqM,GAAW,OAAO9c,OAAU,OAAQ,OAAQ,GAAQ,WAC1H,IAAI0uB,EAAUnmB,EACd,OAAOxH,EAAYpF,MAAM,SAAUwQ,GAC/B,OAA0B,MAAtBsE,EAAOxB,YAAsBwB,EAAOxB,YAAc,IAC3C,CAAC,EAAc+d,GAAgDvc,EAAQqM,KAElF4R,EAAW,CACPtY,UAAWuX,GAAoBld,GAC/Bse,OAAQ,sBACR4D,iBAAaxwB,EACbutB,iBAAavtB,EACb2vB,iBAAa3vB,EACbywB,qBAAiBzwB,EACjB4vB,gBAAY5vB,EACZsS,aAAStS,EACT6vB,mBAAe7vB,EACf+vB,uBAAmB/vB,EACnB0qB,uBAAmB1qB,EACnBgwB,eAAWhwB,EACXiwB,kBAAcjwB,EACdsqB,WAAOtqB,QAEiCA,IAAxCsO,EAAOvB,QAAQ,uBACfwf,EAASja,QAAUhE,EAAOvB,QAAQ,2BAEI/M,IAAtCsO,EAAOvB,QAAQ,qBACfwf,EAASjC,MAAQ,IAAI,GAAiBhc,EAAOvB,QAAQ,0BAER/M,IAA7CsO,EAAOvB,QAAQ,4BACfwf,EAASoD,YAAcrhB,EAAOvB,QAAQ,gCAEM/M,IAA5CsO,EAAOvB,QAAQ,2BACfwf,EAASqD,WAAathB,EAAOvB,QAAQ,+BAEY/M,IAAjDsO,EAAOvB,QAAQ,gCACfwf,EAASkE,gBAAkBniB,EAAOvB,QAAQ,oCAEK/M,IAA/CsO,EAAOvB,QAAQ,8BACfwf,EAASsD,cAAgBvhB,EAAOvB,QAAQ,kCAEL/M,IAAnCsO,EAAOvB,QAAQ,kBACfwf,EAASgB,YAAcjf,EAAOvB,QAAQ,sBAEK/M,IAA3CsO,EAAOvB,QAAQ,0BACfwf,EAASyD,UAAY1hB,EAAOvB,QAAQ,8BAEe/M,IAAnDsO,EAAOvB,QAAQ,kCACfwf,EAAS7B,kBAAoB,IAAI,GAAiBpc,EAAOvB,QAAQ,uCAEvB/M,IAA1CsO,EAAOvB,QAAQ,yBACfwf,EAASwD,kBAAoBzhB,EAAOvB,QAAQ,6BAEG/M,IAA/CsO,EAAOvB,QAAQ,8BACfwf,EAAS0D,aAAe3hB,EAAOvB,QAAQ,6BAE3C3G,EAAOkI,EAAOzP,KACd0tB,EAASiE,YAAcpqB,EAChB,CAAC,EAAclI,QAAQC,QAAQouB,WKlgB/BmE,CAA2CpiB,EAAQqM,IAEvDwV,EAhC4B,CAiCrC,ICrCW,GAAU,YAGpB,GAAE,mBAA0B,aAA9B,eACC,OAAO,oCAEA,YAAU,4BAEjB,MAAM,UAAN,+B,w1DCsBI,GAAS,oBAAf,kBAEA,eAIG,SAAF,UAAY,cAAZ,MACC,gBADD,K,OAEK,EAAJ,yB,EAuIA,OA7IkC,QASjC,EAAF,qCACC,wBAGC,EAAF,mDAEC,6BAAkC,EAAlC,aAEC,uCADD,cAEC,gBAEA,mBAAW,2BAAP,IACK,YACP,WACW,OAAV,gCAA0C,CAAE,MAAO,EAAK,UAF1D,GAQA,cADD,mBAEQ,gBAAP,YAEQ,YACP,WAAM,oCAAuC,CAAE,MAAO,EAAhD,UADP,IAOF,WAAI,gBACH,mBAAW,2BAAP,IACH,YACC,WAAM,+DADP,GAOA,cADD,mBAEQ,gBAAP,YAEA,YACC,WAAM,4DADP,KAQG,wBAAN,c,oHAIa,OAAP,aAAL,GAGoB,GAAM,cAAN,OAFnB,GAAO,eAAe,SAAtB,oB,OAGW,KADN,EAAc,EAAd,QAEL,SAAO,eAAP,mB,GAGD,6BAA+B,OAA4B,CAC1D,OAAQ,gBADkD,OAE1D,YAF0D,EAG1D,gBAAiB,kCAId,+BACH,EAAS,CACR,SAAU,gBADF,MAER,QAFQ,EAGR,UAHQ,EAIR,OAAQ,EAAY,YAGT,GAAZ,2B,iBAIc,O,sBADK,EAAM,OAAlB,GACO,GAAM,kCAAN,I,OAED,OAFM,EAAL,EAAP,OACM,KAAZ,qBACA,M,OAEY,O,WAAZ,GAAO,eAAP,I,2BAIY,EAET,EAFH,QACW,EACR,UAFH,YAIc,EADf,UAAI,EACM,CACQ,SAAN,gBADF,MAEQ,QAFR,EAGQ,YAHR,iCAIQ,YAJR,EAKQ,OAAR,EALA,WAMQ,OAAR,cAGA,CACQ,SAAN,gBADF,MAEQ,QAFR,EAGR,YAHQ,4BAIQ,YAJR,EAKQ,OAAR,EALA,WAMQ,OAAR,cAGE,GAAZ,8B,iBAGc,O,wBADP,EAAqB,OAArB,GACO,GAAM,kCAAN,I,OAGM,OAHD,EAAL,EAAP,OAGa,GAAM,GAAQ,EAAd,c,OAEP,OAFM,EAAC,EAAb,OACM,KAAZ,qBACA,eAAqB,CAAE,YAAa,K,QAExB,O,WAAZ,GAAO,eAAP,I,0BAKD,EAAF,mCACK,IAAC,aAAL,GACO,qBAAe,SAArB,mBAEG,KAAJ,4BAEF,EA7IA,I,giDCZM,GAAS,oBAAf,gBA+Ha,GAAe,IA7H5B,WAUG,SAAF,KACK,KAAJ,WACI,GAAJ,6BAAqC,KAArC,UACI,KAAJ,eA8GF,OA3GU,EAAF,wBAAP,WACK,MAAJ,gBAQD,6CACO,EAAM,EAAU,gBAAH,EAAnB,GACA,kCAAuC,CAAE,IAAG,IAC5C,cAAa,OAAK,KAAM,IAAX,GAA0B,EAAvC,cAEA,IAAM,EAAkB,cAAxB,gBACM,EAAc,cAApB,KA0BI,OAxBC,eAAD,QAAJ,GAEK,cAAJ,IACC,WAAwB,YACvB,gBAAmB,EAAnB,YAOD,iBAAD,mBAEA,oBACM,YAAO,eADb,MAEO,YAAO,OAAC,EAAD,iCAAqB,oBAEnC,gCAAkC,IAAlC,IAGG,OAAJ,KAAY,KAAZ,kBAAkC,YAC3B,EAAN,yBAAgC,WAAhC,SAGM,KAAP,UAGM,yBAAP,YACK,MAAJ,iBAAiB,gBAA4C,CAC5D,GAAK,iBAAiB,EAAtB,mBAKS,MAAF,UACL,OAAS,EAAT,kBADD,oBAFQ,OAFA,EAAR,UAAoB,cAApB,WACQ,KAAR,YAAiB,EAAjB,wBAsBU,iBAAb,c,kGAIa,IAAP,cAAD,OAAwB,mBAA5B,GACe,MAAR,UAAU,SAAhB,mBAMW,GAHM,EACjB,oCADK,kBAGD,iBAAL,GACe,MAAR,UACL,SADD,gEAMM,SAAM,kCAAN,I,OAAP,SAAO,EAAP,gBAGM,uBAAP,cACK,IAAC,cAAD,OAAwB,mBAA5B,GACO,gBAAU,SAAhB,mBAEG,IAAE,EACL,oCADD,iBAGI,IAAC,iBAAL,GACO,gBACL,SADD,gEAMD,qCAEF,EA3HA,GA6H4B,CAArB,MACP,uBCpIA","file":"aws-amplify-interactions.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@aws-amplify/core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"aws_amplify_interactions\", [\"@aws-amplify/core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"aws_amplify_interactions\"] = factory(require(\"@aws-amplify/core\"));\n\telse\n\t\troot[\"aws_amplify_interactions\"] = factory(root[\"@aws-amplify/core\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__1__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 24);\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","import { fromUtf8 as jsFromUtf8, toUtf8 as jsToUtf8 } from \"./pureJs\";\nimport { fromUtf8 as textEncoderFromUtf8, toUtf8 as textEncoderToUtf8 } from \"./whatwgEncodingApi\";\nexport function fromUtf8(input) {\n    if (typeof TextEncoder === \"function\") {\n        return textEncoderFromUtf8(input);\n    }\n    return jsFromUtf8(input);\n}\nexport function toUtf8(input) {\n    if (typeof TextDecoder === \"function\") {\n        return textEncoderToUtf8(input);\n    }\n    return jsToUtf8(input);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsSUFBSSxVQUFVLEVBQUUsTUFBTSxJQUFJLFFBQVEsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN0RSxPQUFPLEVBQUUsUUFBUSxJQUFJLG1CQUFtQixFQUFFLE1BQU0sSUFBSSxpQkFBaUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBS25HLE1BQU0sVUFBVSxRQUFRLENBQUMsS0FBYTtJQUNwQyxJQUFJLE9BQU8sV0FBVyxLQUFLLFVBQVUsRUFBRTtRQUNyQyxPQUFPLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ25DO0lBRUQsT0FBTyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDM0IsQ0FBQztBQUVELE1BQU0sVUFBVSxNQUFNLENBQUMsS0FBaUI7SUFDdEMsSUFBSSxPQUFPLFdBQVcsS0FBSyxVQUFVLEVBQUU7UUFDckMsT0FBTyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUNqQztJQUVELE9BQU8sUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3pCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tVXRmOCBhcyBqc0Zyb21VdGY4LCB0b1V0ZjggYXMganNUb1V0ZjggfSBmcm9tIFwiLi9wdXJlSnNcIjtcbmltcG9ydCB7IGZyb21VdGY4IGFzIHRleHRFbmNvZGVyRnJvbVV0ZjgsIHRvVXRmOCBhcyB0ZXh0RW5jb2RlclRvVXRmOCB9IGZyb20gXCIuL3doYXR3Z0VuY29kaW5nQXBpXCI7XG5cbmRlY2xhcmUgY29uc3QgVGV4dERlY29kZXI6IEZ1bmN0aW9uIHwgdW5kZWZpbmVkO1xuZGVjbGFyZSBjb25zdCBUZXh0RW5jb2RlcjogRnVuY3Rpb24gfCB1bmRlZmluZWQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVXRmOChpbnB1dDogc3RyaW5nKTogVWludDhBcnJheSB7XG4gIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiB0ZXh0RW5jb2RlckZyb21VdGY4KGlucHV0KTtcbiAgfVxuXG4gIHJldHVybiBqc0Zyb21VdGY4KGlucHV0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvVXRmOChpbnB1dDogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGlmICh0eXBlb2YgVGV4dERlY29kZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiB0ZXh0RW5jb2RlclRvVXRmOChpbnB1dCk7XG4gIH1cblxuICByZXR1cm4ganNUb1V0ZjgoaW5wdXQpO1xufVxuIl19","export function fromUtf8(input) {\n    return new TextEncoder().encode(input);\n}\nexport function toUtf8(input) {\n    return new TextDecoder(\"utf-8\").decode(input);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2hhdHdnRW5jb2RpbmdBcGkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvd2hhdHdnRW5jb2RpbmdBcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBeUNBLE1BQU0sVUFBVSxRQUFRLENBQUMsS0FBYTtJQUNwQyxPQUFPLElBQUksV0FBVyxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3pDLENBQUM7QUFFRCxNQUFNLFVBQVUsTUFBTSxDQUFDLEtBQWlCO0lBQ3RDLE9BQU8sSUFBSSxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2hELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgZGVjbGFyYXRpb24gb2YgdGhlIGdsb2JhbCBUZXh0RW5jb2RlciBhbmQgVGV4dERlY29kZXIgY29uc3RydWN0b3JzLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9lbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcvXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG5uYW1lc3BhY2UgRW5jb2Rpbmcge1xuICBpbnRlcmZhY2UgVGV4dERlY29kZXJPcHRpb25zIHtcbiAgICBmYXRhbD86IGJvb2xlYW47XG4gICAgaWdub3JlQk9NPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlT3B0aW9ucyB7XG4gICAgc3RyZWFtPzogYm9vbGVhbjtcbiAgfVxuXG4gIGludGVyZmFjZSBUZXh0RGVjb2RlciB7XG4gICAgcmVhZG9ubHkgZW5jb2Rpbmc6IHN0cmluZztcbiAgICByZWFkb25seSBmYXRhbDogYm9vbGVhbjtcbiAgICByZWFkb25seSBpZ25vcmVCT006IGJvb2xlYW47XG4gICAgZGVjb2RlKGlucHV0PzogQXJyYXlCdWZmZXIgfCBBcnJheUJ1ZmZlclZpZXcsIG9wdGlvbnM/OiBUZXh0RGVjb2RlT3B0aW9ucyk6IHN0cmluZztcbiAgfVxuXG4gIGV4cG9ydCBpbnRlcmZhY2UgVGV4dERlY29kZXJDb25zdHJ1Y3RvciB7XG4gICAgbmV3IChsYWJlbD86IHN0cmluZywgb3B0aW9ucz86IFRleHREZWNvZGVyT3B0aW9ucyk6IFRleHREZWNvZGVyO1xuICB9XG5cbiAgaW50ZXJmYWNlIFRleHRFbmNvZGVyIHtcbiAgICByZWFkb25seSBlbmNvZGluZzogXCJ1dGYtOFwiO1xuICAgIGVuY29kZShpbnB1dD86IHN0cmluZyk6IFVpbnQ4QXJyYXk7XG4gIH1cblxuICBleHBvcnQgaW50ZXJmYWNlIFRleHRFbmNvZGVyQ29uc3RydWN0b3Ige1xuICAgIG5ldyAoKTogVGV4dEVuY29kZXI7XG4gIH1cbn1cblxuZGVjbGFyZSBjb25zdCBUZXh0RGVjb2RlcjogRW5jb2RpbmcuVGV4dERlY29kZXJDb25zdHJ1Y3RvcjtcblxuZGVjbGFyZSBjb25zdCBUZXh0RW5jb2RlcjogRW5jb2RpbmcuVGV4dEVuY29kZXJDb25zdHJ1Y3RvcjtcblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21VdGY4KGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShpbnB1dCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1V0ZjgoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICByZXR1cm4gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIikuZGVjb2RlKGlucHV0KTtcbn1cbiJdfQ==","/**\n * Converts a JS string from its native UCS-2/UTF-16 representation into a\n * Uint8Array of the bytes used to represent the equivalent characters in UTF-8.\n *\n * Cribbed from the `goog.crypt.stringToUtf8ByteArray` function in the Google\n * Closure library, though updated to use typed arrays.\n */\nexport function fromUtf8(input) {\n    var bytes = [];\n    for (var i = 0, len = input.length; i < len; i++) {\n        var value = input.charCodeAt(i);\n        if (value < 0x80) {\n            bytes.push(value);\n        }\n        else if (value < 0x800) {\n            bytes.push((value >> 6) | 192, (value & 63) | 128);\n        }\n        else if (i + 1 < input.length && (value & 0xfc00) === 0xd800 && (input.charCodeAt(i + 1) & 0xfc00) === 0xdc00) {\n            var surrogatePair = 0x10000 + ((value & 1023) << 10) + (input.charCodeAt(++i) & 1023);\n            bytes.push((surrogatePair >> 18) | 240, ((surrogatePair >> 12) & 63) | 128, ((surrogatePair >> 6) & 63) | 128, (surrogatePair & 63) | 128);\n        }\n        else {\n            bytes.push((value >> 12) | 224, ((value >> 6) & 63) | 128, (value & 63) | 128);\n        }\n    }\n    return Uint8Array.from(bytes);\n}\n/**\n * Converts a typed array of bytes containing UTF-8 data into a native JS\n * string.\n *\n * Partly cribbed from the `goog.crypt.utf8ByteArrayToString` function in the\n * Google Closure library, though updated to use typed arrays and to better\n * handle astral plane code points.\n */\nexport function toUtf8(input) {\n    var decoded = \"\";\n    for (var i = 0, len = input.length; i < len; i++) {\n        var byte = input[i];\n        if (byte < 0x80) {\n            decoded += String.fromCharCode(byte);\n        }\n        else if (192 <= byte && byte < 224) {\n            var nextByte = input[++i];\n            decoded += String.fromCharCode(((byte & 31) << 6) | (nextByte & 63));\n        }\n        else if (240 <= byte && byte < 365) {\n            var surrogatePair = [byte, input[++i], input[++i], input[++i]];\n            var encoded = \"%\" + surrogatePair.map(function (byteValue) { return byteValue.toString(16); }).join(\"%\");\n            decoded += decodeURIComponent(encoded);\n        }\n        else {\n            decoded += String.fromCharCode(((byte & 15) << 12) | ((input[++i] & 63) << 6) | (input[++i] & 63));\n        }\n    }\n    return decoded;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVyZUpzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3B1cmVKcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFDSCxNQUFNLFVBQVUsUUFBUSxDQUFDLEtBQWE7SUFDcEMsSUFBTSxLQUFLLEdBQWtCLEVBQUUsQ0FBQztJQUNoQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ2hELElBQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEMsSUFBSSxLQUFLLEdBQUcsSUFBSSxFQUFFO1lBQ2hCLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDbkI7YUFBTSxJQUFJLEtBQUssR0FBRyxLQUFLLEVBQUU7WUFDeEIsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFVLEVBQUUsQ0FBQyxLQUFLLEdBQUcsRUFBUSxDQUFDLEdBQUcsR0FBVSxDQUFDLENBQUM7U0FDeEU7YUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxNQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsS0FBSyxNQUFNLEVBQUU7WUFDL0csSUFBTSxhQUFhLEdBQUcsT0FBTyxHQUFHLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBWSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBWSxDQUFDLENBQUM7WUFDeEcsS0FBSyxDQUFDLElBQUksQ0FDUixDQUFDLGFBQWEsSUFBSSxFQUFFLENBQUMsR0FBRyxHQUFVLEVBQ2xDLENBQUMsQ0FBQyxhQUFhLElBQUksRUFBRSxDQUFDLEdBQUcsRUFBUSxDQUFDLEdBQUcsR0FBVSxFQUMvQyxDQUFDLENBQUMsYUFBYSxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsRUFDOUMsQ0FBQyxhQUFhLEdBQUcsRUFBUSxDQUFDLEdBQUcsR0FBVSxDQUN4QyxDQUFDO1NBQ0g7YUFBTTtZQUNMLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDLEdBQUcsR0FBVSxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBUSxDQUFDLEdBQUcsR0FBVSxFQUFFLENBQUMsS0FBSyxHQUFHLEVBQVEsQ0FBQyxHQUFHLEdBQVUsQ0FBQyxDQUFDO1NBQ2pIO0tBQ0Y7SUFFRCxPQUFPLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDaEMsQ0FBQztBQUVEOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLFVBQVUsTUFBTSxDQUFDLEtBQWlCO0lBQ3RDLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQztJQUNqQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ2hELElBQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QixJQUFJLElBQUksR0FBRyxJQUFJLEVBQUU7WUFDZixPQUFPLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN0QzthQUFNLElBQUksR0FBVSxJQUFJLElBQUksSUFBSSxJQUFJLEdBQUcsR0FBVSxFQUFFO1lBQ2xELElBQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzVCLE9BQU8sSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsRUFBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEdBQUcsRUFBUSxDQUFDLENBQUMsQ0FBQztTQUNqRjthQUFNLElBQUksR0FBVSxJQUFJLElBQUksSUFBSSxJQUFJLEdBQUcsR0FBVyxFQUFFO1lBQ25ELElBQU0sYUFBYSxHQUFHLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakUsSUFBTSxPQUFPLEdBQUcsR0FBRyxHQUFHLGFBQWEsQ0FBQyxHQUFHLENBQUMsVUFBQyxTQUFTLElBQUssT0FBQSxTQUFTLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUF0QixDQUFzQixDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3pGLE9BQU8sSUFBSSxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUN4QzthQUFNO1lBQ0wsT0FBTyxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQzVCLENBQUMsQ0FBQyxJQUFJLEdBQUcsRUFBTSxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLEVBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBUSxDQUFDLENBQ25GLENBQUM7U0FDSDtLQUNGO0lBRUQsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29udmVydHMgYSBKUyBzdHJpbmcgZnJvbSBpdHMgbmF0aXZlIFVDUy0yL1VURi0xNiByZXByZXNlbnRhdGlvbiBpbnRvIGFcbiAqIFVpbnQ4QXJyYXkgb2YgdGhlIGJ5dGVzIHVzZWQgdG8gcmVwcmVzZW50IHRoZSBlcXVpdmFsZW50IGNoYXJhY3RlcnMgaW4gVVRGLTguXG4gKlxuICogQ3JpYmJlZCBmcm9tIHRoZSBgZ29vZy5jcnlwdC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXlgIGZ1bmN0aW9uIGluIHRoZSBHb29nbGVcbiAqIENsb3N1cmUgbGlicmFyeSwgdGhvdWdoIHVwZGF0ZWQgdG8gdXNlIHR5cGVkIGFycmF5cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21VdGY4KGlucHV0OiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgY29uc3QgYnl0ZXM6IEFycmF5PG51bWJlcj4gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGlucHV0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUgPSBpbnB1dC5jaGFyQ29kZUF0KGkpO1xuICAgIGlmICh2YWx1ZSA8IDB4ODApIHtcbiAgICAgIGJ5dGVzLnB1c2godmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPCAweDgwMCkge1xuICAgICAgYnl0ZXMucHVzaCgodmFsdWUgPj4gNikgfCAwYjExMDAwMDAwLCAodmFsdWUgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwKTtcbiAgICB9IGVsc2UgaWYgKGkgKyAxIDwgaW5wdXQubGVuZ3RoICYmICh2YWx1ZSAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJiAoaW5wdXQuY2hhckNvZGVBdChpICsgMSkgJiAweGZjMDApID09PSAweGRjMDApIHtcbiAgICAgIGNvbnN0IHN1cnJvZ2F0ZVBhaXIgPSAweDEwMDAwICsgKCh2YWx1ZSAmIDBiMTExMTExMTExMSkgPDwgMTApICsgKGlucHV0LmNoYXJDb2RlQXQoKytpKSAmIDBiMTExMTExMTExMSk7XG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICAoc3Vycm9nYXRlUGFpciA+PiAxOCkgfCAwYjExMTEwMDAwLFxuICAgICAgICAoKHN1cnJvZ2F0ZVBhaXIgPj4gMTIpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCxcbiAgICAgICAgKChzdXJyb2dhdGVQYWlyID4+IDYpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCxcbiAgICAgICAgKHN1cnJvZ2F0ZVBhaXIgJiAwYjExMTExMSkgfCAwYjEwMDAwMDAwXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBieXRlcy5wdXNoKCh2YWx1ZSA+PiAxMikgfCAwYjExMTAwMDAwLCAoKHZhbHVlID4+IDYpICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCwgKHZhbHVlICYgMGIxMTExMTEpIHwgMGIxMDAwMDAwMCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShieXRlcyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSB0eXBlZCBhcnJheSBvZiBieXRlcyBjb250YWluaW5nIFVURi04IGRhdGEgaW50byBhIG5hdGl2ZSBKU1xuICogc3RyaW5nLlxuICpcbiAqIFBhcnRseSBjcmliYmVkIGZyb20gdGhlIGBnb29nLmNyeXB0LnV0ZjhCeXRlQXJyYXlUb1N0cmluZ2AgZnVuY3Rpb24gaW4gdGhlXG4gKiBHb29nbGUgQ2xvc3VyZSBsaWJyYXJ5LCB0aG91Z2ggdXBkYXRlZCB0byB1c2UgdHlwZWQgYXJyYXlzIGFuZCB0byBiZXR0ZXJcbiAqIGhhbmRsZSBhc3RyYWwgcGxhbmUgY29kZSBwb2ludHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1V0ZjgoaW5wdXQ6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICBsZXQgZGVjb2RlZCA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAwLCBsZW4gPSBpbnB1dC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IGJ5dGUgPSBpbnB1dFtpXTtcbiAgICBpZiAoYnl0ZSA8IDB4ODApIHtcbiAgICAgIGRlY29kZWQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlKTtcbiAgICB9IGVsc2UgaWYgKDBiMTEwMDAwMDAgPD0gYnl0ZSAmJiBieXRlIDwgMGIxMTEwMDAwMCkge1xuICAgICAgY29uc3QgbmV4dEJ5dGUgPSBpbnB1dFsrK2ldO1xuICAgICAgZGVjb2RlZCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYnl0ZSAmIDBiMTExMTEpIDw8IDYpIHwgKG5leHRCeXRlICYgMGIxMTExMTEpKTtcbiAgICB9IGVsc2UgaWYgKDBiMTExMTAwMDAgPD0gYnl0ZSAmJiBieXRlIDwgMGIxMDExMDExMDEpIHtcbiAgICAgIGNvbnN0IHN1cnJvZ2F0ZVBhaXIgPSBbYnl0ZSwgaW5wdXRbKytpXSwgaW5wdXRbKytpXSwgaW5wdXRbKytpXV07XG4gICAgICBjb25zdCBlbmNvZGVkID0gXCIlXCIgKyBzdXJyb2dhdGVQYWlyLm1hcCgoYnl0ZVZhbHVlKSA9PiBieXRlVmFsdWUudG9TdHJpbmcoMTYpKS5qb2luKFwiJVwiKTtcbiAgICAgIGRlY29kZWQgKz0gZGVjb2RlVVJJQ29tcG9uZW50KGVuY29kZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWNvZGVkICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgICAgICgoYnl0ZSAmIDBiMTExMSkgPDwgMTIpIHwgKChpbnB1dFsrK2ldICYgMGIxMTExMTEpIDw8IDYpIHwgKGlucHV0WysraV0gJiAwYjExMTExMSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRlY29kZWQ7XG59XG4iXX0=","var fallbackWindow = {};\n/**\n * Locates the global scope for a browser or browser-like environment. If\n * neither `window` nor `self` is defined by the environment, the same object\n * will be returned on each invocation.\n */\nexport function locateWindow() {\n    if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else if (typeof self !== \"undefined\") {\n        return self;\n    }\n    return fallbackWindow;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBTSxjQUFjLEdBQUcsRUFBWSxDQUFDO0FBRXBDOzs7O0dBSUc7QUFDSCxNQUFNLFVBQVUsWUFBWTtJQUMxQixJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBRTtRQUNqQyxPQUFPLE1BQU0sQ0FBQztLQUNmO1NBQU0sSUFBSSxPQUFPLElBQUksS0FBSyxXQUFXLEVBQUU7UUFDdEMsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUVELE9BQU8sY0FBYyxDQUFDO0FBQ3hCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBmYWxsYmFja1dpbmRvdyA9IHt9IGFzIFdpbmRvdztcblxuLyoqXG4gKiBMb2NhdGVzIHRoZSBnbG9iYWwgc2NvcGUgZm9yIGEgYnJvd3NlciBvciBicm93c2VyLWxpa2UgZW52aXJvbm1lbnQuIElmXG4gKiBuZWl0aGVyIGB3aW5kb3dgIG5vciBgc2VsZmAgaXMgZGVmaW5lZCBieSB0aGUgZW52aXJvbm1lbnQsIHRoZSBzYW1lIG9iamVjdFxuICogd2lsbCBiZSByZXR1cm5lZCBvbiBlYWNoIGludm9jYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2NhdGVXaW5kb3coKTogV2luZG93IHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gd2luZG93O1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHNlbGY7XG4gIH1cblxuICByZXR1cm4gZmFsbGJhY2tXaW5kb3c7XG59XG4iXX0=","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar isEmptyData_1 = require(\"./isEmptyData\");\nvar constants_1 = require(\"./constants\");\nvar util_utf8_browser_1 = require(\"@aws-sdk/util-utf8-browser\");\nvar util_locate_window_1 = require(\"@aws-sdk/util-locate-window\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        if (secret) {\n            this.operation = getKeyPromise(secret).then(function (keyData) {\n                return util_locate_window_1.locateWindow().msCrypto.subtle.sign(constants_1.SHA_256_HMAC_ALGO, keyData);\n            });\n            this.operation.catch(function () { });\n        }\n        else {\n            this.operation = Promise.resolve(util_locate_window_1.locateWindow().msCrypto.subtle.digest(\"SHA-256\"));\n        }\n    }\n    Sha256.prototype.update = function (toHash) {\n        var _this = this;\n        if (isEmptyData_1.isEmptyData(toHash)) {\n            return;\n        }\n        this.operation = this.operation.then(function (operation) {\n            operation.onerror = function () {\n                _this.operation = Promise.reject(new Error(\"Error encountered updating hash\"));\n            };\n            operation.process(toArrayBufferView(toHash));\n            return operation;\n        });\n        this.operation.catch(function () { });\n    };\n    Sha256.prototype.digest = function () {\n        return this.operation.then(function (operation) {\n            return new Promise(function (resolve, reject) {\n                operation.onerror = function () {\n                    reject(\"Error encountered finalizing hash\");\n                };\n                operation.oncomplete = function () {\n                    if (operation.result) {\n                        resolve(new Uint8Array(operation.result));\n                    }\n                    reject(\"Error encountered finalizing hash\");\n                };\n                operation.finish();\n            });\n        });\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\nfunction getKeyPromise(secret) {\n    return new Promise(function (resolve, reject) {\n        var keyOperation = util_locate_window_1.locateWindow().msCrypto.subtle.importKey(\"raw\", toArrayBufferView(secret), constants_1.SHA_256_HMAC_ALGO, false, [\"sign\"]);\n        keyOperation.oncomplete = function () {\n            if (keyOperation.result) {\n                resolve(keyOperation.result);\n            }\n            reject(\"ImportKey completed without importing key.\");\n        };\n        keyOperation.onerror = function () {\n            reject(\"ImportKey failed to import key.\");\n        };\n    });\n}\nfunction toArrayBufferView(data) {\n    if (typeof data === \"string\") {\n        return util_utf8_browser_1.fromUtf8(data);\n    }\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n    return new Uint8Array(data);\n}\n//# sourceMappingURL=ie11Sha256.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isEmptyData(data) {\n    if (typeof data === \"string\") {\n        return data.length === 0;\n    }\n    return data.byteLength === 0;\n}\nexports.isEmptyData = isEmptyData;\n//# sourceMappingURL=isEmptyData.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SHA_256_HASH = { name: \"SHA-256\" };\nexports.SHA_256_HMAC_ALGO = {\n    name: \"HMAC\",\n    hash: exports.SHA_256_HASH\n};\nexports.EMPTY_DATA_SHA_256 = new Uint8Array([\n    227,\n    176,\n    196,\n    66,\n    152,\n    252,\n    28,\n    20,\n    154,\n    251,\n    244,\n    200,\n    153,\n    111,\n    185,\n    36,\n    39,\n    174,\n    65,\n    228,\n    100,\n    155,\n    147,\n    76,\n    164,\n    149,\n    153,\n    27,\n    120,\n    82,\n    184,\n    85\n]);\n//# sourceMappingURL=constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar util_utf8_browser_1 = require(\"@aws-sdk/util-utf8-browser\");\nvar isEmptyData_1 = require(\"./isEmptyData\");\nvar constants_1 = require(\"./constants\");\nvar util_locate_window_1 = require(\"@aws-sdk/util-locate-window\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        this.toHash = new Uint8Array(0);\n        if (secret !== void 0) {\n            this.key = new Promise(function (resolve, reject) {\n                util_locate_window_1.locateWindow()\n                    .crypto.subtle.importKey(\"raw\", convertToBuffer(secret), constants_1.SHA_256_HMAC_ALGO, false, [\"sign\"])\n                    .then(resolve, reject);\n            });\n            this.key.catch(function () { });\n        }\n    }\n    Sha256.prototype.update = function (data) {\n        if (isEmptyData_1.isEmptyData(data)) {\n            return;\n        }\n        var update = convertToBuffer(data);\n        var typedArray = new Uint8Array(this.toHash.byteLength + update.byteLength);\n        typedArray.set(this.toHash, 0);\n        typedArray.set(update, this.toHash.byteLength);\n        this.toHash = typedArray;\n    };\n    Sha256.prototype.digest = function () {\n        var _this = this;\n        if (this.key) {\n            return this.key.then(function (key) {\n                return util_locate_window_1.locateWindow()\n                    .crypto.subtle.sign(constants_1.SHA_256_HMAC_ALGO, key, _this.toHash)\n                    .then(function (data) { return new Uint8Array(data); });\n            });\n        }\n        if (isEmptyData_1.isEmptyData(this.toHash)) {\n            return Promise.resolve(constants_1.EMPTY_DATA_SHA_256);\n        }\n        return Promise.resolve()\n            .then(function () {\n            return util_locate_window_1.locateWindow().crypto.subtle.digest(constants_1.SHA_256_HASH, _this.toHash);\n        })\n            .then(function (data) { return Promise.resolve(new Uint8Array(data)); });\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\nfunction convertToBuffer(data) {\n    if (typeof data === \"string\") {\n        return util_utf8_browser_1.fromUtf8(data);\n    }\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n    return new Uint8Array(data);\n}\n//# sourceMappingURL=webCryptoSha256.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @internal\n */\nexports.BLOCK_SIZE = 64;\n/**\n * @internal\n */\nexports.DIGEST_LENGTH = 32;\n/**\n * @internal\n */\nexports.KEY = new Uint32Array([\n    0x428a2f98,\n    0x71374491,\n    0xb5c0fbcf,\n    0xe9b5dba5,\n    0x3956c25b,\n    0x59f111f1,\n    0x923f82a4,\n    0xab1c5ed5,\n    0xd807aa98,\n    0x12835b01,\n    0x243185be,\n    0x550c7dc3,\n    0x72be5d74,\n    0x80deb1fe,\n    0x9bdc06a7,\n    0xc19bf174,\n    0xe49b69c1,\n    0xefbe4786,\n    0x0fc19dc6,\n    0x240ca1cc,\n    0x2de92c6f,\n    0x4a7484aa,\n    0x5cb0a9dc,\n    0x76f988da,\n    0x983e5152,\n    0xa831c66d,\n    0xb00327c8,\n    0xbf597fc7,\n    0xc6e00bf3,\n    0xd5a79147,\n    0x06ca6351,\n    0x14292967,\n    0x27b70a85,\n    0x2e1b2138,\n    0x4d2c6dfc,\n    0x53380d13,\n    0x650a7354,\n    0x766a0abb,\n    0x81c2c92e,\n    0x92722c85,\n    0xa2bfe8a1,\n    0xa81a664b,\n    0xc24b8b70,\n    0xc76c51a3,\n    0xd192e819,\n    0xd6990624,\n    0xf40e3585,\n    0x106aa070,\n    0x19a4c116,\n    0x1e376c08,\n    0x2748774c,\n    0x34b0bcb5,\n    0x391c0cb3,\n    0x4ed8aa4a,\n    0x5b9cca4f,\n    0x682e6ff3,\n    0x748f82ee,\n    0x78a5636f,\n    0x84c87814,\n    0x8cc70208,\n    0x90befffa,\n    0xa4506ceb,\n    0xbef9a3f7,\n    0xc67178f2\n]);\n/**\n * @internal\n */\nexports.INIT = [\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19\n];\n/**\n * @internal\n */\nexports.MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n//# sourceMappingURL=constants.js.map","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./crossPlatformSha256\"), exports);\nvar ie11Sha256_1 = require(\"./ie11Sha256\");\nexports.Ie11Sha256 = ie11Sha256_1.Sha256;\nvar webCryptoSha256_1 = require(\"./webCryptoSha256\");\nexports.WebCryptoSha256 = webCryptoSha256_1.Sha256;\n//# sourceMappingURL=index.js.map","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ie11Sha256_1 = require(\"./ie11Sha256\");\nvar webCryptoSha256_1 = require(\"./webCryptoSha256\");\nvar sha256_js_1 = require(\"@aws-crypto/sha256-js\");\nvar supports_web_crypto_1 = require(\"@aws-crypto/supports-web-crypto\");\nvar ie11_detection_1 = require(\"@aws-crypto/ie11-detection\");\nvar util_locate_window_1 = require(\"@aws-sdk/util-locate-window\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        if (supports_web_crypto_1.supportsWebCrypto(util_locate_window_1.locateWindow())) {\n            this.hash = new webCryptoSha256_1.Sha256(secret);\n        }\n        else if (ie11_detection_1.isMsWindow(util_locate_window_1.locateWindow())) {\n            this.hash = new ie11Sha256_1.Sha256(secret);\n        }\n        else {\n            this.hash = new sha256_js_1.Sha256(secret);\n        }\n    }\n    Sha256.prototype.update = function (data, encoding) {\n        this.hash.update(data, encoding);\n    };\n    Sha256.prototype.digest = function () {\n        return this.hash.digest();\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\n//# sourceMappingURL=crossPlatformSha256.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./jsSha256\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar constants_1 = require(\"./constants\");\nvar RawSha256_1 = require(\"./RawSha256\");\nvar util_utf8_browser_1 = require(\"@aws-sdk/util-utf8-browser\");\nvar Sha256 = /** @class */ (function () {\n    function Sha256(secret) {\n        this.hash = new RawSha256_1.RawSha256();\n        if (secret) {\n            this.outer = new RawSha256_1.RawSha256();\n            var inner = bufferFromSecret(secret);\n            var outer = new Uint8Array(constants_1.BLOCK_SIZE);\n            outer.set(inner);\n            for (var i = 0; i < constants_1.BLOCK_SIZE; i++) {\n                inner[i] ^= 0x36;\n                outer[i] ^= 0x5c;\n            }\n            this.hash.update(inner);\n            this.outer.update(outer);\n            // overwrite the copied key in memory\n            for (var i = 0; i < inner.byteLength; i++) {\n                inner[i] = 0;\n            }\n        }\n    }\n    Sha256.prototype.update = function (toHash) {\n        if (isEmptyData(toHash) || this.error) {\n            return;\n        }\n        try {\n            this.hash.update(convertToBuffer(toHash));\n        }\n        catch (e) {\n            this.error = e;\n        }\n    };\n    /* This synchronous method keeps compatibility\n     * with the v2 aws-sdk.\n     */\n    Sha256.prototype.digestSync = function () {\n        if (this.error) {\n            throw this.error;\n        }\n        if (this.outer) {\n            if (!this.outer.finished) {\n                this.outer.update(this.hash.digest());\n            }\n            return this.outer.digest();\n        }\n        return this.hash.digest();\n    };\n    /* The underlying digest method here is synchronous.\n     * To keep the same interface with the other hash functions\n     * the default is to expose this as an async method.\n     * However, it can sometimes be useful to have a sync method.\n     */\n    Sha256.prototype.digest = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            return tslib_1.__generator(this, function (_a) {\n                return [2 /*return*/, this.digestSync()];\n            });\n        });\n    };\n    return Sha256;\n}());\nexports.Sha256 = Sha256;\nfunction bufferFromSecret(secret) {\n    var input = convertToBuffer(secret);\n    if (input.byteLength > constants_1.BLOCK_SIZE) {\n        var bufferHash = new RawSha256_1.RawSha256();\n        bufferHash.update(input);\n        input = bufferHash.digest();\n    }\n    var buffer = new Uint8Array(constants_1.BLOCK_SIZE);\n    buffer.set(input);\n    return buffer;\n}\nfunction isEmptyData(data) {\n    if (typeof data === \"string\") {\n        return data.length === 0;\n    }\n    return data.byteLength === 0;\n}\nfunction convertToBuffer(data) {\n    if (typeof data === \"string\") {\n        return util_utf8_browser_1.fromUtf8(data);\n    }\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n    return new Uint8Array(data);\n}\n//# sourceMappingURL=jsSha256.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constants_1 = require(\"./constants\");\n/**\n * @internal\n */\nvar RawSha256 = /** @class */ (function () {\n    function RawSha256() {\n        this.state = Int32Array.from(constants_1.INIT);\n        this.temp = new Int32Array(64);\n        this.buffer = new Uint8Array(64);\n        this.bufferLength = 0;\n        this.bytesHashed = 0;\n        /**\n         * @internal\n         */\n        this.finished = false;\n    }\n    RawSha256.prototype.update = function (data) {\n        if (this.finished) {\n            throw new Error(\"Attempted to update an already finished hash.\");\n        }\n        var position = 0;\n        var byteLength = data.byteLength;\n        this.bytesHashed += byteLength;\n        if (this.bytesHashed * 8 > constants_1.MAX_HASHABLE_LENGTH) {\n            throw new Error(\"Cannot hash more than 2^53 - 1 bits\");\n        }\n        while (byteLength > 0) {\n            this.buffer[this.bufferLength++] = data[position++];\n            byteLength--;\n            if (this.bufferLength === constants_1.BLOCK_SIZE) {\n                this.hashBuffer();\n                this.bufferLength = 0;\n            }\n        }\n    };\n    RawSha256.prototype.digest = function () {\n        if (!this.finished) {\n            var bitsHashed = this.bytesHashed * 8;\n            var bufferView = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);\n            var undecoratedLength = this.bufferLength;\n            bufferView.setUint8(this.bufferLength++, 0x80);\n            // Ensure the final block has enough room for the hashed length\n            if (undecoratedLength % constants_1.BLOCK_SIZE >= constants_1.BLOCK_SIZE - 8) {\n                for (var i = this.bufferLength; i < constants_1.BLOCK_SIZE; i++) {\n                    bufferView.setUint8(i, 0);\n                }\n                this.hashBuffer();\n                this.bufferLength = 0;\n            }\n            for (var i = this.bufferLength; i < constants_1.BLOCK_SIZE - 8; i++) {\n                bufferView.setUint8(i, 0);\n            }\n            bufferView.setUint32(constants_1.BLOCK_SIZE - 8, Math.floor(bitsHashed / 0x100000000), true);\n            bufferView.setUint32(constants_1.BLOCK_SIZE - 4, bitsHashed);\n            this.hashBuffer();\n            this.finished = true;\n        }\n        // The value in state is little-endian rather than big-endian, so flip\n        // each word into a new Uint8Array\n        var out = new Uint8Array(constants_1.DIGEST_LENGTH);\n        for (var i = 0; i < 8; i++) {\n            out[i * 4] = (this.state[i] >>> 24) & 0xff;\n            out[i * 4 + 1] = (this.state[i] >>> 16) & 0xff;\n            out[i * 4 + 2] = (this.state[i] >>> 8) & 0xff;\n            out[i * 4 + 3] = (this.state[i] >>> 0) & 0xff;\n        }\n        return out;\n    };\n    RawSha256.prototype.hashBuffer = function () {\n        var _a = this, buffer = _a.buffer, state = _a.state;\n        var state0 = state[0], state1 = state[1], state2 = state[2], state3 = state[3], state4 = state[4], state5 = state[5], state6 = state[6], state7 = state[7];\n        for (var i = 0; i < constants_1.BLOCK_SIZE; i++) {\n            if (i < 16) {\n                this.temp[i] =\n                    ((buffer[i * 4] & 0xff) << 24) |\n                        ((buffer[i * 4 + 1] & 0xff) << 16) |\n                        ((buffer[i * 4 + 2] & 0xff) << 8) |\n                        (buffer[i * 4 + 3] & 0xff);\n            }\n            else {\n                var u = this.temp[i - 2];\n                var t1_1 = ((u >>> 17) | (u << 15)) ^ ((u >>> 19) | (u << 13)) ^ (u >>> 10);\n                u = this.temp[i - 15];\n                var t2_1 = ((u >>> 7) | (u << 25)) ^ ((u >>> 18) | (u << 14)) ^ (u >>> 3);\n                this.temp[i] =\n                    ((t1_1 + this.temp[i - 7]) | 0) + ((t2_1 + this.temp[i - 16]) | 0);\n            }\n            var t1 = ((((((state4 >>> 6) | (state4 << 26)) ^\n                ((state4 >>> 11) | (state4 << 21)) ^\n                ((state4 >>> 25) | (state4 << 7))) +\n                ((state4 & state5) ^ (~state4 & state6))) |\n                0) +\n                ((state7 + ((constants_1.KEY[i] + this.temp[i]) | 0)) | 0)) |\n                0;\n            var t2 = ((((state0 >>> 2) | (state0 << 30)) ^\n                ((state0 >>> 13) | (state0 << 19)) ^\n                ((state0 >>> 22) | (state0 << 10))) +\n                ((state0 & state1) ^ (state0 & state2) ^ (state1 & state2))) |\n                0;\n            state7 = state6;\n            state6 = state5;\n            state5 = state4;\n            state4 = (state3 + t1) | 0;\n            state3 = state2;\n            state2 = state1;\n            state1 = state0;\n            state0 = (t1 + t2) | 0;\n        }\n        state[0] += state0;\n        state[1] += state1;\n        state[2] += state2;\n        state[3] += state3;\n        state[4] += state4;\n        state[5] += state5;\n        state[6] += state6;\n        state[7] += state7;\n    };\n    return RawSha256;\n}());\nexports.RawSha256 = RawSha256;\n//# sourceMappingURL=RawSha256.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./supportsWebCrypto\"), exports);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw4REFBb0MiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tIFwiLi9zdXBwb3J0c1dlYkNyeXB0b1wiO1xuIl19","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar subtleCryptoMethods = [\n    \"decrypt\",\n    \"digest\",\n    \"encrypt\",\n    \"exportKey\",\n    \"generateKey\",\n    \"importKey\",\n    \"sign\",\n    \"verify\"\n];\nfunction supportsWebCrypto(window) {\n    if (supportsSecureRandom(window) &&\n        typeof window.crypto.subtle === \"object\") {\n        var subtle = window.crypto.subtle;\n        return supportsSubtleCrypto(subtle);\n    }\n    return false;\n}\nexports.supportsWebCrypto = supportsWebCrypto;\nfunction supportsSecureRandom(window) {\n    if (typeof window === \"object\" && typeof window.crypto === \"object\") {\n        var getRandomValues = window.crypto.getRandomValues;\n        return typeof getRandomValues === \"function\";\n    }\n    return false;\n}\nexports.supportsSecureRandom = supportsSecureRandom;\nfunction supportsSubtleCrypto(subtle) {\n    return (subtle &&\n        subtleCryptoMethods.every(function (methodName) { return typeof subtle[methodName] === \"function\"; }));\n}\nexports.supportsSubtleCrypto = supportsSubtleCrypto;\nfunction supportsZeroByteGCM(subtle) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n        var key, zeroByteAuthTag, _a;\n        return tslib_1.__generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!supportsSubtleCrypto(subtle))\n                        return [2 /*return*/, false];\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 4, , 5]);\n                    return [4 /*yield*/, subtle.generateKey({ name: \"AES-GCM\", length: 128 }, false, [\"encrypt\"])];\n                case 2:\n                    key = _b.sent();\n                    return [4 /*yield*/, subtle.encrypt({\n                            name: \"AES-GCM\",\n                            iv: new Uint8Array(Array(12)),\n                            additionalData: new Uint8Array(Array(16)),\n                            tagLength: 128\n                        }, key, new Uint8Array(0))];\n                case 3:\n                    zeroByteAuthTag = _b.sent();\n                    return [2 /*return*/, zeroByteAuthTag.byteLength === 16];\n                case 4:\n                    _a = _b.sent();\n                    return [2 /*return*/, false];\n                case 5: return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.supportsZeroByteGCM = supportsZeroByteGCM;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VwcG9ydHNXZWJDcnlwdG8uanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJzdXBwb3J0c1dlYkNyeXB0by50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFVQSxJQUFNLG1CQUFtQixHQUE4QjtJQUNyRCxTQUFTO0lBQ1QsUUFBUTtJQUNSLFNBQVM7SUFDVCxXQUFXO0lBQ1gsYUFBYTtJQUNiLFdBQVc7SUFDWCxNQUFNO0lBQ04sUUFBUTtDQUNULENBQUM7QUFFRixTQUFnQixpQkFBaUIsQ0FBQyxNQUFjO0lBQzlDLElBQ0Usb0JBQW9CLENBQUMsTUFBTSxDQUFDO1FBQzVCLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssUUFBUSxFQUN4QztRQUNRLElBQUEsNkJBQU0sQ0FBbUI7UUFFakMsT0FBTyxvQkFBb0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztLQUNyQztJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQVhELDhDQVdDO0FBRUQsU0FBZ0Isb0JBQW9CLENBQUMsTUFBYztJQUNqRCxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsSUFBSSxPQUFPLE1BQU0sQ0FBQyxNQUFNLEtBQUssUUFBUSxFQUFFO1FBQzNELElBQUEsK0NBQWUsQ0FBbUI7UUFFMUMsT0FBTyxPQUFPLGVBQWUsS0FBSyxVQUFVLENBQUM7S0FDOUM7SUFFRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUM7QUFSRCxvREFRQztBQUVELFNBQWdCLG9CQUFvQixDQUFDLE1BQW9CO0lBQ3ZELE9BQU8sQ0FDTCxNQUFNO1FBQ04sbUJBQW1CLENBQUMsS0FBSyxDQUN2QixVQUFBLFVBQVUsSUFBSSxPQUFBLE9BQU8sTUFBTSxDQUFDLFVBQVUsQ0FBQyxLQUFLLFVBQVUsRUFBeEMsQ0FBd0MsQ0FDdkQsQ0FDRixDQUFDO0FBQ0osQ0FBQztBQVBELG9EQU9DO0FBRUQsU0FBc0IsbUJBQW1CLENBQUMsTUFBb0I7Ozs7OztvQkFDNUQsSUFBSSxDQUFDLG9CQUFvQixDQUFDLE1BQU0sQ0FBQzt3QkFBRSxzQkFBTyxLQUFLLEVBQUM7Ozs7b0JBRWxDLHFCQUFNLE1BQU0sQ0FBQyxXQUFXLENBQ2xDLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQ2hDLEtBQUssRUFDTCxDQUFDLFNBQVMsQ0FBQyxDQUNaLEVBQUE7O29CQUpLLEdBQUcsR0FBRyxTQUlYO29CQUN1QixxQkFBTSxNQUFNLENBQUMsT0FBTyxDQUMxQzs0QkFDRSxJQUFJLEVBQUUsU0FBUzs0QkFDZixFQUFFLEVBQUUsSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDOzRCQUM3QixjQUFjLEVBQUUsSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDOzRCQUN6QyxTQUFTLEVBQUUsR0FBRzt5QkFDZixFQUNELEdBQUcsRUFDSCxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FDbEIsRUFBQTs7b0JBVEssZUFBZSxHQUFHLFNBU3ZCO29CQUNELHNCQUFPLGVBQWUsQ0FBQyxVQUFVLEtBQUssRUFBRSxFQUFDOzs7b0JBRXpDLHNCQUFPLEtBQUssRUFBQzs7Ozs7Q0FFaEI7QUF0QkQsa0RBc0JDIiwic291cmNlc0NvbnRlbnQiOlsidHlwZSBTdWJ0bGVDcnlwdG9NZXRob2QgPVxuICB8IFwiZGVjcnlwdFwiXG4gIHwgXCJkaWdlc3RcIlxuICB8IFwiZW5jcnlwdFwiXG4gIHwgXCJleHBvcnRLZXlcIlxuICB8IFwiZ2VuZXJhdGVLZXlcIlxuICB8IFwiaW1wb3J0S2V5XCJcbiAgfCBcInNpZ25cIlxuICB8IFwidmVyaWZ5XCI7XG5cbmNvbnN0IHN1YnRsZUNyeXB0b01ldGhvZHM6IEFycmF5PFN1YnRsZUNyeXB0b01ldGhvZD4gPSBbXG4gIFwiZGVjcnlwdFwiLFxuICBcImRpZ2VzdFwiLFxuICBcImVuY3J5cHRcIixcbiAgXCJleHBvcnRLZXlcIixcbiAgXCJnZW5lcmF0ZUtleVwiLFxuICBcImltcG9ydEtleVwiLFxuICBcInNpZ25cIixcbiAgXCJ2ZXJpZnlcIlxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzV2ViQ3J5cHRvKHdpbmRvdzogV2luZG93KTogYm9vbGVhbiB7XG4gIGlmIChcbiAgICBzdXBwb3J0c1NlY3VyZVJhbmRvbSh3aW5kb3cpICYmXG4gICAgdHlwZW9mIHdpbmRvdy5jcnlwdG8uc3VidGxlID09PSBcIm9iamVjdFwiXG4gICkge1xuICAgIGNvbnN0IHsgc3VidGxlIH0gPSB3aW5kb3cuY3J5cHRvO1xuXG4gICAgcmV0dXJuIHN1cHBvcnRzU3VidGxlQ3J5cHRvKHN1YnRsZSk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0c1NlY3VyZVJhbmRvbSh3aW5kb3c6IFdpbmRvdyk6IGJvb2xlYW4ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygd2luZG93LmNyeXB0byA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHsgZ2V0UmFuZG9tVmFsdWVzIH0gPSB3aW5kb3cuY3J5cHRvO1xuXG4gICAgcmV0dXJuIHR5cGVvZiBnZXRSYW5kb21WYWx1ZXMgPT09IFwiZnVuY3Rpb25cIjtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzU3VidGxlQ3J5cHRvKHN1YnRsZTogU3VidGxlQ3J5cHRvKSB7XG4gIHJldHVybiAoXG4gICAgc3VidGxlICYmXG4gICAgc3VidGxlQ3J5cHRvTWV0aG9kcy5ldmVyeShcbiAgICAgIG1ldGhvZE5hbWUgPT4gdHlwZW9mIHN1YnRsZVttZXRob2ROYW1lXSA9PT0gXCJmdW5jdGlvblwiXG4gICAgKVxuICApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3VwcG9ydHNaZXJvQnl0ZUdDTShzdWJ0bGU6IFN1YnRsZUNyeXB0bykge1xuICBpZiAoIXN1cHBvcnRzU3VidGxlQ3J5cHRvKHN1YnRsZSkpIHJldHVybiBmYWxzZTtcbiAgdHJ5IHtcbiAgICBjb25zdCBrZXkgPSBhd2FpdCBzdWJ0bGUuZ2VuZXJhdGVLZXkoXG4gICAgICB7IG5hbWU6IFwiQUVTLUdDTVwiLCBsZW5ndGg6IDEyOCB9LFxuICAgICAgZmFsc2UsXG4gICAgICBbXCJlbmNyeXB0XCJdXG4gICAgKTtcbiAgICBjb25zdCB6ZXJvQnl0ZUF1dGhUYWcgPSBhd2FpdCBzdWJ0bGUuZW5jcnlwdChcbiAgICAgIHtcbiAgICAgICAgbmFtZTogXCJBRVMtR0NNXCIsXG4gICAgICAgIGl2OiBuZXcgVWludDhBcnJheShBcnJheSgxMikpLFxuICAgICAgICBhZGRpdGlvbmFsRGF0YTogbmV3IFVpbnQ4QXJyYXkoQXJyYXkoMTYpKSxcbiAgICAgICAgdGFnTGVuZ3RoOiAxMjhcbiAgICAgIH0sXG4gICAgICBrZXksXG4gICAgICBuZXcgVWludDhBcnJheSgwKVxuICAgICk7XG4gICAgcmV0dXJuIHplcm9CeXRlQXV0aFRhZy5ieXRlTGVuZ3RoID09PSAxNjtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iXX0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./MsWindow\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar msSubtleCryptoMethods = [\n    \"decrypt\",\n    \"digest\",\n    \"encrypt\",\n    \"exportKey\",\n    \"generateKey\",\n    \"importKey\",\n    \"sign\",\n    \"verify\"\n];\nfunction quacksLikeAnMsWindow(window) {\n    return \"MSInputMethodContext\" in window && \"msCrypto\" in window;\n}\n/**\n * Determines if the provided window is (or is like) the window object one would\n * expect to encounter in Internet Explorer 11.\n */\nfunction isMsWindow(window) {\n    if (quacksLikeAnMsWindow(window) && window.msCrypto.subtle !== undefined) {\n        var _a = window.msCrypto, getRandomValues = _a.getRandomValues, subtle_1 = _a.subtle;\n        return msSubtleCryptoMethods\n            .map(function (methodName) { return subtle_1[methodName]; })\n            .concat(getRandomValues)\n            .every(function (method) { return typeof method === \"function\"; });\n    }\n    return false;\n}\nexports.isMsWindow = isMsWindow;\n//# sourceMappingURL=MsWindow.js.map","/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { ConsoleLogger as Logger } from '@aws-amplify/core';\nvar logger = new Logger('AbstractInteractionsProvider');\nvar AbstractInteractionsProvider = /** @class */ (function () {\n    function AbstractInteractionsProvider(options) {\n        if (options === void 0) { options = {}; }\n        this._config = options;\n    }\n    AbstractInteractionsProvider.prototype.configure = function (config) {\n        if (config === void 0) { config = {}; }\n        this._config = __assign(__assign({}, this._config), config);\n        logger.debug(\"configure \" + this.getProviderName(), this._config);\n        return this.options;\n    };\n    AbstractInteractionsProvider.prototype.getCategory = function () {\n        return 'Interactions';\n    };\n    Object.defineProperty(AbstractInteractionsProvider.prototype, \"options\", {\n        get: function () {\n            return __assign({}, this._config);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return AbstractInteractionsProvider;\n}());\nexport { AbstractInteractionsProvider };\n//# sourceMappingURL=InteractionsProvider.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","var HttpResponse = /** @class */ (function () {\n    function HttpResponse(options) {\n        this.statusCode = options.statusCode;\n        this.headers = options.headers || {};\n        this.body = options.body;\n    }\n    HttpResponse.isInstance = function (response) {\n        //determine if response is a valid HttpResponse\n        if (!response)\n            return false;\n        var resp = response;\n        return typeof resp.statusCode === \"number\" && typeof resp.headers === \"object\";\n    };\n    return HttpResponse;\n}());\nexport { HttpResponse };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHR0cFJlc3BvbnNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2h0dHBSZXNwb25zZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFRQTtJQUtFLHNCQUFZLE9BQTRCO1FBQ3RDLElBQUksQ0FBQyxVQUFVLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztRQUNyQyxJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLElBQUksRUFBRSxDQUFDO1FBQ3JDLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztJQUMzQixDQUFDO0lBRU0sdUJBQVUsR0FBakIsVUFBa0IsUUFBaUI7UUFDakMsK0NBQStDO1FBQy9DLElBQUksQ0FBQyxRQUFRO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDNUIsSUFBTSxJQUFJLEdBQUcsUUFBZSxDQUFDO1FBQzdCLE9BQU8sT0FBTyxJQUFJLENBQUMsVUFBVSxLQUFLLFFBQVEsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLEtBQUssUUFBUSxDQUFDO0lBQ2pGLENBQUM7SUFDSCxtQkFBQztBQUFELENBQUMsQUFqQkQsSUFpQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIZWFkZXJCYWcsIEh0dHBNZXNzYWdlLCBIdHRwUmVzcG9uc2UgYXMgSUh0dHBSZXNwb25zZSB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG50eXBlIEh0dHBSZXNwb25zZU9wdGlvbnMgPSBQYXJ0aWFsPEh0dHBNZXNzYWdlPiAmIHtcbiAgc3RhdHVzQ29kZTogbnVtYmVyO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBIdHRwUmVzcG9uc2UgZXh0ZW5kcyBJSHR0cFJlc3BvbnNlIHt9XG5cbmV4cG9ydCBjbGFzcyBIdHRwUmVzcG9uc2Uge1xuICBwdWJsaWMgc3RhdHVzQ29kZTogbnVtYmVyO1xuICBwdWJsaWMgaGVhZGVyczogSGVhZGVyQmFnO1xuICBwdWJsaWMgYm9keT86IGFueTtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBIdHRwUmVzcG9uc2VPcHRpb25zKSB7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gb3B0aW9ucy5zdGF0dXNDb2RlO1xuICAgIHRoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCB7fTtcbiAgICB0aGlzLmJvZHkgPSBvcHRpb25zLmJvZHk7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShyZXNwb25zZTogdW5rbm93bik6IHJlc3BvbnNlIGlzIEh0dHBSZXNwb25zZSB7XG4gICAgLy9kZXRlcm1pbmUgaWYgcmVzcG9uc2UgaXMgYSB2YWxpZCBIdHRwUmVzcG9uc2VcbiAgICBpZiAoIXJlc3BvbnNlKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgcmVzcCA9IHJlc3BvbnNlIGFzIGFueTtcbiAgICByZXR1cm4gdHlwZW9mIHJlc3Auc3RhdHVzQ29kZSA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgcmVzcC5oZWFkZXJzID09PSBcIm9iamVjdFwiO1xuICB9XG59XG4iXX0=","import { __assign, __read, __spread } from \"tslib\";\nvar HttpRequest = /** @class */ (function () {\n    function HttpRequest(options) {\n        this.method = options.method || \"GET\";\n        this.hostname = options.hostname || \"localhost\";\n        this.port = options.port;\n        this.query = options.query || {};\n        this.headers = options.headers || {};\n        this.body = options.body;\n        this.protocol = options.protocol\n            ? options.protocol.substr(-1) !== \":\"\n                ? options.protocol + \":\"\n                : options.protocol\n            : \"https:\";\n        this.path = options.path ? (options.path.charAt(0) !== \"/\" ? \"/\" + options.path : options.path) : \"/\";\n    }\n    HttpRequest.isInstance = function (request) {\n        //determine if request is a valid httpRequest\n        if (!request)\n            return false;\n        var req = request;\n        return (\"method\" in req &&\n            \"protocol\" in req &&\n            \"hostname\" in req &&\n            \"path\" in req &&\n            typeof req[\"query\"] === \"object\" &&\n            typeof req[\"headers\"] === \"object\");\n    };\n    HttpRequest.prototype.clone = function () {\n        var cloned = new HttpRequest(__assign(__assign({}, this), { headers: __assign({}, this.headers) }));\n        if (cloned.query)\n            cloned.query = cloneQuery(cloned.query);\n        return cloned;\n    };\n    return HttpRequest;\n}());\nexport { HttpRequest };\nfunction cloneQuery(query) {\n    return Object.keys(query).reduce(function (carry, paramName) {\n        var _a;\n        var param = query[paramName];\n        return __assign(__assign({}, carry), (_a = {}, _a[paramName] = Array.isArray(param) ? __spread(param) : param, _a));\n    }, {});\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHR0cFJlcXVlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaHR0cFJlcXVlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQU1BO0lBVUUscUJBQVksT0FBMkI7UUFDckMsSUFBSSxDQUFDLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQztRQUN0QyxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQyxRQUFRLElBQUksV0FBVyxDQUFDO1FBQ2hELElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztRQUN6QixJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLElBQUksRUFBRSxDQUFDO1FBQ2pDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUM7UUFDckMsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDLFFBQVE7WUFDOUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRztnQkFDbkMsQ0FBQyxDQUFJLE9BQU8sQ0FBQyxRQUFRLE1BQUc7Z0JBQ3hCLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUTtZQUNwQixDQUFDLENBQUMsUUFBUSxDQUFDO1FBQ2IsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBSSxPQUFPLENBQUMsSUFBTSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztJQUN4RyxDQUFDO0lBRU0sc0JBQVUsR0FBakIsVUFBa0IsT0FBZ0I7UUFDaEMsNkNBQTZDO1FBQzdDLElBQUksQ0FBQyxPQUFPO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFDM0IsSUFBTSxHQUFHLEdBQVEsT0FBTyxDQUFDO1FBQ3pCLE9BQU8sQ0FDTCxRQUFRLElBQUksR0FBRztZQUNmLFVBQVUsSUFBSSxHQUFHO1lBQ2pCLFVBQVUsSUFBSSxHQUFHO1lBQ2pCLE1BQU0sSUFBSSxHQUFHO1lBQ2IsT0FBTyxHQUFHLENBQUMsT0FBTyxDQUFDLEtBQUssUUFBUTtZQUNoQyxPQUFPLEdBQUcsQ0FBQyxTQUFTLENBQUMsS0FBSyxRQUFRLENBQ25DLENBQUM7SUFDSixDQUFDO0lBRUQsMkJBQUssR0FBTDtRQUNFLElBQU0sTUFBTSxHQUFHLElBQUksV0FBVyx1QkFDekIsSUFBSSxLQUNQLE9BQU8sZUFBTyxJQUFJLENBQUMsT0FBTyxLQUMxQixDQUFDO1FBQ0gsSUFBSSxNQUFNLENBQUMsS0FBSztZQUFFLE1BQU0sQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMxRCxPQUFPLE1BQU0sQ0FBQztJQUNoQixDQUFDO0lBQ0gsa0JBQUM7QUFBRCxDQUFDLEFBL0NELElBK0NDOztBQUVELFNBQVMsVUFBVSxDQUFDLEtBQXdCO0lBQzFDLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQyxLQUF3QixFQUFFLFNBQWlCOztRQUMzRSxJQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDL0IsNkJBQ0ssS0FBSyxnQkFDUCxTQUFTLElBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFVBQUssS0FBSyxFQUFFLENBQUMsQ0FBQyxLQUFLLE9BQ3REO0lBQ0osQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ1QsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVuZHBvaW50LCBIZWFkZXJCYWcsIEh0dHBNZXNzYWdlLCBIdHRwUmVxdWVzdCBhcyBJSHR0cFJlcXVlc3QsIFF1ZXJ5UGFyYW1ldGVyQmFnIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbnR5cGUgSHR0cFJlcXVlc3RPcHRpb25zID0gUGFydGlhbDxIdHRwTWVzc2FnZT4gJiBQYXJ0aWFsPEVuZHBvaW50PiAmIHsgbWV0aG9kPzogc3RyaW5nIH07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSHR0cFJlcXVlc3QgZXh0ZW5kcyBJSHR0cFJlcXVlc3Qge31cblxuZXhwb3J0IGNsYXNzIEh0dHBSZXF1ZXN0IGltcGxlbWVudHMgSHR0cE1lc3NhZ2UsIEVuZHBvaW50IHtcbiAgcHVibGljIG1ldGhvZDogc3RyaW5nO1xuICBwdWJsaWMgcHJvdG9jb2w6IHN0cmluZztcbiAgcHVibGljIGhvc3RuYW1lOiBzdHJpbmc7XG4gIHB1YmxpYyBwb3J0PzogbnVtYmVyO1xuICBwdWJsaWMgcGF0aDogc3RyaW5nO1xuICBwdWJsaWMgcXVlcnk6IFF1ZXJ5UGFyYW1ldGVyQmFnO1xuICBwdWJsaWMgaGVhZGVyczogSGVhZGVyQmFnO1xuICBwdWJsaWMgYm9keT86IGFueTtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBIdHRwUmVxdWVzdE9wdGlvbnMpIHtcbiAgICB0aGlzLm1ldGhvZCA9IG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCI7XG4gICAgdGhpcy5ob3N0bmFtZSA9IG9wdGlvbnMuaG9zdG5hbWUgfHwgXCJsb2NhbGhvc3RcIjtcbiAgICB0aGlzLnBvcnQgPSBvcHRpb25zLnBvcnQ7XG4gICAgdGhpcy5xdWVyeSA9IG9wdGlvbnMucXVlcnkgfHwge307XG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IHt9O1xuICAgIHRoaXMuYm9keSA9IG9wdGlvbnMuYm9keTtcbiAgICB0aGlzLnByb3RvY29sID0gb3B0aW9ucy5wcm90b2NvbFxuICAgICAgPyBvcHRpb25zLnByb3RvY29sLnN1YnN0cigtMSkgIT09IFwiOlwiXG4gICAgICAgID8gYCR7b3B0aW9ucy5wcm90b2NvbH06YFxuICAgICAgICA6IG9wdGlvbnMucHJvdG9jb2xcbiAgICAgIDogXCJodHRwczpcIjtcbiAgICB0aGlzLnBhdGggPSBvcHRpb25zLnBhdGggPyAob3B0aW9ucy5wYXRoLmNoYXJBdCgwKSAhPT0gXCIvXCIgPyBgLyR7b3B0aW9ucy5wYXRofWAgOiBvcHRpb25zLnBhdGgpIDogXCIvXCI7XG4gIH1cblxuICBzdGF0aWMgaXNJbnN0YW5jZShyZXF1ZXN0OiB1bmtub3duKTogcmVxdWVzdCBpcyBIdHRwUmVxdWVzdCB7XG4gICAgLy9kZXRlcm1pbmUgaWYgcmVxdWVzdCBpcyBhIHZhbGlkIGh0dHBSZXF1ZXN0XG4gICAgaWYgKCFyZXF1ZXN0KSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgcmVxOiBhbnkgPSByZXF1ZXN0O1xuICAgIHJldHVybiAoXG4gICAgICBcIm1ldGhvZFwiIGluIHJlcSAmJlxuICAgICAgXCJwcm90b2NvbFwiIGluIHJlcSAmJlxuICAgICAgXCJob3N0bmFtZVwiIGluIHJlcSAmJlxuICAgICAgXCJwYXRoXCIgaW4gcmVxICYmXG4gICAgICB0eXBlb2YgcmVxW1wicXVlcnlcIl0gPT09IFwib2JqZWN0XCIgJiZcbiAgICAgIHR5cGVvZiByZXFbXCJoZWFkZXJzXCJdID09PSBcIm9iamVjdFwiXG4gICAgKTtcbiAgfVxuXG4gIGNsb25lKCk6IEh0dHBSZXF1ZXN0IHtcbiAgICBjb25zdCBjbG9uZWQgPSBuZXcgSHR0cFJlcXVlc3Qoe1xuICAgICAgLi4udGhpcyxcbiAgICAgIGhlYWRlcnM6IHsgLi4udGhpcy5oZWFkZXJzIH0sXG4gICAgfSk7XG4gICAgaWYgKGNsb25lZC5xdWVyeSkgY2xvbmVkLnF1ZXJ5ID0gY2xvbmVRdWVyeShjbG9uZWQucXVlcnkpO1xuICAgIHJldHVybiBjbG9uZWQ7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xvbmVRdWVyeShxdWVyeTogUXVlcnlQYXJhbWV0ZXJCYWcpOiBRdWVyeVBhcmFtZXRlckJhZyB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhxdWVyeSkucmVkdWNlKChjYXJyeTogUXVlcnlQYXJhbWV0ZXJCYWcsIHBhcmFtTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcGFyYW0gPSBxdWVyeVtwYXJhbU5hbWVdO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5jYXJyeSxcbiAgICAgIFtwYXJhbU5hbWVdOiBBcnJheS5pc0FycmF5KHBhcmFtKSA/IFsuLi5wYXJhbV0gOiBwYXJhbSxcbiAgICB9O1xuICB9LCB7fSk7XG59XG4iXX0=","export function escapeUri(uri) {\n    var output = encodeURIComponent(uri);\n    // AWS percent-encodes some extra non-standard characters in a URI\n    output = output.replace(/[!'()*]/g, hexEncode);\n    return output;\n}\nfunction hexEncode(c) {\n    return \"%\" + c.charCodeAt(0).toString(16).toUpperCase();\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXNjYXBlLXVyaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9lc2NhcGUtdXJpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sVUFBVSxTQUFTLENBQUMsR0FBVztJQUNuQyxJQUFJLE1BQU0sR0FBRyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUVyQyxrRUFBa0U7SUFDbEUsTUFBTSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBRS9DLE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUM7QUFFRCxTQUFTLFNBQVMsQ0FBQyxDQUFTO0lBQzFCLE9BQU8sTUFBSSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxXQUFXLEVBQUksQ0FBQztBQUMxRCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZVVyaSh1cmk6IHN0cmluZyk6IHN0cmluZyB7XG4gIGxldCBvdXRwdXQgPSBlbmNvZGVVUklDb21wb25lbnQodXJpKTtcblxuICAvLyBBV1MgcGVyY2VudC1lbmNvZGVzIHNvbWUgZXh0cmEgbm9uLXN0YW5kYXJkIGNoYXJhY3RlcnMgaW4gYSBVUklcbiAgb3V0cHV0ID0gb3V0cHV0LnJlcGxhY2UoL1shJygpKl0vZywgaGV4RW5jb2RlKTtcblxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5mdW5jdGlvbiBoZXhFbmNvZGUoYzogc3RyaW5nKSB7XG4gIHJldHVybiBgJSR7Yy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfWA7XG59XG4iXX0=","var alphabetByEncoding = {};\nvar alphabetByValue = new Array(64);\nfor (var i = 0, start = \"A\".charCodeAt(0), limit = \"Z\".charCodeAt(0); i + start <= limit; i++) {\n    var char = String.fromCharCode(i + start);\n    alphabetByEncoding[char] = i;\n    alphabetByValue[i] = char;\n}\nfor (var i = 0, start = \"a\".charCodeAt(0), limit = \"z\".charCodeAt(0); i + start <= limit; i++) {\n    var char = String.fromCharCode(i + start);\n    var index = i + 26;\n    alphabetByEncoding[char] = index;\n    alphabetByValue[index] = char;\n}\nfor (var i = 0; i < 10; i++) {\n    alphabetByEncoding[i.toString(10)] = i + 52;\n    var char = i.toString(10);\n    var index = i + 52;\n    alphabetByEncoding[char] = index;\n    alphabetByValue[index] = char;\n}\nalphabetByEncoding[\"+\"] = 62;\nalphabetByValue[62] = \"+\";\nalphabetByEncoding[\"/\"] = 63;\nalphabetByValue[63] = \"/\";\nvar bitsPerLetter = 6;\nvar bitsPerByte = 8;\nvar maxLetterValue = 63;\n/**\n * Converts a base-64 encoded string to a Uint8Array of bytes.\n *\n * @param input The base-64 encoded string\n *\n * @see https://tools.ietf.org/html/rfc4648#section-4\n */\nexport function fromBase64(input) {\n    var totalByteLength = (input.length / 4) * 3;\n    if (input.substr(-2) === \"==\") {\n        totalByteLength -= 2;\n    }\n    else if (input.substr(-1) === \"=\") {\n        totalByteLength--;\n    }\n    var out = new ArrayBuffer(totalByteLength);\n    var dataView = new DataView(out);\n    for (var i = 0; i < input.length; i += 4) {\n        var bits = 0;\n        var bitLength = 0;\n        for (var j = i, limit = i + 3; j <= limit; j++) {\n            if (input[j] !== \"=\") {\n                bits |= alphabetByEncoding[input[j]] << ((limit - j) * bitsPerLetter);\n                bitLength += bitsPerLetter;\n            }\n            else {\n                bits >>= bitsPerLetter;\n            }\n        }\n        var chunkOffset = (i / 4) * 3;\n        bits >>= bitLength % bitsPerByte;\n        var byteLength = Math.floor(bitLength / bitsPerByte);\n        for (var k = 0; k < byteLength; k++) {\n            var offset = (byteLength - k - 1) * bitsPerByte;\n            dataView.setUint8(chunkOffset + k, (bits & (255 << offset)) >> offset);\n        }\n    }\n    return new Uint8Array(out);\n}\n/**\n * Converts a Uint8Array of binary data to a base-64 encoded string.\n *\n * @param input The binary data to encode\n *\n * @see https://tools.ietf.org/html/rfc4648#section-4\n */\nexport function toBase64(input) {\n    var str = \"\";\n    for (var i = 0; i < input.length; i += 3) {\n        var bits = 0;\n        var bitLength = 0;\n        for (var j = i, limit = Math.min(i + 3, input.length); j < limit; j++) {\n            bits |= input[j] << ((limit - j - 1) * bitsPerByte);\n            bitLength += bitsPerByte;\n        }\n        var bitClusterCount = Math.ceil(bitLength / bitsPerLetter);\n        bits <<= bitClusterCount * bitsPerLetter - bitLength;\n        for (var k = 1; k <= bitClusterCount; k++) {\n            var offset = (bitClusterCount - k) * bitsPerLetter;\n            str += alphabetByValue[(bits & (maxLetterValue << offset)) >> offset];\n        }\n        str += \"==\".slice(0, 4 - bitClusterCount);\n    }\n    return str;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBTSxrQkFBa0IsR0FBOEIsRUFBRSxDQUFDO0FBQ3pELElBQU0sZUFBZSxHQUFrQixJQUFJLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUVyRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxJQUFJLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUM3RixJQUFNLElBQUksR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztJQUM1QyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDN0IsZUFBZSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztDQUMzQjtBQUVELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLElBQUksS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQzdGLElBQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDO0lBQzVDLElBQU0sS0FBSyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDckIsa0JBQWtCLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO0lBQ2pDLGVBQWUsQ0FBQyxLQUFLLENBQUMsR0FBRyxJQUFJLENBQUM7Q0FDL0I7QUFFRCxLQUFLLElBQUksQ0FB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QyxDQUFDLElBQUksR0FBRyxDQUFDLGNBQWMsSUFBSSxNQUFNLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDO1NBQ3ZFO1FBRUQsR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxlQUFlLENBQUMsQ0FBQztLQUMzQztJQUVELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGFscGhhYmV0QnlFbmNvZGluZzogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuY29uc3QgYWxwaGFiZXRCeVZhbHVlOiBBcnJheTxzdHJpbmc+ID0gbmV3IEFycmF5KDY0KTtcblxuZm9yIChsZXQgaSA9IDAsIHN0YXJ0ID0gXCJBXCIuY2hhckNvZGVBdCgwKSwgbGltaXQgPSBcIlpcIi5jaGFyQ29kZUF0KDApOyBpICsgc3RhcnQgPD0gbGltaXQ7IGkrKykge1xuICBjb25zdCBjaGFyID0gU3RyaW5nLmZyb21DaGFyQ29kZShpICsgc3RhcnQpO1xuICBhbHBoYWJldEJ5RW5jb2RpbmdbY2hhcl0gPSBpO1xuICBhbHBoYWJldEJ5VmFsdWVbaV0gPSBjaGFyO1xufVxuXG5mb3IgKGxldCBpID0gMCwgc3RhcnQgPSBcImFcIi5jaGFyQ29kZUF0KDApLCBsaW1pdCA9IFwielwiLmNoYXJDb2RlQXQoMCk7IGkgKyBzdGFydCA8PSBsaW1pdDsgaSsrKSB7XG4gIGNvbnN0IGNoYXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkgKyBzdGFydCk7XG4gIGNvbnN0IGluZGV4ID0gaSArIDI2O1xuICBhbHBoYWJldEJ5RW5jb2RpbmdbY2hhcl0gPSBpbmRleDtcbiAgYWxwaGFiZXRCeVZhbHVlW2luZGV4XSA9IGNoYXI7XG59XG5cbmZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICBhbHBoYWJldEJ5RW5jb2RpbmdbaS50b1N0cmluZygxMCldID0gaSArIDUyO1xuICBjb25zdCBjaGFyID0gaS50b1N0cmluZygxMCk7XG4gIGNvbnN0IGluZGV4ID0gaSArIDUyO1xuICBhbHBoYWJldEJ5RW5jb2RpbmdbY2hhcl0gPSBpbmRleDtcbiAgYWxwaGFiZXRCeVZhbHVlW2luZGV4XSA9IGNoYXI7XG59XG5cbmFscGhhYmV0QnlFbmNvZGluZ1tcIitcIl0gPSA2MjtcbmFscGhhYmV0QnlWYWx1ZVs2Ml0gPSBcIitcIjtcbmFscGhhYmV0QnlFbmNvZGluZ1tcIi9cIl0gPSA2MztcbmFscGhhYmV0QnlWYWx1ZVs2M10gPSBcIi9cIjtcblxuY29uc3QgYml0c1BlckxldHRlciA9IDY7XG5jb25zdCBiaXRzUGVyQnl0ZSA9IDg7XG5jb25zdCBtYXhMZXR0ZXJWYWx1ZSA9IDBiMTExMTExO1xuXG4vKipcbiAqIENvbnZlcnRzIGEgYmFzZS02NCBlbmNvZGVkIHN0cmluZyB0byBhIFVpbnQ4QXJyYXkgb2YgYnl0ZXMuXG4gKlxuICogQHBhcmFtIGlucHV0IFRoZSBiYXNlLTY0IGVuY29kZWQgc3RyaW5nXG4gKlxuICogQHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNDY0OCNzZWN0aW9uLTRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21CYXNlNjQoaW5wdXQ6IHN0cmluZyk6IFVpbnQ4QXJyYXkge1xuICBsZXQgdG90YWxCeXRlTGVuZ3RoID0gKGlucHV0Lmxlbmd0aCAvIDQpICogMztcbiAgaWYgKGlucHV0LnN1YnN0cigtMikgPT09IFwiPT1cIikge1xuICAgIHRvdGFsQnl0ZUxlbmd0aCAtPSAyO1xuICB9IGVsc2UgaWYgKGlucHV0LnN1YnN0cigtMSkgPT09IFwiPVwiKSB7XG4gICAgdG90YWxCeXRlTGVuZ3RoLS07XG4gIH1cbiAgY29uc3Qgb3V0ID0gbmV3IEFycmF5QnVmZmVyKHRvdGFsQnl0ZUxlbmd0aCk7XG4gIGNvbnN0IGRhdGFWaWV3ID0gbmV3IERhdGFWaWV3KG91dCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpICs9IDQpIHtcbiAgICBsZXQgYml0cyA9IDA7XG4gICAgbGV0IGJpdExlbmd0aCA9IDA7XG4gICAgZm9yIChsZXQgaiA9IGksIGxpbWl0ID0gaSArIDM7IGogPD0gbGltaXQ7IGorKykge1xuICAgICAgaWYgKGlucHV0W2pdICE9PSBcIj1cIikge1xuICAgICAgICBiaXRzIHw9IGFscGhhYmV0QnlFbmNvZGluZ1tpbnB1dFtqXV0gPDwgKChsaW1pdCAtIGopICogYml0c1BlckxldHRlcik7XG4gICAgICAgIGJpdExlbmd0aCArPSBiaXRzUGVyTGV0dGVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYml0cyA+Pj0gYml0c1BlckxldHRlcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjaHVua09mZnNldCA9IChpIC8gNCkgKiAzO1xuICAgIGJpdHMgPj49IGJpdExlbmd0aCAlIGJpdHNQZXJCeXRlO1xuICAgIGNvbnN0IGJ5dGVMZW5ndGggPSBNYXRoLmZsb29yKGJpdExlbmd0aCAvIGJpdHNQZXJCeXRlKTtcbiAgICBmb3IgKGxldCBrID0gMDsgayA8IGJ5dGVMZW5ndGg7IGsrKykge1xuICAgICAgY29uc3Qgb2Zmc2V0ID0gKGJ5dGVMZW5ndGggLSBrIC0gMSkgKiBiaXRzUGVyQnl0ZTtcbiAgICAgIGRhdGFWaWV3LnNldFVpbnQ4KGNodW5rT2Zmc2V0ICsgaywgKGJpdHMgJiAoMjU1IDw8IG9mZnNldCkpID4+IG9mZnNldCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ldyBVaW50OEFycmF5KG91dCk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBVaW50OEFycmF5IG9mIGJpbmFyeSBkYXRhIHRvIGEgYmFzZS02NCBlbmNvZGVkIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0gaW5wdXQgVGhlIGJpbmFyeSBkYXRhIHRvIGVuY29kZVxuICpcbiAqIEBzZWUgaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzQ2NDgjc2VjdGlvbi00XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0Jhc2U2NChpbnB1dDogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGxldCBzdHIgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSArPSAzKSB7XG4gICAgbGV0IGJpdHMgPSAwO1xuICAgIGxldCBiaXRMZW5ndGggPSAwO1xuICAgIGZvciAobGV0IGogPSBpLCBsaW1pdCA9IE1hdGgubWluKGkgKyAzLCBpbnB1dC5sZW5ndGgpOyBqIDwgbGltaXQ7IGorKykge1xuICAgICAgYml0cyB8PSBpbnB1dFtqXSA8PCAoKGxpbWl0IC0gaiAtIDEpICogYml0c1BlckJ5dGUpO1xuICAgICAgYml0TGVuZ3RoICs9IGJpdHNQZXJCeXRlO1xuICAgIH1cblxuICAgIGNvbnN0IGJpdENsdXN0ZXJDb3VudCA9IE1hdGguY2VpbChiaXRMZW5ndGggLyBiaXRzUGVyTGV0dGVyKTtcbiAgICBiaXRzIDw8PSBiaXRDbHVzdGVyQ291bnQgKiBiaXRzUGVyTGV0dGVyIC0gYml0TGVuZ3RoO1xuICAgIGZvciAobGV0IGsgPSAxOyBrIDw9IGJpdENsdXN0ZXJDb3VudDsgaysrKSB7XG4gICAgICBjb25zdCBvZmZzZXQgPSAoYml0Q2x1c3RlckNvdW50IC0gaykgKiBiaXRzUGVyTGV0dGVyO1xuICAgICAgc3RyICs9IGFscGhhYmV0QnlWYWx1ZVsoYml0cyAmIChtYXhMZXR0ZXJWYWx1ZSA8PCBvZmZzZXQpKSA+PiBvZmZzZXRdO1xuICAgIH1cblxuICAgIHN0ciArPSBcIj09XCIuc2xpY2UoMCwgNCAtIGJpdENsdXN0ZXJDb3VudCk7XG4gIH1cblxuICByZXR1cm4gc3RyO1xufVxuIl19","import { __values } from \"tslib\";\nimport { HttpResponse } from \"@aws-sdk/protocol-http\";\nimport { buildQueryString } from \"@aws-sdk/querystring-builder\";\nimport { requestTimeout } from \"./request-timeout\";\nvar FetchHttpHandler = /** @class */ (function () {\n    function FetchHttpHandler(httpOptions) {\n        if (httpOptions === void 0) { httpOptions = {}; }\n        this.httpOptions = httpOptions;\n    }\n    FetchHttpHandler.prototype.destroy = function () {\n        // Do nothing. TLS and HTTP/2 connection pooling is handled by the\n        // browser.\n    };\n    FetchHttpHandler.prototype.handle = function (request, options) {\n        var abortSignal = options === null || options === void 0 ? void 0 : options.abortSignal;\n        var requestTimeoutInMs = this.httpOptions.requestTimeout;\n        // if the request was already aborted, prevent doing extra work\n        if (abortSignal === null || abortSignal === void 0 ? void 0 : abortSignal.aborted) {\n            var abortError = new Error(\"Request aborted\");\n            abortError.name = \"AbortError\";\n            return Promise.reject(abortError);\n        }\n        var path = request.path;\n        if (request.query) {\n            var queryString = buildQueryString(request.query);\n            if (queryString) {\n                path += \"?\" + queryString;\n            }\n        }\n        var port = request.port;\n        var url = request.protocol + \"//\" + request.hostname + (port ? \":\" + port : \"\") + path;\n        var requestOptions = {\n            body: request.body,\n            headers: new Headers(request.headers),\n            method: request.method,\n        };\n        // some browsers support abort signal\n        if (typeof AbortController !== \"undefined\") {\n            requestOptions[\"signal\"] = abortSignal;\n        }\n        var fetchRequest = new Request(url, requestOptions);\n        var raceOfPromises = [\n            fetch(fetchRequest).then(function (response) {\n                var e_1, _a;\n                var fetchHeaders = response.headers;\n                var transformedHeaders = {};\n                try {\n                    for (var _b = __values(fetchHeaders.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                        var pair = _c.value;\n                        transformedHeaders[pair[0]] = pair[1];\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                var hasReadableStream = response.body !== undefined;\n                // Return the response with buffered body\n                if (!hasReadableStream) {\n                    return response.blob().then(function (body) { return ({\n                        response: new HttpResponse({\n                            headers: transformedHeaders,\n                            statusCode: response.status,\n                            body: body,\n                        }),\n                    }); });\n                }\n                // Return the response with streaming body\n                return {\n                    response: new HttpResponse({\n                        headers: transformedHeaders,\n                        statusCode: response.status,\n                        body: response.body,\n                    }),\n                };\n            }),\n            requestTimeout(requestTimeoutInMs),\n        ];\n        if (abortSignal) {\n            raceOfPromises.push(new Promise(function (resolve, reject) {\n                abortSignal.onabort = function () {\n                    var abortError = new Error(\"Request aborted\");\n                    abortError.name = \"AbortError\";\n                    reject(abortError);\n                };\n            }));\n        }\n        return Promise.race(raceOfPromises);\n    };\n    return FetchHttpHandler;\n}());\nexport { FetchHttpHandler };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmV0Y2gtaHR0cC1oYW5kbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2ZldGNoLWh0dHAtaGFuZGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUE0QixZQUFZLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUNoRixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUdoRSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFlbkQ7SUFDRSwwQkFBNkIsV0FBb0M7UUFBcEMsNEJBQUEsRUFBQSxnQkFBb0M7UUFBcEMsZ0JBQVcsR0FBWCxXQUFXLENBQXlCO0lBQUcsQ0FBQztJQUVyRSxrQ0FBTyxHQUFQO1FBQ0Usa0VBQWtFO1FBQ2xFLFdBQVc7SUFDYixDQUFDO0lBRUQsaUNBQU0sR0FBTixVQUFPLE9BQW9CLEVBQUUsT0FBMkI7UUFDdEQsSUFBTSxXQUFXLEdBQUcsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLFdBQVcsQ0FBQztRQUN6QyxJQUFNLGtCQUFrQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDO1FBRTNELCtEQUErRDtRQUMvRCxJQUFJLFdBQVcsYUFBWCxXQUFXLHVCQUFYLFdBQVcsQ0FBRSxPQUFPLEVBQUU7WUFDeEIsSUFBTSxVQUFVLEdBQUcsSUFBSSxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQztZQUNoRCxVQUFVLENBQUMsSUFBSSxHQUFHLFlBQVksQ0FBQztZQUMvQixPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDbkM7UUFFRCxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBQ3hCLElBQUksT0FBTyxDQUFDLEtBQUssRUFBRTtZQUNqQixJQUFNLFdBQVcsR0FBRyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDcEQsSUFBSSxXQUFX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cXVlc3QsIEh0dHBSZXNwb25zZSB9IGZyb20gXCJAYXdzLXNkay9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQgeyBidWlsZFF1ZXJ5U3RyaW5nIH0gZnJvbSBcIkBhd3Mtc2RrL3F1ZXJ5c3RyaW5nLWJ1aWxkZXJcIjtcbmltcG9ydCB7IEhlYWRlckJhZywgSHR0cEhhbmRsZXJPcHRpb25zIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmltcG9ydCB7IHJlcXVlc3RUaW1lb3V0IH0gZnJvbSBcIi4vcmVxdWVzdC10aW1lb3V0XCI7XG5cbmRlY2xhcmUgbGV0IEFib3J0Q29udHJvbGxlcjogYW55O1xuXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGh0dHAgb3B0aW9ucyB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gYSBicm93c2VyIGh0dHAgY2xpZW50LlxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyb3dzZXJIdHRwT3B0aW9ucyB7XG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBhIHJlcXVlc3QgY2FuIHRha2UgYmVmb3JlIGJlaW5nIGF1dG9tYXRpY2FsbHlcbiAgICogdGVybWluYXRlZC5cbiAgICovXG4gIHJlcXVlc3RUaW1lb3V0PzogbnVtYmVyO1xufVxuXG5leHBvcnQgY2xhc3MgRmV0Y2hIdHRwSGFuZGxlciBpbXBsZW1lbnRzIEh0dHBIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBodHRwT3B0aW9uczogQnJvd3Nlckh0dHBPcHRpb25zID0ge30pIHt9XG5cbiAgZGVzdHJveSgpOiB2b2lkIHtcbiAgICAvLyBEbyBub3RoaW5nLiBUTFMgYW5kIEhUVFAvMiBjb25uZWN0aW9uIHBvb2xpbmcgaXMgaGFuZGxlZCBieSB0aGVcbiAgICAvLyBicm93c2VyLlxuICB9XG5cbiAgaGFuZGxlKHJlcXVlc3Q6IEh0dHBSZXF1ZXN0LCBvcHRpb25zOiBIdHRwSGFuZGxlck9wdGlvbnMpOiBQcm9taXNlPHsgcmVzcG9uc2U6IEh0dHBSZXNwb25zZSB9PiB7XG4gICAgY29uc3QgYWJvcnRTaWduYWwgPSBvcHRpb25zPy5hYm9ydFNpZ25hbDtcbiAgICBjb25zdCByZXF1ZXN0VGltZW91dEluTXMgPSB0aGlzLmh0dHBPcHRpb25zLnJlcXVlc3RUaW1lb3V0O1xuXG4gICAgLy8gaWYgdGhlIHJlcXVlc3Qgd2FzIGFscmVhZHkgYWJvcnRlZCwgcHJldmVudCBkb2luZyBleHRyYSB3b3JrXG4gICAgaWYgKGFib3J0U2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICBjb25zdCBhYm9ydEVycm9yID0gbmV3IEVycm9yKFwiUmVxdWVzdCBhYm9ydGVkXCIpO1xuICAgICAgYWJvcnRFcnJvci5uYW1lID0gXCJBYm9ydEVycm9yXCI7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYWJvcnRFcnJvcik7XG4gICAgfVxuXG4gICAgbGV0IHBhdGggPSByZXF1ZXN0LnBhdGg7XG4gICAgaWYgKHJlcXVlc3QucXVlcnkpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gYnVpbGRRdWVyeVN0cmluZyhyZXF1ZXN0LnF1ZXJ5KTtcbiAgICAgIGlmIChxdWVyeVN0cmluZykge1xuICAgICAgICBwYXRoICs9IGA/JHtxdWVyeVN0cmluZ31gO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHBvcnQgPSByZXF1ZXN0LnBvcnQ7XG4gICAgY29uc3QgdXJsID0gYCR7cmVxdWVzdC5wcm90b2NvbH0vLyR7cmVxdWVzdC5ob3N0bmFtZX0ke3BvcnQgPyBgOiR7cG9ydH1gIDogXCJcIn0ke3BhdGh9YDtcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdEluaXQgPSB7XG4gICAgICBib2R5OiByZXF1ZXN0LmJvZHksXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycyhyZXF1ZXN0LmhlYWRlcnMpLFxuICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICB9O1xuXG4gICAgLy8gc29tZSBicm93c2VycyBzdXBwb3J0IGFib3J0IHNpZ25hbFxuICAgIGlmICh0eXBlb2YgQWJvcnRDb250cm9sbGVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAocmVxdWVzdE9wdGlvbnMgYXMgYW55KVtcInNpZ25hbFwiXSA9IGFib3J0U2lnbmFsO1xuICAgIH1cblxuICAgIGNvbnN0IGZldGNoUmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHVybCwgcmVxdWVzdE9wdGlvbnMpO1xuICAgIGNvbnN0IHJhY2VPZlByb21pc2VzID0gW1xuICAgICAgZmV0Y2goZmV0Y2hSZXF1ZXN0KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICBjb25zdCBmZXRjaEhlYWRlcnM6IGFueSA9IHJlc3BvbnNlLmhlYWRlcnM7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkSGVhZGVyczogSGVhZGVyQmFnID0ge307XG5cbiAgICAgICAgZm9yIChjb25zdCBwYWlyIG9mIDxBcnJheTxzdHJpbmdbXT4+ZmV0Y2hIZWFkZXJzLmVudHJpZXMoKSkge1xuICAgICAgICAgIHRyYW5zZm9ybWVkSGVhZGVyc1twYWlyWzBdXSA9IHBhaXJbMV07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoYXNSZWFkYWJsZVN0cmVhbSA9IHJlc3BvbnNlLmJvZHkgIT09IHVuZGVmaW5lZDtcblxuICAgICAgICAvLyBSZXR1cm4gdGhlIHJlc3BvbnNlIHdpdGggYnVmZmVyZWQgYm9keVxuICAgICAgICBpZiAoIWhhc1JlYWRhYmxlU3RyZWFtKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKS50aGVuKChib2R5KSA9PiAoe1xuICAgICAgICAgICAgcmVzcG9uc2U6IG5ldyBIdHRwUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICBoZWFkZXJzOiB0cmFuc2Zvcm1lZEhlYWRlcnMsXG4gICAgICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm4gdGhlIHJlc3BvbnNlIHdpdGggc3RyZWFtaW5nIGJvZHlcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICByZXNwb25zZTogbmV3IEh0dHBSZXNwb25zZSh7XG4gICAgICAgICAgICBoZWFkZXJzOiB0cmFuc2Zvcm1lZEhlYWRlcnMsXG4gICAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICBib2R5OiByZXNwb25zZS5ib2R5LFxuICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgICByZXF1ZXN0VGltZW91dChyZXF1ZXN0VGltZW91dEluTXMpLFxuICAgIF07XG4gICAgaWYgKGFib3J0U2lnbmFsKSB7XG4gICAgICByYWNlT2ZQcm9taXNlcy5wdXNoKFxuICAgICAgICBuZXcgUHJvbWlzZTxuZXZlcj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGFib3J0U2lnbmFsLm9uYWJvcnQgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhYm9ydEVycm9yID0gbmV3IEVycm9yKFwiUmVxdWVzdCBhYm9ydGVkXCIpO1xuICAgICAgICAgICAgYWJvcnRFcnJvci5uYW1lID0gXCJBYm9ydEVycm9yXCI7XG4gICAgICAgICAgICByZWplY3QoYWJvcnRFcnJvcik7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJhY2UocmFjZU9mUHJvbWlzZXMpO1xuICB9XG59XG4iXX0=","import { __values } from \"tslib\";\nimport { escapeUri } from \"@aws-sdk/util-uri-escape\";\nexport function buildQueryString(query) {\n    var e_1, _a;\n    var parts = [];\n    try {\n        for (var _b = __values(Object.keys(query).sort()), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var key = _c.value;\n            var value = query[key];\n            key = escapeUri(key);\n            if (Array.isArray(value)) {\n                for (var i = 0, iLen = value.length; i < iLen; i++) {\n                    parts.push(key + \"=\" + escapeUri(value[i]));\n                }\n            }\n            else {\n                var qsEntry = key;\n                if (value || typeof value === \"string\") {\n                    qsEntry += \"=\" + escapeUri(value);\n                }\n                parts.push(qsEntry);\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return parts.join(\"&\");\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUVyRCxNQUFNLFVBQVUsZ0JBQWdCLENBQUMsS0FBd0I7O0lBQ3ZELElBQU0sS0FBSyxHQUFhLEVBQUUsQ0FBQzs7UUFDM0IsS0FBZ0IsSUFBQSxLQUFBLFNBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQSxnQkFBQSw0QkFBRTtZQUF0QyxJQUFJLEdBQUcsV0FBQTtZQUNWLElBQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN6QixHQUFHLEdBQUcsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3JCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtnQkFDeEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDbEQsS0FBSyxDQUFDLElBQUksQ0FBSSxHQUFHLFNBQUksU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBRyxDQUFDLENBQUM7aUJBQzdDO2FBQ0Y7aUJBQU07Z0JBQ0wsSUFBSSxPQUFPLEdBQUcsR0FBRyxDQUFDO2dCQUNsQixJQUFJLEtBQUssSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUU7b0JBQ3RDLE9BQU8sSUFBSSxNQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUcsQ0FBQztpQkFDbkM7Z0JBQ0QsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQzthQUNyQjtTQUNGOzs7Ozs7Ozs7SUFFRCxPQUFPLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDekIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFF1ZXJ5UGFyYW1ldGVyQmFnIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBlc2NhcGVVcmkgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC11cmktZXNjYXBlXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBidWlsZFF1ZXJ5U3RyaW5nKHF1ZXJ5OiBRdWVyeVBhcmFtZXRlckJhZyk6IHN0cmluZyB7XG4gIGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IFtdO1xuICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMocXVlcnkpLnNvcnQoKSkge1xuICAgIGNvbnN0IHZhbHVlID0gcXVlcnlba2V5XTtcbiAgICBrZXkgPSBlc2NhcGVVcmkoa2V5KTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBpTGVuID0gdmFsdWUubGVuZ3RoOyBpIDwgaUxlbjsgaSsrKSB7XG4gICAgICAgIHBhcnRzLnB1c2goYCR7a2V5fT0ke2VzY2FwZVVyaSh2YWx1ZVtpXSl9YCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBxc0VudHJ5ID0ga2V5O1xuICAgICAgaWYgKHZhbHVlIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBxc0VudHJ5ICs9IGA9JHtlc2NhcGVVcmkodmFsdWUpfWA7XG4gICAgICB9XG4gICAgICBwYXJ0cy5wdXNoKHFzRW50cnkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKFwiJlwiKTtcbn1cbiJdfQ==","export function requestTimeout(timeoutInMs) {\n    if (timeoutInMs === void 0) { timeoutInMs = 0; }\n    return new Promise(function (resolve, reject) {\n        if (timeoutInMs) {\n            setTimeout(function () {\n                var timeoutError = new Error(\"Request did not complete within \" + timeoutInMs + \" ms\");\n                timeoutError.name = \"TimeoutError\";\n                reject(timeoutError);\n            }, timeoutInMs);\n        }\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVxdWVzdC10aW1lb3V0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JlcXVlc3QtdGltZW91dC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLFVBQVUsY0FBYyxDQUFDLFdBQWU7SUFBZiw0QkFBQSxFQUFBLGVBQWU7SUFDNUMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNO1FBQ2pDLElBQUksV0FBVyxFQUFFO1lBQ2YsVUFBVSxDQUFDO2dCQUNULElBQU0sWUFBWSxHQUFHLElBQUksS0FBSyxDQUFDLHFDQUFtQyxXQUFXLFFBQUssQ0FBQyxDQUFDO2dCQUNwRixZQUFZLENBQUMsSUFBSSxHQUFHLGNBQWMsQ0FBQztnQkFDbkMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ3ZCLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQztTQUNqQjtJQUNILENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiByZXF1ZXN0VGltZW91dCh0aW1lb3V0SW5NcyA9IDApOiBQcm9taXNlPG5ldmVyPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgaWYgKHRpbWVvdXRJbk1zKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgdGltZW91dEVycm9yID0gbmV3IEVycm9yKGBSZXF1ZXN0IGRpZCBub3QgY29tcGxldGUgd2l0aGluICR7dGltZW91dEluTXN9IG1zYCk7XG4gICAgICAgIHRpbWVvdXRFcnJvci5uYW1lID0gXCJUaW1lb3V0RXJyb3JcIjtcbiAgICAgICAgcmVqZWN0KHRpbWVvdXRFcnJvcik7XG4gICAgICB9LCB0aW1lb3V0SW5Ncyk7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==","import { __awaiter, __generator } from \"tslib\";\nimport { fromBase64 } from \"@aws-sdk/util-base64-browser\";\n//reference: https://snack.expo.io/r1JCSWRGU\nexport var streamCollector = function (stream) {\n    if (typeof Blob === \"function\" && stream instanceof Blob) {\n        return collectBlob(stream);\n    }\n    return collectStream(stream);\n};\nfunction collectBlob(blob) {\n    return __awaiter(this, void 0, void 0, function () {\n        var base64, arrayBuffer;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, readToBase64(blob)];\n                case 1:\n                    base64 = _a.sent();\n                    arrayBuffer = fromBase64(base64);\n                    return [2 /*return*/, new Uint8Array(arrayBuffer)];\n            }\n        });\n    });\n}\nfunction collectStream(stream) {\n    return __awaiter(this, void 0, void 0, function () {\n        var res, reader, isDone, _a, done, value, prior;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    res = new Uint8Array(0);\n                    reader = stream.getReader();\n                    isDone = false;\n                    _b.label = 1;\n                case 1:\n                    if (!!isDone) return [3 /*break*/, 3];\n                    return [4 /*yield*/, reader.read()];\n                case 2:\n                    _a = _b.sent(), done = _a.done, value = _a.value;\n                    if (value) {\n                        prior = res;\n                        res = new Uint8Array(prior.length + value.length);\n                        res.set(prior);\n                        res.set(value, prior.length);\n                    }\n                    isDone = done;\n                    return [3 /*break*/, 1];\n                case 3: return [2 /*return*/, res];\n            }\n        });\n    });\n}\nfunction readToBase64(blob) {\n    return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onloadend = function () {\n            var _a;\n            // reference: https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL\n            // response from readAsDataURL is always prepended with \"data:*/*;base64,\"\n            if (reader.readyState !== 2) {\n                return reject(new Error(\"Reader aborted too early\"));\n            }\n            var result = ((_a = reader.result) !== null && _a !== void 0 ? _a : \"\");\n            // Response can include only 'data:' for empty blob, return empty string in this case.\n            // Otherwise, return the string after ','\n            var commaIndex = result.indexOf(\",\");\n            var dataOffset = commaIndex > -1 ? commaIndex + 1 : result.length;\n            resolve(result.substring(dataOffset));\n        };\n        reader.onabort = function () { return reject(new Error(\"Read aborted\")); };\n        reader.onerror = function () { return reject(reader.error); };\n        // reader.readAsArrayBuffer is not always available\n        reader.readAsDataURL(blob);\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyZWFtLWNvbGxlY3Rvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9zdHJlYW0tY29sbGVjdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFFMUQsNENBQTRDO0FBQzVDLE1BQU0sQ0FBQyxJQUFNLGVBQWUsR0FBb0IsVUFBQyxNQUE2QjtJQUM1RSxJQUFJLE9BQU8sSUFBSSxLQUFLLFVBQVUsSUFBSSxNQUFNLFlBQVksSUFBSSxFQUFFO1FBQ3hELE9BQU8sV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQzVCO0lBRUQsT0FBTyxhQUFhLENBQUMsTUFBd0IsQ0FBQyxDQUFDO0FBQ2pELENBQUMsQ0FBQztBQUVGLFNBQWUsV0FBVyxDQUFDLElBQVU7Ozs7O3dCQUNwQixxQkFBTSxZQUFZLENBQUMsSUFBSSxDQUFDLEVBQUE7O29CQUFqQyxNQUFNLEdBQUcsU0FBd0I7b0JBQ2pDLFdBQVcsR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7b0JBQ3ZDLHNCQUFPLElBQUksVUFBVSxDQUFDLFdBQVcsQ0FBQyxFQUFDOzs7O0NBQ3BDO0FBRUQsU0FBZSxhQUFhLENBQUMsTUFBc0I7Ozs7OztvQkFDN0MsR0FBRyxHQUFHLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN0QixNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFDO29CQUM5QixNQUFNLEdBQUcsS0FBSyxDQUFDOzs7eUJBQ1osQ0FBQyxNQUFNO29CQUNZLHFCQUFNLE1BQU0sQ0FBQyxJQUFJLEVBQUUsRUFBQTs7b0JBQXJDLEtBQWtCLFNBQW1CLEVBQW5DLElBQUksVUFBQSxFQUFFLEtBQUssV0FBQTtvQkFDbkIsSUFBSSxLQUFLLEVBQUU7d0JBQ0gsS0FBSyxHQUFHLEdBQUcsQ0FBQzt3QkFDbEIsR0FBRyxHQUFHLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO3dCQUNsRCxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUNmLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztxQkFDOUI7b0JBQ0QsTUFBTSxHQUFHLElBQUksQ0FBQzs7d0JBRWhCLHNCQUFPLEdBQUcsRUFBQzs7OztDQUNaO0FBRUQsU0FBUyxZQUFZLENBQUMsSUFBVTtJQUM5QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU07UUFDakMsSUFBTSxNQUFNLEdBQUcsSUFBSSxVQUFVLEVBQUUsQ0FBQztRQUNoQyxNQUFNLENBQUMsU0FBUyxHQUFHOztZQUNqQix1RkFBdUY7WUFDdkYsMEVBQTBFO1lBQzFFLElBQUksTUFBTSxDQUFDLFVBQVUsS0FBSyxDQUFDLEVBQUU7Z0JBQzNCLE9BQU8sTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUMsQ0FBQzthQUN0RDtZQUNELElBQU0sTUFBTSxHQUFHLE9BQUMsTUFBTSxDQUFDLE1BQU0sbUNBQUksRUFBRSxDQUFXLENBQUM7WUFDL0Msc0ZBQXNGO1lBQ3RGLHlDQUF5QztZQUN6QyxJQUFNLFVBQVUsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3ZDLElBQU0sVUFBVSxHQUFHLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUNwRSxPQUFPLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ3hDLENBQUMsQ0FBQztRQUNGLE1BQU0sQ0FBQyxPQUFPLEdBQUcsY0FBTSxPQUFBLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFqQyxDQUFpQyxDQUFDO1FBQ3pELE1BQU0sQ0FBQyxPQUFPLEdBQUcsY0FBTSxPQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEVBQXBCLENBQW9CLENBQUM7UUFDNUMsbURBQW1EO1FBQ25ELE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDN0IsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RyZWFtQ29sbGVjdG9yIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5pbXBvcnQgeyBmcm9tQmFzZTY0IH0gZnJvbSBcIkBhd3Mtc2RrL3V0aWwtYmFzZTY0LWJyb3dzZXJcIjtcblxuLy9yZWZlcmVuY2U6IGh0dHBzOi8vc25hY2suZXhwby5pby9yMUpDU1dSR1VcbmV4cG9ydCBjb25zdCBzdHJlYW1Db2xsZWN0b3I6IFN0cmVhbUNvbGxlY3RvciA9IChzdHJlYW06IEJsb2IgfCBSZWFkYWJsZVN0cmVhbSk6IFByb21pc2U8VWludDhBcnJheT4gPT4ge1xuICBpZiAodHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJiBzdHJlYW0gaW5zdGFuY2VvZiBCbG9iKSB7XG4gICAgcmV0dXJuIGNvbGxlY3RCbG9iKHN0cmVhbSk7XG4gIH1cblxuICByZXR1cm4gY29sbGVjdFN0cmVhbShzdHJlYW0gYXMgUmVhZGFibGVTdHJlYW0pO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gY29sbGVjdEJsb2IoYmxvYjogQmxvYik6IFByb21pc2U8VWludDhBcnJheT4ge1xuICBjb25zdCBiYXNlNjQgPSBhd2FpdCByZWFkVG9CYXNlNjQoYmxvYik7XG4gIGNvbnN0IGFycmF5QnVmZmVyID0gZnJvbUJhc2U2NChiYXNlNjQpO1xuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBjb2xsZWN0U3RyZWFtKHN0cmVhbTogUmVhZGFibGVTdHJlYW0pOiBQcm9taXNlPFVpbnQ4QXJyYXk+IHtcbiAgbGV0IHJlcyA9IG5ldyBVaW50OEFycmF5KDApO1xuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gIGxldCBpc0RvbmUgPSBmYWxzZTtcbiAgd2hpbGUgKCFpc0RvbmUpIHtcbiAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgY29uc3QgcHJpb3IgPSByZXM7XG4gICAgICByZXMgPSBuZXcgVWludDhBcnJheShwcmlvci5sZW5ndGggKyB2YWx1ZS5sZW5ndGgpO1xuICAgICAgcmVzLnNldChwcmlvcik7XG4gICAgICByZXMuc2V0KHZhbHVlLCBwcmlvci5sZW5ndGgpO1xuICAgIH1cbiAgICBpc0RvbmUgPSBkb25lO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIHJlYWRUb0Jhc2U2NChibG9iOiBCbG9iKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJlYWRlci5vbmxvYWRlbmQgPSAoKSA9PiB7XG4gICAgICAvLyByZWZlcmVuY2U6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9GaWxlUmVhZGVyL3JlYWRBc0RhdGFVUkxcbiAgICAgIC8vIHJlc3BvbnNlIGZyb20gcmVhZEFzRGF0YVVSTCBpcyBhbHdheXMgcHJlcGVuZGVkIHdpdGggXCJkYXRhOiovKjtiYXNlNjQsXCJcbiAgICAgIGlmIChyZWFkZXIucmVhZHlTdGF0ZSAhPT0gMikge1xuICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBFcnJvcihcIlJlYWRlciBhYm9ydGVkIHRvbyBlYXJseVwiKSk7XG4gICAgICB9XG4gICAgICBjb25zdCByZXN1bHQgPSAocmVhZGVyLnJlc3VsdCA/PyBcIlwiKSBhcyBzdHJpbmc7XG4gICAgICAvLyBSZXNwb25zZSBjYW4gaW5jbHVkZSBvbmx5ICdkYXRhOicgZm9yIGVtcHR5IGJsb2IsIHJldHVybiBlbXB0eSBzdHJpbmcgaW4gdGhpcyBjYXNlLlxuICAgICAgLy8gT3RoZXJ3aXNlLCByZXR1cm4gdGhlIHN0cmluZyBhZnRlciAnLCdcbiAgICAgIGNvbnN0IGNvbW1hSW5kZXggPSByZXN1bHQuaW5kZXhPZihcIixcIik7XG4gICAgICBjb25zdCBkYXRhT2Zmc2V0ID0gY29tbWFJbmRleCA+IC0xID8gY29tbWFJbmRleCArIDEgOiByZXN1bHQubGVuZ3RoO1xuICAgICAgcmVzb2x2ZShyZXN1bHQuc3Vic3RyaW5nKGRhdGFPZmZzZXQpKTtcbiAgICB9O1xuICAgIHJlYWRlci5vbmFib3J0ID0gKCkgPT4gcmVqZWN0KG5ldyBFcnJvcihcIlJlYWQgYWJvcnRlZFwiKSk7XG4gICAgcmVhZGVyLm9uZXJyb3IgPSAoKSA9PiByZWplY3QocmVhZGVyLmVycm9yKTtcbiAgICAvLyByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIgaXMgbm90IGFsd2F5cyBhdmFpbGFibGVcbiAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgfSk7XG59XG4iXX0=","export var invalidFunction = function (message) { return function () {\n    throw new Error(message);\n}; };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLElBQU0sZUFBZSxHQUFHLFVBQUMsT0FBZSxJQUFLLE9BQUE7SUFDbEQsTUFBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUMzQixDQUFDLEVBRm1ELENBRW5ELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaW52YWxpZEZ1bmN0aW9uID0gKG1lc3NhZ2U6IHN0cmluZykgPT4gKCkgPT4ge1xuICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG59O1xuIl19","import { __awaiter, __generator } from \"tslib\";\nexport var retryMiddleware = function (options) { return function (next) { return function (args) { return __awaiter(void 0, void 0, void 0, function () { return __generator(this, function (_a) {\n    return [2 /*return*/, options.retryStrategy.retry(next, args)];\n}); }); }; }; };\nexport var retryMiddlewareOptions = {\n    name: \"retryMiddleware\",\n    tags: [\"RETRY\"],\n    step: \"finalizeRequest\",\n    priority: \"high\",\n};\nexport var getRetryPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(retryMiddleware(options), retryMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmV0cnlNaWRkbGV3YXJlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JldHJ5TWlkZGxld2FyZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBWUEsTUFBTSxDQUFDLElBQU0sZUFBZSxHQUFHLFVBQUMsT0FBNEIsSUFBSyxPQUFBLFVBQy9ELElBQWtDLElBQ0QsT0FBQSxVQUNqQyxJQUFtQztJQUNRLHNCQUFBLE9BQU8sQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBQTtTQUFBLEVBRmpELENBRWlELEVBSm5CLENBSW1CLENBQUM7QUFFckYsTUFBTSxDQUFDLElBQU0sc0JBQXNCLEdBQXFEO0lBQ3RGLElBQUksRUFBRSxpQkFBaUI7SUFDdkIsSUFBSSxFQUFFLENBQUMsT0FBTyxDQUFDO0lBQ2YsSUFBSSxFQUFFLGlCQUFpQjtJQUN2QixRQUFRLEVBQUUsTUFBTTtDQUNqQixDQUFDO0FBRUYsTUFBTSxDQUFDLElBQU0sY0FBYyxHQUFHLFVBQUMsT0FBNEIsSUFBMEIsT0FBQSxDQUFDO0lBQ3BGLFlBQVksRUFBRSxVQUFDLFdBQVc7UUFDeEIsV0FBVyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLEVBQUUsc0JBQXNCLENBQUMsQ0FBQztJQUNwRSxDQUFDO0NBQ0YsQ0FBQyxFQUptRixDQUluRixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWJzb2x1dGVMb2NhdGlvbixcbiAgRmluYWxpemVIYW5kbGVyLFxuICBGaW5hbGl6ZUhhbmRsZXJBcmd1bWVudHMsXG4gIEZpbmFsaXplSGFuZGxlck91dHB1dCxcbiAgRmluYWxpemVSZXF1ZXN0SGFuZGxlck9wdGlvbnMsXG4gIE1ldGFkYXRhQmVhcmVyLFxuICBQbHVnZ2FibGUsXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBSZXRyeVJlc29sdmVkQ29uZmlnIH0gZnJvbSBcIi4vY29uZmlndXJhdGlvbnNcIjtcblxuZXhwb3J0IGNvbnN0IHJldHJ5TWlkZGxld2FyZSA9IChvcHRpb25zOiBSZXRyeVJlc29sdmVkQ29uZmlnKSA9PiA8T3V0cHV0IGV4dGVuZHMgTWV0YWRhdGFCZWFyZXIgPSBNZXRhZGF0YUJlYXJlcj4oXG4gIG5leHQ6IEZpbmFsaXplSGFuZGxlcjxhbnksIE91dHB1dD5cbik6IEZpbmFsaXplSGFuZGxlcjxhbnksIE91dHB1dD4gPT4gYXN5bmMgKFxuICBhcmdzOiBGaW5hbGl6ZUhhbmRsZXJBcmd1bWVudHM8YW55PlxuKTogUHJvbWlzZTxGaW5hbGl6ZUhhbmRsZXJPdXRwdXQ8T3V0cHV0Pj4gPT4gb3B0aW9ucy5yZXRyeVN0cmF0ZWd5LnJldHJ5KG5leHQsIGFyZ3MpO1xuXG5leHBvcnQgY29uc3QgcmV0cnlNaWRkbGV3YXJlT3B0aW9uczogRmluYWxpemVSZXF1ZXN0SGFuZGxlck9wdGlvbnMgJiBBYnNvbHV0ZUxvY2F0aW9uID0ge1xuICBuYW1lOiBcInJldHJ5TWlkZGxld2FyZVwiLFxuICB0YWdzOiBbXCJSRVRSWVwiXSxcbiAgc3RlcDogXCJmaW5hbGl6ZVJlcXVlc3RcIixcbiAgcHJpb3JpdHk6IFwiaGlnaFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGdldFJldHJ5UGx1Z2luID0gKG9wdGlvbnM6IFJldHJ5UmVzb2x2ZWRDb25maWcpOiBQbHVnZ2FibGU8YW55LCBhbnk+ID0+ICh7XG4gIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgY2xpZW50U3RhY2suYWRkKHJldHJ5TWlkZGxld2FyZShvcHRpb25zKSwgcmV0cnlNaWRkbGV3YXJlT3B0aW9ucyk7XG4gIH0sXG59KTtcbiJdfQ==","/**\n * Errors encountered when the client clock and server clock cannot agree on the\n * current time.\n *\n * These errors are retryable, assuming the SDK has enabled clock skew\n * correction.\n */\nexport var CLOCK_SKEW_ERROR_CODES = [\n    \"AuthFailure\",\n    \"InvalidSignatureException\",\n    \"RequestExpired\",\n    \"RequestInTheFuture\",\n    \"RequestTimeTooSkewed\",\n    \"SignatureDoesNotMatch\",\n];\n/**\n * Errors that indicate the SDK is being throttled.\n *\n * These errors are always retryable.\n */\nexport var THROTTLING_ERROR_CODES = [\n    \"Throttling\",\n    \"ThrottlingException\",\n    \"ThrottledException\",\n    \"RequestThrottledException\",\n    \"TooManyRequestsException\",\n    \"ProvisionedThroughputExceededException\",\n    \"TransactionInProgressException\",\n    \"RequestLimitExceeded\",\n    \"BandwidthLimitExceeded\",\n    \"LimitExceededException\",\n    \"RequestThrottled\",\n    \"SlowDown\",\n    \"PriorRequestNotComplete\",\n    \"EC2ThrottledException\",\n];\n/**\n * Error codes that indicate transient issues\n */\nexport var TRANSIENT_ERROR_CODES = [\"AbortError\", \"TimeoutError\", \"RequestTimeout\", \"RequestTimeoutException\"];\n/**\n * Error codes that indicate transient issues\n */\nexport var TRANSIENT_ERROR_STATUS_CODES = [500, 502, 503, 504];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFDSCxNQUFNLENBQUMsSUFBTSxzQkFBc0IsR0FBRztJQUNwQyxhQUFhO0lBQ2IsMkJBQTJCO0lBQzNCLGdCQUFnQjtJQUNoQixvQkFBb0I7SUFDcEIsc0JBQXNCO0lBQ3RCLHVCQUF1QjtDQUN4QixDQUFDO0FBRUY7Ozs7R0FJRztBQUNILE1BQU0sQ0FBQyxJQUFNLHNCQUFzQixHQUFHO0lBQ3BDLFlBQVk7SUFDWixxQkFBcUI7SUFDckIsb0JBQW9CO0lBQ3BCLDJCQUEyQjtJQUMzQiwwQkFBMEI7SUFDMUIsd0NBQXdDO0lBQ3hDLGdDQUFnQztJQUNoQyxzQkFBc0I7SUFDdEIsd0JBQXdCO0lBQ3hCLHdCQUF3QjtJQUN4QixrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLHlCQUF5QjtJQUN6Qix1QkFBdUI7Q0FDeEIsQ0FBQztBQUVGOztHQUVHO0FBQ0gsTUFBTSxDQUFDLElBQU0scUJBQXFCLEdBQUcsQ0FBQyxZQUFZLEVBQUUsY0FBYyxFQUFFLGdCQUFnQixFQUFFLHlCQUF5QixDQUFDLENBQUM7QUFFakg7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSw0QkFBNEIsR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFcnJvcnMgZW5jb3VudGVyZWQgd2hlbiB0aGUgY2xpZW50IGNsb2NrIGFuZCBzZXJ2ZXIgY2xvY2sgY2Fubm90IGFncmVlIG9uIHRoZVxuICogY3VycmVudCB0aW1lLlxuICpcbiAqIFRoZXNlIGVycm9ycyBhcmUgcmV0cnlhYmxlLCBhc3N1bWluZyB0aGUgU0RLIGhhcyBlbmFibGVkIGNsb2NrIHNrZXdcbiAqIGNvcnJlY3Rpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBDTE9DS19TS0VXX0VSUk9SX0NPREVTID0gW1xuICBcIkF1dGhGYWlsdXJlXCIsXG4gIFwiSW52YWxpZFNpZ25hdHVyZUV4Y2VwdGlvblwiLFxuICBcIlJlcXVlc3RFeHBpcmVkXCIsXG4gIFwiUmVxdWVzdEluVGhlRnV0dXJlXCIsXG4gIFwiUmVxdWVzdFRpbWVUb29Ta2V3ZWRcIixcbiAgXCJTaWduYXR1cmVEb2VzTm90TWF0Y2hcIixcbl07XG5cbi8qKlxuICogRXJyb3JzIHRoYXQgaW5kaWNhdGUgdGhlIFNESyBpcyBiZWluZyB0aHJvdHRsZWQuXG4gKlxuICogVGhlc2UgZXJyb3JzIGFyZSBhbHdheXMgcmV0cnlhYmxlLlxuICovXG5leHBvcnQgY29uc3QgVEhST1RUTElOR19FUlJPUl9DT0RFUyA9IFtcbiAgXCJUaHJvdHRsaW5nXCIsXG4gIFwiVGhyb3R0bGluZ0V4Y2VwdGlvblwiLFxuICBcIlRocm90dGxlZEV4Y2VwdGlvblwiLFxuICBcIlJlcXVlc3RUaHJvdHRsZWRFeGNlcHRpb25cIixcbiAgXCJUb29NYW55UmVxdWVzdHNFeGNlcHRpb25cIixcbiAgXCJQcm92aXNpb25lZFRocm91Z2hwdXRFeGNlZWRlZEV4Y2VwdGlvblwiLFxuICBcIlRyYW5zYWN0aW9uSW5Qcm9ncmVzc0V4Y2VwdGlvblwiLFxuICBcIlJlcXVlc3RMaW1pdEV4Y2VlZGVkXCIsXG4gIFwiQmFuZHdpZHRoTGltaXRFeGNlZWRlZFwiLFxuICBcIkxpbWl0RXhjZWVkZWRFeGNlcHRpb25cIixcbiAgXCJSZXF1ZXN0VGhyb3R0bGVkXCIsXG4gIFwiU2xvd0Rvd25cIixcbiAgXCJQcmlvclJlcXVlc3ROb3RDb21wbGV0ZVwiLFxuICBcIkVDMlRocm90dGxlZEV4Y2VwdGlvblwiLFxuXTtcblxuLyoqXG4gKiBFcnJvciBjb2RlcyB0aGF0IGluZGljYXRlIHRyYW5zaWVudCBpc3N1ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IFRSQU5TSUVOVF9FUlJPUl9DT0RFUyA9IFtcIkFib3J0RXJyb3JcIiwgXCJUaW1lb3V0RXJyb3JcIiwgXCJSZXF1ZXN0VGltZW91dFwiLCBcIlJlcXVlc3RUaW1lb3V0RXhjZXB0aW9uXCJdO1xuXG4vKipcbiAqIEVycm9yIGNvZGVzIHRoYXQgaW5kaWNhdGUgdHJhbnNpZW50IGlzc3Vlc1xuICovXG5leHBvcnQgY29uc3QgVFJBTlNJRU5UX0VSUk9SX1NUQVRVU19DT0RFUyA9IFs1MDAsIDUwMiwgNTAzLCA1MDRdO1xuIl19","import { CLOCK_SKEW_ERROR_CODES, THROTTLING_ERROR_CODES, TRANSIENT_ERROR_CODES, TRANSIENT_ERROR_STATUS_CODES, } from \"./constants\";\nexport var isRetryableByTrait = function (error) { return error.$retryable !== undefined; };\nexport var isClockSkewError = function (error) { return CLOCK_SKEW_ERROR_CODES.includes(error.name); };\nexport var isThrottlingError = function (error) { var _a; return THROTTLING_ERROR_CODES.includes(error.name) || ((_a = error.$retryable) === null || _a === void 0 ? void 0 : _a.throttling) == true; };\nexport var isTransientError = function (error) {\n    var _a;\n    return TRANSIENT_ERROR_CODES.includes(error.name) ||\n        TRANSIENT_ERROR_STATUS_CODES.includes(((_a = error.$metadata) === null || _a === void 0 ? void 0 : _a.httpStatusCode) || 0);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUNMLHNCQUFzQixFQUN0QixzQkFBc0IsRUFDdEIscUJBQXFCLEVBQ3JCLDRCQUE0QixHQUM3QixNQUFNLGFBQWEsQ0FBQztBQUVyQixNQUFNLENBQUMsSUFBTSxrQkFBa0IsR0FBRyxVQUFDLEtBQWUsSUFBSyxPQUFBLEtBQUssQ0FBQyxVQUFVLEtBQUssU0FBUyxFQUE5QixDQUE4QixDQUFDO0FBRXRGLE1BQU0sQ0FBQyxJQUFNLGdCQUFnQixHQUFHLFVBQUMsS0FBZSxJQUFLLE9BQUEsc0JBQXNCLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBM0MsQ0FBMkMsQ0FBQztBQUVqRyxNQUFNLENBQUMsSUFBTSxpQkFBaUIsR0FBRyxVQUFDLEtBQWUsWUFDL0MsT0FBQSxzQkFBc0IsQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLE9BQUEsS0FBSyxDQUFDLFVBQVUsMENBQUUsVUFBVSxLQUFJLElBQUksQ0FBQSxFQUFBLENBQUM7QUFFdEYsTUFBTSxDQUFDLElBQU0sZ0JBQWdCLEdBQUcsVUFBQyxLQUFlOztJQUM5QyxPQUFBLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDO1FBQzFDLDRCQUE0QixDQUFDLFFBQVEsQ0FBQyxPQUFBLEtBQUssQ0FBQyxTQUFTLDBDQUFFLGNBQWMsS0FBSSxDQUFDLENBQUMsQ0FBQTtDQUFBLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZGtFcnJvciB9IGZyb20gXCJAYXdzLXNkay9zbWl0aHktY2xpZW50XCI7XG5cbmltcG9ydCB7XG4gIENMT0NLX1NLRVdfRVJST1JfQ09ERVMsXG4gIFRIUk9UVExJTkdfRVJST1JfQ09ERVMsXG4gIFRSQU5TSUVOVF9FUlJPUl9DT0RFUyxcbiAgVFJBTlNJRU5UX0VSUk9SX1NUQVRVU19DT0RFUyxcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBjb25zdCBpc1JldHJ5YWJsZUJ5VHJhaXQgPSAoZXJyb3I6IFNka0Vycm9yKSA9PiBlcnJvci4kcmV0cnlhYmxlICE9PSB1bmRlZmluZWQ7XG5cbmV4cG9ydCBjb25zdCBpc0Nsb2NrU2tld0Vycm9yID0gKGVycm9yOiBTZGtFcnJvcikgPT4gQ0xPQ0tfU0tFV19FUlJPUl9DT0RFUy5pbmNsdWRlcyhlcnJvci5uYW1lKTtcblxuZXhwb3J0IGNvbnN0IGlzVGhyb3R0bGluZ0Vycm9yID0gKGVycm9yOiBTZGtFcnJvcikgPT5cbiAgVEhST1RUTElOR19FUlJPUl9DT0RFUy5pbmNsdWRlcyhlcnJvci5uYW1lKSB8fCBlcnJvci4kcmV0cnlhYmxlPy50aHJvdHRsaW5nID09IHRydWU7XG5cbmV4cG9ydCBjb25zdCBpc1RyYW5zaWVudEVycm9yID0gKGVycm9yOiBTZGtFcnJvcikgPT5cbiAgVFJBTlNJRU5UX0VSUk9SX0NPREVTLmluY2x1ZGVzKGVycm9yLm5hbWUpIHx8XG4gIFRSQU5TSUVOVF9FUlJPUl9TVEFUVVNfQ09ERVMuaW5jbHVkZXMoZXJyb3IuJG1ldGFkYXRhPy5odHRwU3RhdHVzQ29kZSB8fCAwKTtcbiJdfQ==","import { MAXIMUM_RETRY_DELAY } from \"./constants\";\n/**\n * Calculate a capped, fully-jittered exponential backoff time.\n */\nexport var defaultDelayDecider = function (delayBase, attempts) {\n    return Math.floor(Math.min(MAXIMUM_RETRY_DELAY, Math.random() * Math.pow(2, attempts) * delayBase));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVsYXlEZWNpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2RlbGF5RGVjaWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFbEQ7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxtQkFBbUIsR0FBRyxVQUFDLFNBQWlCLEVBQUUsUUFBZ0I7SUFDckUsT0FBQSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLFNBQUEsQ0FBQyxFQUFJLFFBQVEsQ0FBQSxHQUFHLFNBQVMsQ0FBQyxDQUFDO0FBQXBGLENBQW9GLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNQVhJTVVNX1JFVFJZX0RFTEFZIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8qKlxuICogQ2FsY3VsYXRlIGEgY2FwcGVkLCBmdWxseS1qaXR0ZXJlZCBleHBvbmVudGlhbCBiYWNrb2ZmIHRpbWUuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0RGVsYXlEZWNpZGVyID0gKGRlbGF5QmFzZTogbnVtYmVyLCBhdHRlbXB0czogbnVtYmVyKSA9PlxuICBNYXRoLmZsb29yKE1hdGgubWluKE1BWElNVU1fUkVUUllfREVMQVksIE1hdGgucmFuZG9tKCkgKiAyICoqIGF0dGVtcHRzICogZGVsYXlCYXNlKSk7XG4iXX0=","/**\n * The base number of milliseconds to use in calculating a suitable cool-down\n * time when a retryable error is encountered.\n */\nexport var DEFAULT_RETRY_DELAY_BASE = 100;\n/**\n * The maximum amount of time (in milliseconds) that will be used as a delay\n * between retry attempts.\n */\nexport var MAXIMUM_RETRY_DELAY = 20 * 1000;\n/**\n * The retry delay base (in milliseconds) to use when a throttling error is\n * encountered.\n */\nexport var THROTTLING_RETRY_DELAY_BASE = 500;\n/**\n * Initial number of retry tokens in Retry Quota\n */\nexport var INITIAL_RETRY_TOKENS = 500;\n/**\n * The total amount of retry tokens to be decremented from retry token balance.\n */\nexport var RETRY_COST = 5;\n/**\n * The total amount of retry tokens to be decremented from retry token balance\n * when a throttling error is encountered.\n */\nexport var TIMEOUT_RETRY_COST = 10;\n/**\n * The total amount of retry token to be incremented from retry token balance\n * if an SDK operation invocation succeeds without requiring a retry request.\n */\nexport var NO_RETRY_INCREMENT = 1;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0dBR0c7QUFDSCxNQUFNLENBQUMsSUFBTSx3QkFBd0IsR0FBRyxHQUFHLENBQUM7QUFFNUM7OztHQUdHO0FBQ0gsTUFBTSxDQUFDLElBQU0sbUJBQW1CLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQztBQUU3Qzs7O0dBR0c7QUFDSCxNQUFNLENBQUMsSUFBTSwyQkFBMkIsR0FBRyxHQUFHLENBQUM7QUFFL0M7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyxHQUFHLENBQUM7QUFFeEM7O0dBRUc7QUFDSCxNQUFNLENBQUMsSUFBTSxVQUFVLEdBQUcsQ0FBQyxDQUFDO0FBRTVCOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxJQUFNLGtCQUFrQixHQUFHLEVBQUUsQ0FBQztBQUVyQzs7O0dBR0c7QUFDSCxNQUFNLENBQUMsSUFBTSxrQkFBa0IsR0FBRyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZSBiYXNlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdXNlIGluIGNhbGN1bGF0aW5nIGEgc3VpdGFibGUgY29vbC1kb3duXG4gKiB0aW1lIHdoZW4gYSByZXRyeWFibGUgZXJyb3IgaXMgZW5jb3VudGVyZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1JFVFJZX0RFTEFZX0JBU0UgPSAxMDA7XG5cbi8qKlxuICogVGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdGhhdCB3aWxsIGJlIHVzZWQgYXMgYSBkZWxheVxuICogYmV0d2VlbiByZXRyeSBhdHRlbXB0cy5cbiAqL1xuZXhwb3J0IGNvbnN0IE1BWElNVU1fUkVUUllfREVMQVkgPSAyMCAqIDEwMDA7XG5cbi8qKlxuICogVGhlIHJldHJ5IGRlbGF5IGJhc2UgKGluIG1pbGxpc2Vjb25kcykgdG8gdXNlIHdoZW4gYSB0aHJvdHRsaW5nIGVycm9yIGlzXG4gKiBlbmNvdW50ZXJlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IFRIUk9UVExJTkdfUkVUUllfREVMQVlfQkFTRSA9IDUwMDtcblxuLyoqXG4gKiBJbml0aWFsIG51bWJlciBvZiByZXRyeSB0b2tlbnMgaW4gUmV0cnkgUXVvdGFcbiAqL1xuZXhwb3J0IGNvbnN0IElOSVRJQUxfUkVUUllfVE9LRU5TID0gNTAwO1xuXG4vKipcbiAqIFRoZSB0b3RhbCBhbW91bnQgb2YgcmV0cnkgdG9rZW5zIHRvIGJlIGRlY3JlbWVudGVkIGZyb20gcmV0cnkgdG9rZW4gYmFsYW5jZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFJFVFJZX0NPU1QgPSA1O1xuXG4vKipcbiAqIFRoZSB0b3RhbCBhbW91bnQgb2YgcmV0cnkgdG9rZW5zIHRvIGJlIGRlY3JlbWVudGVkIGZyb20gcmV0cnkgdG9rZW4gYmFsYW5jZVxuICogd2hlbiBhIHRocm90dGxpbmcgZXJyb3IgaXMgZW5jb3VudGVyZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBUSU1FT1VUX1JFVFJZX0NPU1QgPSAxMDtcblxuLyoqXG4gKiBUaGUgdG90YWwgYW1vdW50IG9mIHJldHJ5IHRva2VuIHRvIGJlIGluY3JlbWVudGVkIGZyb20gcmV0cnkgdG9rZW4gYmFsYW5jZVxuICogaWYgYW4gU0RLIG9wZXJhdGlvbiBpbnZvY2F0aW9uIHN1Y2NlZWRzIHdpdGhvdXQgcmVxdWlyaW5nIGEgcmV0cnkgcmVxdWVzdC5cbiAqL1xuZXhwb3J0IGNvbnN0IE5PX1JFVFJZX0lOQ1JFTUVOVCA9IDE7XG4iXX0=","import { isClockSkewError, isRetryableByTrait, isThrottlingError, isTransientError, } from \"@aws-sdk/service-error-classification\";\nexport var defaultRetryDecider = function (error) {\n    if (!error) {\n        return false;\n    }\n    return isRetryableByTrait(error) || isClockSkewError(error) || isThrottlingError(error) || isTransientError(error);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmV0cnlEZWNpZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JldHJ5RGVjaWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsZ0JBQWdCLEVBQ2hCLGtCQUFrQixFQUNsQixpQkFBaUIsRUFDakIsZ0JBQWdCLEdBQ2pCLE1BQU0sdUNBQXVDLENBQUM7QUFHL0MsTUFBTSxDQUFDLElBQU0sbUJBQW1CLEdBQUcsVUFBQyxLQUFlO0lBQ2pELElBQUksQ0FBQyxLQUFLLEVBQUU7UUFDVixPQUFPLEtBQUssQ0FBQztLQUNkO0lBRUQsT0FBTyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsSUFBSSxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNySCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBpc0Nsb2NrU2tld0Vycm9yLFxuICBpc1JldHJ5YWJsZUJ5VHJhaXQsXG4gIGlzVGhyb3R0bGluZ0Vycm9yLFxuICBpc1RyYW5zaWVudEVycm9yLFxufSBmcm9tIFwiQGF3cy1zZGsvc2VydmljZS1lcnJvci1jbGFzc2lmaWNhdGlvblwiO1xuaW1wb3J0IHsgU2RrRXJyb3IgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuXG5leHBvcnQgY29uc3QgZGVmYXVsdFJldHJ5RGVjaWRlciA9IChlcnJvcjogU2RrRXJyb3IpID0+IHtcbiAgaWYgKCFlcnJvcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBpc1JldHJ5YWJsZUJ5VHJhaXQoZXJyb3IpIHx8IGlzQ2xvY2tTa2V3RXJyb3IoZXJyb3IpIHx8IGlzVGhyb3R0bGluZ0Vycm9yKGVycm9yKSB8fCBpc1RyYW5zaWVudEVycm9yKGVycm9yKTtcbn07XG4iXX0=","import { __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nimport { isThrottlingError } from \"@aws-sdk/service-error-classification\";\nimport { v4 } from \"uuid\";\nimport { DEFAULT_RETRY_DELAY_BASE, INITIAL_RETRY_TOKENS, THROTTLING_RETRY_DELAY_BASE } from \"./constants\";\nimport { getDefaultRetryQuota } from \"./defaultRetryQuota\";\nimport { defaultDelayDecider } from \"./delayDecider\";\nimport { defaultRetryDecider } from \"./retryDecider\";\n/**\n * The default value for how many HTTP requests an SDK should make for a\n * single SDK operation invocation before giving up\n */\nexport var DEFAULT_MAX_ATTEMPTS = 3;\n/**\n * The default retry algorithm to use.\n */\nexport var DEFAULT_RETRY_MODE = \"standard\";\nvar StandardRetryStrategy = /** @class */ (function () {\n    function StandardRetryStrategy(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null && _a !== void 0 ? _a : defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null && _b !== void 0 ? _b : defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null && _c !== void 0 ? _c : getDefaultRetryQuota(INITIAL_RETRY_TOKENS);\n    }\n    StandardRetryStrategy.prototype.shouldRetry = function (error, attempts, maxAttempts) {\n        return attempts < maxAttempts && this.retryDecider(error) && this.retryQuota.hasRetryTokens(error);\n    };\n    StandardRetryStrategy.prototype.getMaxAttempts = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var maxAttempts, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, this.maxAttemptsProvider()];\n                    case 1:\n                        maxAttempts = _a.sent();\n                        return [3 /*break*/, 3];\n                    case 2:\n                        error_1 = _a.sent();\n                        maxAttempts = DEFAULT_MAX_ATTEMPTS;\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/, maxAttempts];\n                }\n            });\n        });\n    };\n    StandardRetryStrategy.prototype.retry = function (next, args) {\n        return __awaiter(this, void 0, void 0, function () {\n            var retryTokenAmount, attempts, totalDelay, maxAttempts, request, _loop_1, this_1, state_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        attempts = 0;\n                        totalDelay = 0;\n                        return [4 /*yield*/, this.getMaxAttempts()];\n                    case 1:\n                        maxAttempts = _a.sent();\n                        request = args.request;\n                        if (HttpRequest.isInstance(request)) {\n                            request.headers[\"amz-sdk-invocation-id\"] = v4();\n                        }\n                        _loop_1 = function () {\n                            var _a, response, output, err_1, delay_1;\n                            return __generator(this, function (_b) {\n                                switch (_b.label) {\n                                    case 0:\n                                        _b.trys.push([0, 2, , 5]);\n                                        if (HttpRequest.isInstance(request)) {\n                                            request.headers[\"amz-sdk-request\"] = \"attempt=\" + (attempts + 1) + \"; max=\" + maxAttempts;\n                                        }\n                                        return [4 /*yield*/, next(args)];\n                                    case 1:\n                                        _a = _b.sent(), response = _a.response, output = _a.output;\n                                        this_1.retryQuota.releaseRetryTokens(retryTokenAmount);\n                                        output.$metadata.attempts = attempts + 1;\n                                        output.$metadata.totalRetryDelay = totalDelay;\n                                        return [2 /*return*/, { value: { response: response, output: output } }];\n                                    case 2:\n                                        err_1 = _b.sent();\n                                        attempts++;\n                                        if (!this_1.shouldRetry(err_1, attempts, maxAttempts)) return [3 /*break*/, 4];\n                                        retryTokenAmount = this_1.retryQuota.retrieveRetryTokens(err_1);\n                                        delay_1 = this_1.delayDecider(isThrottlingError(err_1) ? THROTTLING_RETRY_DELAY_BASE : DEFAULT_RETRY_DELAY_BASE, attempts);\n                                        totalDelay += delay_1;\n                                        return [4 /*yield*/, new Promise(function (resolve) { return setTimeout(resolve, delay_1); })];\n                                    case 3:\n                                        _b.sent();\n                                        return [2 /*return*/, \"continue\"];\n                                    case 4:\n                                        if (!err_1.$metadata) {\n                                            err_1.$metadata = {};\n                                        }\n                                        err_1.$metadata.attempts = attempts;\n                                        err_1.$metadata.totalRetryDelay = totalDelay;\n                                        throw err_1;\n                                    case 5: return [2 /*return*/];\n                                }\n                            });\n                        };\n                        this_1 = this;\n                        _a.label = 2;\n                    case 2:\n                        if (!true) return [3 /*break*/, 4];\n                        return [5 /*yield**/, _loop_1()];\n                    case 3:\n                        state_1 = _a.sent();\n                        if (typeof state_1 === \"object\")\n                            return [2 /*return*/, state_1.value];\n                        return [3 /*break*/, 2];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return StandardRetryStrategy;\n}());\nexport { StandardRetryStrategy };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFN0cmF0ZWd5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2RlZmF1bHRTdHJhdGVneS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQ3JELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHVDQUF1QyxDQUFDO0FBRzFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFFMUIsT0FBTyxFQUFFLHdCQUF3QixFQUFFLG9CQUFvQixFQUFFLDJCQUEyQixFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzFHLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQzNELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3JELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRXJEOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxJQUFNLG9CQUFvQixHQUFHLENBQUMsQ0FBQztBQUV0Qzs7R0FFRztBQUNILE1BQU0sQ0FBQyxJQUFNLGtCQUFrQixHQUFHLFVBQVUsQ0FBQztBQW9EN0M7SUFLRSwrQkFBNkIsbUJBQXFDLEVBQUUsT0FBc0M7O1FBQTdFLHdCQUFtQixHQUFuQixtQkFBbUIsQ0FBa0I7UUFDaEUsSUFBSSxDQUFDLFlBQVksU0FBRyxPQUFPLGFBQVAsT0FBTyx1QkFBUCxPQUFPLENBQUUsWUFBWSxtQ0FBSSxtQkFBbUIsQ0FBQztRQUNqRSxJQUFJLENBQUMsWUFBWSxTQUFHLE9BQU8sYUFBUCxPQUFPLHVCQUFQLE9BQU8sQ0FBRSxZQUFZLG1DQUFJLG1CQUFtQixDQUFDO1FBQ2pFLElBQUksQ0FBQyxVQUFVLFNBQUcsT0FBTyxhQUFQLE9BQU8sdUJBQVAsT0FBTyxDQUFFLFVBQVUsbUNBQUksb0JBQW9CLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUN0RixDQUFDO0lBRU8sMkNBQVcsR0FBbkIsVUFBb0IsS0FBZSxFQUFFLFFBQWdCLEVBQUUsV0FBbUI7UUFDeEUsT0FBTyxRQUFRLEdBQUcsV0FBVyxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDckcsQ0FBQztJQUVhLDhDQUFjLEdBQTVCOzs7Ozs7O3dCQUdrQixxQkFBTSxJQUFJLENBQUMsbUJBQW1CLEVBQUUsRUFBQTs7d0JBQTlDLFdBQVcsR0FBRyxTQUFnQyxDQUFDOzs7O3dCQUUvQyxXQUFXLEdBQUcsb0JBQW9CLENBQUM7OzRCQUVyQyxzQkFBTyxXQUFXLEVBQUM7Ozs7S0FDcEI7SUFFSyxxQ0FBSyxHQUFYLFVBQ0UsSUFBbUMsRUFDbkMsSUFBcUM7Ozs7Ozt3QkFHakMsUUFBUSxHQUFHLENBQUMsQ0FBQzt3QkFDYixVQUFVLEdBQUcsQ0FBQyxDQUFDO3dCQUVDLHFCQUFNLElBQUksQ0FBQyxjQUFjLEVBQUUsRUFBQTs7d0JBQXpDLFdBQVcsR0FBRyxTQUEyQjt3QkFFdkMsT0FBTyxHQUFLLElBQUksUUFBVCxDQUFVO3dCQUN6QixJQUFJLFdBQVcsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEVBQUU7NEJBQ25DLE9BQU8sQ0FBQyxPQUFPLENBQUMsdUJBQXVCLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQzt5QkFDakQ7Ozs7Ozs7d0NBSUcsSUFBSSxXQUFXLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFOzRDQUNuQyxPQUFPLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsY0FBVyxRQUFRLEdBQUcsQ0FBQyxlQUFTLFdBQWEsQ0FBQzt5Q0FDcEY7d0NBQzRCLHFCQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQTs7d0NBQXZDLEtBQXVCLFNBQWdCLEVBQXJDLFFBQVEsY0FBQSxFQUFFLE1BQU0sWUFBQTt3Q0FFeEIsT0FBSyxVQUFVLENBQUMsa0JBQWtCLENBQUMsZ0JBQWdCLENBQUMsQ0FBQzt3Q0FDckQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsUUFBUSxHQUFHLENBQUMsQ0FBQzt3Q0FDekMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxlQUFlLEdBQUcsVUFBVSxDQUFDO3VFQUV2QyxFQUFFLFFBQVEsVUFBQSxFQUFFLE1BQU0sUUFBQSxFQUFFOzs7d0NBRTNCLFFBQVEsRUFBRSxDQUFDOzZDQUNQLE9BQUssV0FBVyxDQUFDLEtBQWUsRUFBRSxRQUFRLEVBQUUsV0FBVyxDQUFDLEVBQXhELHdCQUF3RDt3Q0FDMUQsZ0JBQWdCLEdBQUcsT0FBSyxVQUFVLENBQUMsbUJBQW1CLENBQUMsS0FBRyxDQUFDLENBQUM7d0NBQ3RELFVBQVEsT0FBSyxZQUFZLENBQzdCLGlCQUFpQixDQUFDLEtBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQywyQkFBMkIsQ0FBQyxDQUFDLENBQUMsd0JBQXdCLEVBQy9FLFFBQVEsQ0FDVCxDQUFDO3dDQUNGLFVBQVUsSUFBSSxPQUFLLENBQUM7d0NBRXBCLHFCQUFNLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxJQUFLLE9BQUEsVUFBVSxDQUFDLE9BQU8sRUFBRSxPQUFLLENBQUMsRUFBMUIsQ0FBMEIsQ0FBQyxFQUFBOzt3Q0FBMUQsU0FBMEQsQ0FBQzs7O3dDQUk3RCxJQUFJLENBQUMsS0FBRyxDQUFDLFNBQVMsRUFBRTs0Q0FDbEIsS0FBRyxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7eUNBQ3BCO3dDQUVELEtBQUcsQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQzt3Q0FDbEMsS0FBRyxDQUFDLFNBQVMsQ0FBQyxlQUFlLEdBQUcsVUFBVSxDQUFDO3dDQUMzQyxNQUFNLEtBQUcsQ0FBQzs7Ozs7Ozs7NkJBaENQLElBQUk7Ozs7Ozs7Ozs7O0tBbUNaO0lBQ0gsNEJBQUM7QUFBRCxDQUFDLEFBNUVELElBNEVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQGF3cy1zZGsvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgaXNUaHJvdHRsaW5nRXJyb3IgfSBmcm9tIFwiQGF3cy1zZGsvc2VydmljZS1lcnJvci1jbGFzc2lmaWNhdGlvblwiO1xuaW1wb3J0IHsgU2RrRXJyb3IgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgRmluYWxpemVIYW5kbGVyLCBGaW5hbGl6ZUhhbmRsZXJBcmd1bWVudHMsIE1ldGFkYXRhQmVhcmVyLCBQcm92aWRlciwgUmV0cnlTdHJhdGVneSB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuaW1wb3J0IHsgdjQgfSBmcm9tIFwidXVpZFwiO1xuXG5pbXBvcnQgeyBERUZBVUxUX1JFVFJZX0RFTEFZX0JBU0UsIElOSVRJQUxfUkVUUllfVE9LRU5TLCBUSFJPVFRMSU5HX1JFVFJZX0RFTEFZX0JBU0UgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdldERlZmF1bHRSZXRyeVF1b3RhIH0gZnJvbSBcIi4vZGVmYXVsdFJldHJ5UXVvdGFcIjtcbmltcG9ydCB7IGRlZmF1bHREZWxheURlY2lkZXIgfSBmcm9tIFwiLi9kZWxheURlY2lkZXJcIjtcbmltcG9ydCB7IGRlZmF1bHRSZXRyeURlY2lkZXIgfSBmcm9tIFwiLi9yZXRyeURlY2lkZXJcIjtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCB2YWx1ZSBmb3IgaG93IG1hbnkgSFRUUCByZXF1ZXN0cyBhbiBTREsgc2hvdWxkIG1ha2UgZm9yIGFcbiAqIHNpbmdsZSBTREsgb3BlcmF0aW9uIGludm9jYXRpb24gYmVmb3JlIGdpdmluZyB1cFxuICovXG5leHBvcnQgY29uc3QgREVGQVVMVF9NQVhfQVRURU1QVFMgPSAzO1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IHJldHJ5IGFsZ29yaXRobSB0byB1c2UuXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1JFVFJZX01PREUgPSBcInN0YW5kYXJkXCI7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGFuIGVycm9yIGlzIHJldHJ5YWJsZSBiYXNlZCBvbiB0aGUgbnVtYmVyIG9mIHJldHJpZXNcbiAqIGFscmVhZHkgYXR0ZW1wdGVkLCB0aGUgSFRUUCBzdGF0dXMgY29kZSwgYW5kIHRoZSBlcnJvciByZWNlaXZlZCAoaWYgYW55KS5cbiAqXG4gKiBAcGFyYW0gZXJyb3IgICAgICAgICBUaGUgZXJyb3IgZW5jb3VudGVyZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmV0cnlEZWNpZGVyIHtcbiAgKGVycm9yOiBTZGtFcnJvcik6IGJvb2xlYW47XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSByZXRyeWluZyBhbiBhY3Rpb24uXG4gKlxuICogQHBhcmFtIGRlbGF5QmFzZSBUaGUgYmFzZSBkZWxheSAoaW4gbWlsbGlzZWNvbmRzKS5cbiAqIEBwYXJhbSBhdHRlbXB0cyAgVGhlIG51bWJlciBvZiB0aW1lcyB0aGUgYWN0aW9uIGhhcyBhbHJlYWR5IGJlZW4gdHJpZWQuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGVsYXlEZWNpZGVyIHtcbiAgKGRlbGF5QmFzZTogbnVtYmVyLCBhdHRlbXB0czogbnVtYmVyKTogbnVtYmVyO1xufVxuXG4vKipcbiAqIEludGVyZmFjZSB0aGF0IHNwZWNpZmllcyB0aGUgcmV0cnkgcXVvdGEgYmVoYXZpb3IuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmV0cnlRdW90YSB7XG4gIC8qKlxuICAgKiByZXR1cm5zIHRydWUgaWYgcmV0cnkgdG9rZW5zIGFyZSBhdmFpbGFibGUgZnJvbSB0aGUgcmV0cnkgcXVvdGEgYnVja2V0LlxuICAgKi9cbiAgaGFzUmV0cnlUb2tlbnM6IChlcnJvcjogU2RrRXJyb3IpID0+IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIHJldHVybnMgdG9rZW4gYW1vdW50IGZyb20gdGhlIHJldHJ5IHF1b3RhIGJ1Y2tldC5cbiAgICogdGhyb3dzIGVycm9yIGlzIHJldHJ5IHRva2VucyBhcmUgbm90IGF2YWlsYWJsZS5cbiAgICovXG4gIHJldHJpZXZlUmV0cnlUb2tlbnM6IChlcnJvcjogU2RrRXJyb3IpID0+IG51bWJlcjtcblxuICAvKipcbiAgICogcmVsZWFzZXMgdG9rZW5zIGJhY2sgdG8gdGhlIHJldHJ5IHF1b3RhLlxuICAgKi9cbiAgcmVsZWFzZVJldHJ5VG9rZW5zOiAocmVsZWFzZUNhcGFjaXR5QW1vdW50PzogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG4vKipcbiAqIFN0cmF0ZWd5IG9wdGlvbnMgdG8gYmUgcGFzc2VkIHRvIFN0YW5kYXJkUmV0cnlTdHJhdGVneVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YW5kYXJkUmV0cnlTdHJhdGVneU9wdGlvbnMge1xuICByZXRyeURlY2lkZXI/OiBSZXRyeURlY2lkZXI7XG4gIGRlbGF5RGVjaWRlcj86IERlbGF5RGVjaWRlcjtcbiAgcmV0cnlRdW90YT86IFJldHJ5UXVvdGE7XG59XG5cbmV4cG9ydCBjbGFzcyBTdGFuZGFyZFJldHJ5U3RyYXRlZ3kgaW1wbGVtZW50cyBSZXRyeVN0cmF0ZWd5IHtcbiAgcHJpdmF0ZSByZXRyeURlY2lkZXI6IFJldHJ5RGVjaWRlcjtcbiAgcHJpdmF0ZSBkZWxheURlY2lkZXI6IERlbGF5RGVjaWRlcjtcbiAgcHJpdmF0ZSByZXRyeVF1b3RhOiBSZXRyeVF1b3RhO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgbWF4QXR0ZW1wdHNQcm92aWRlcjogUHJvdmlkZXI8bnVtYmVyPiwgb3B0aW9ucz86IFN0YW5kYXJkUmV0cnlTdHJhdGVneU9wdGlvbnMpIHtcbiAgICB0aGlzLnJldHJ5RGVjaWRlciA9IG9wdGlvbnM/LnJldHJ5RGVjaWRlciA/PyBkZWZhdWx0UmV0cnlEZWNpZGVyO1xuICAgIHRoaXMuZGVsYXlEZWNpZGVyID0gb3B0aW9ucz8uZGVsYXlEZWNpZGVyID8/IGRlZmF1bHREZWxheURlY2lkZXI7XG4gICAgdGhpcy5yZXRyeVF1b3RhID0gb3B0aW9ucz8ucmV0cnlRdW90YSA/PyBnZXREZWZhdWx0UmV0cnlRdW90YShJTklUSUFMX1JFVFJZX1RPS0VOUyk7XG4gIH1cblxuICBwcml2YXRlIHNob3VsZFJldHJ5KGVycm9yOiBTZGtFcnJvciwgYXR0ZW1wdHM6IG51bWJlciwgbWF4QXR0ZW1wdHM6IG51bWJlcikge1xuICAgIHJldHVybiBhdHRlbXB0cyA8IG1heEF0dGVtcHRzICYmIHRoaXMucmV0cnlEZWNpZGVyKGVycm9yKSAmJiB0aGlzLnJldHJ5UXVvdGEuaGFzUmV0cnlUb2tlbnMoZXJyb3IpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBnZXRNYXhBdHRlbXB0cygpIHtcbiAgICBsZXQgbWF4QXR0ZW1wdHM6IG51bWJlcjtcbiAgICB0cnkge1xuICAgICAgbWF4QXR0ZW1wdHMgPSBhd2FpdCB0aGlzLm1heEF0dGVtcHRzUHJvdmlkZXIoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbWF4QXR0ZW1wdHMgPSBERUZBVUxUX01BWF9BVFRFTVBUUztcbiAgICB9XG4gICAgcmV0dXJuIG1heEF0dGVtcHRzO1xuICB9XG5cbiAgYXN5bmMgcmV0cnk8SW5wdXQgZXh0ZW5kcyBvYmplY3QsIE91cHV0IGV4dGVuZHMgTWV0YWRhdGFCZWFyZXI+KFxuICAgIG5leHQ6IEZpbmFsaXplSGFuZGxlcjxJbnB1dCwgT3VwdXQ+LFxuICAgIGFyZ3M6IEZpbmFsaXplSGFuZGxlckFyZ3VtZW50czxJbnB1dD5cbiAgKSB7XG4gICAgbGV0IHJldHJ5VG9rZW5BbW91bnQ7XG4gICAgbGV0IGF0dGVtcHRzID0gMDtcbiAgICBsZXQgdG90YWxEZWxheSA9IDA7XG5cbiAgICBjb25zdCBtYXhBdHRlbXB0cyA9IGF3YWl0IHRoaXMuZ2V0TWF4QXR0ZW1wdHMoKTtcblxuICAgIGNvbnN0IHsgcmVxdWVzdCB9ID0gYXJncztcbiAgICBpZiAoSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShyZXF1ZXN0KSkge1xuICAgICAgcmVxdWVzdC5oZWFkZXJzW1wiYW16LXNkay1pbnZvY2F0aW9uLWlkXCJdID0gdjQoKTtcbiAgICB9XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKEh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UocmVxdWVzdCkpIHtcbiAgICAgICAgICByZXF1ZXN0LmhlYWRlcnNbXCJhbXotc2RrLXJlcXVlc3RcIl0gPSBgYXR0ZW1wdD0ke2F0dGVtcHRzICsgMX07IG1heD0ke21heEF0dGVtcHRzfWA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyByZXNwb25zZSwgb3V0cHV0IH0gPSBhd2FpdCBuZXh0KGFyZ3MpO1xuXG4gICAgICAgIHRoaXMucmV0cnlRdW90YS5yZWxlYXNlUmV0cnlUb2tlbnMocmV0cnlUb2tlbkFtb3VudCk7XG4gICAgICAgIG91dHB1dC4kbWV0YWRhdGEuYXR0ZW1wdHMgPSBhdHRlbXB0cyArIDE7XG4gICAgICAgIG91dHB1dC4kbWV0YWRhdGEudG90YWxSZXRyeURlbGF5ID0gdG90YWxEZWxheTtcblxuICAgICAgICByZXR1cm4geyByZXNwb25zZSwgb3V0cHV0IH07XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgYXR0ZW1wdHMrKztcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkUmV0cnkoZXJyIGFzIFNka0Vycm9yLCBhdHRlbXB0cywgbWF4QXR0ZW1wdHMpKSB7XG4gICAgICAgICAgcmV0cnlUb2tlbkFtb3VudCA9IHRoaXMucmV0cnlRdW90YS5yZXRyaWV2ZVJldHJ5VG9rZW5zKGVycik7XG4gICAgICAgICAgY29uc3QgZGVsYXkgPSB0aGlzLmRlbGF5RGVjaWRlcihcbiAgICAgICAgICAgIGlzVGhyb3R0bGluZ0Vycm9yKGVycikgPyBUSFJPVFRMSU5HX1JFVFJZX0RFTEFZX0JBU0UgOiBERUZBVUxUX1JFVFJZX0RFTEFZX0JBU0UsXG4gICAgICAgICAgICBhdHRlbXB0c1xuICAgICAgICAgICk7XG4gICAgICAgICAgdG90YWxEZWxheSArPSBkZWxheTtcblxuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWVyci4kbWV0YWRhdGEpIHtcbiAgICAgICAgICBlcnIuJG1ldGFkYXRhID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBlcnIuJG1ldGFkYXRhLmF0dGVtcHRzID0gYXR0ZW1wdHM7XG4gICAgICAgIGVyci4kbWV0YWRhdGEudG90YWxSZXRyeURlbGF5ID0gdG90YWxEZWxheTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19","import { NO_RETRY_INCREMENT, RETRY_COST, TIMEOUT_RETRY_COST } from \"./constants\";\nexport var getDefaultRetryQuota = function (initialRetryTokens) {\n    var MAX_CAPACITY = initialRetryTokens;\n    var availableCapacity = initialRetryTokens;\n    var getCapacityAmount = function (error) { return (error.name === \"TimeoutError\" ? TIMEOUT_RETRY_COST : RETRY_COST); };\n    var hasRetryTokens = function (error) { return getCapacityAmount(error) <= availableCapacity; };\n    var retrieveRetryTokens = function (error) {\n        if (!hasRetryTokens(error)) {\n            // retryStrategy should stop retrying, and return last error\n            throw new Error(\"No retry token available\");\n        }\n        var capacityAmount = getCapacityAmount(error);\n        availableCapacity -= capacityAmount;\n        return capacityAmount;\n    };\n    var releaseRetryTokens = function (capacityReleaseAmount) {\n        availableCapacity += capacityReleaseAmount !== null && capacityReleaseAmount !== void 0 ? capacityReleaseAmount : NO_RETRY_INCREMENT;\n        availableCapacity = Math.min(availableCapacity, MAX_CAPACITY);\n    };\n    return Object.freeze({\n        hasRetryTokens: hasRetryTokens,\n        retrieveRetryTokens: retrieveRetryTokens,\n        releaseRetryTokens: releaseRetryTokens,\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmYXVsdFJldHJ5UXVvdGEuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZGVmYXVsdFJldHJ5UXVvdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLFVBQVUsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUdqRixNQUFNLENBQUMsSUFBTSxvQkFBb0IsR0FBRyxVQUFDLGtCQUEwQjtJQUM3RCxJQUFNLFlBQVksR0FBRyxrQkFBa0IsQ0FBQztJQUN4QyxJQUFJLGlCQUFpQixHQUFHLGtCQUFrQixDQUFDO0lBRTNDLElBQU0saUJBQWlCLEdBQUcsVUFBQyxLQUFlLElBQUssT0FBQSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssY0FBYyxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEVBQWpFLENBQWlFLENBQUM7SUFFakgsSUFBTSxjQUFjLEdBQUcsVUFBQyxLQUFlLElBQUssT0FBQSxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsSUFBSSxpQkFBaUIsRUFBN0MsQ0FBNkMsQ0FBQztJQUUxRixJQUFNLG1CQUFtQixHQUFHLFVBQUMsS0FBZTtRQUMxQyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQzFCLDREQUE0RDtZQUM1RCxNQUFNLElBQUksS0FBSyxDQUFDLDBCQUEwQixDQUFDLENBQUM7U0FDN0M7UUFDRCxJQUFNLGNBQWMsR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNoRCxpQkFBaUIsSUFBSSxjQUFjLENBQUM7UUFDcEMsT0FBTyxjQUFjLENBQUM7SUFDeEIsQ0FBQyxDQUFDO0lBRUYsSUFBTSxrQkFBa0IsR0FBRyxVQUFDLHFCQUE4QjtRQUN4RCxpQkFBaUIsSUFBSSxxQkFBcUIsYUFBckIscUJBQXFCLGNBQXJCLHFCQUFxQixHQUFJLGtCQUFrQixDQUFDO1FBQ2pFLGlCQUFpQixHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDaEUsQ0FBQyxDQUFDO0lBRUYsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ25CLGNBQWMsZ0JBQUE7UUFDZCxtQkFBbUIscUJBQUE7UUFDbkIsa0JBQWtCLG9CQUFBO0tBQ25CLENBQUMsQ0FBQztBQUNMLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNka0Vycm9yIH0gZnJvbSBcIkBhd3Mtc2RrL3NtaXRoeS1jbGllbnRcIjtcblxuaW1wb3J0IHsgTk9fUkVUUllfSU5DUkVNRU5ULCBSRVRSWV9DT1NULCBUSU1FT1VUX1JFVFJZX0NPU1QgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IFJldHJ5UXVvdGEgfSBmcm9tIFwiLi9kZWZhdWx0U3RyYXRlZ3lcIjtcblxuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRSZXRyeVF1b3RhID0gKGluaXRpYWxSZXRyeVRva2VuczogbnVtYmVyKTogUmV0cnlRdW90YSA9PiB7XG4gIGNvbnN0IE1BWF9DQVBBQ0lUWSA9IGluaXRpYWxSZXRyeVRva2VucztcbiAgbGV0IGF2YWlsYWJsZUNhcGFjaXR5ID0gaW5pdGlhbFJldHJ5VG9rZW5zO1xuXG4gIGNvbnN0IGdldENhcGFjaXR5QW1vdW50ID0gKGVycm9yOiBTZGtFcnJvcikgPT4gKGVycm9yLm5hbWUgPT09IFwiVGltZW91dEVycm9yXCIgPyBUSU1FT1VUX1JFVFJZX0NPU1QgOiBSRVRSWV9DT1NUKTtcblxuICBjb25zdCBoYXNSZXRyeVRva2VucyA9IChlcnJvcjogU2RrRXJyb3IpID0+IGdldENhcGFjaXR5QW1vdW50KGVycm9yKSA8PSBhdmFpbGFibGVDYXBhY2l0eTtcblxuICBjb25zdCByZXRyaWV2ZVJldHJ5VG9rZW5zID0gKGVycm9yOiBTZGtFcnJvcikgPT4ge1xuICAgIGlmICghaGFzUmV0cnlUb2tlbnMoZXJyb3IpKSB7XG4gICAgICAvLyByZXRyeVN0cmF0ZWd5IHNob3VsZCBzdG9wIHJldHJ5aW5nLCBhbmQgcmV0dXJuIGxhc3QgZXJyb3JcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHJldHJ5IHRva2VuIGF2YWlsYWJsZVwiKTtcbiAgICB9XG4gICAgY29uc3QgY2FwYWNpdHlBbW91bnQgPSBnZXRDYXBhY2l0eUFtb3VudChlcnJvcik7XG4gICAgYXZhaWxhYmxlQ2FwYWNpdHkgLT0gY2FwYWNpdHlBbW91bnQ7XG4gICAgcmV0dXJuIGNhcGFjaXR5QW1vdW50O1xuICB9O1xuXG4gIGNvbnN0IHJlbGVhc2VSZXRyeVRva2VucyA9IChjYXBhY2l0eVJlbGVhc2VBbW91bnQ/OiBudW1iZXIpID0+IHtcbiAgICBhdmFpbGFibGVDYXBhY2l0eSArPSBjYXBhY2l0eVJlbGVhc2VBbW91bnQgPz8gTk9fUkVUUllfSU5DUkVNRU5UO1xuICAgIGF2YWlsYWJsZUNhcGFjaXR5ID0gTWF0aC5taW4oYXZhaWxhYmxlQ2FwYWNpdHksIE1BWF9DQVBBQ0lUWSk7XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdC5mcmVlemUoe1xuICAgIGhhc1JldHJ5VG9rZW5zLFxuICAgIHJldHJpZXZlUmV0cnlUb2tlbnMsXG4gICAgcmVsZWFzZVJldHJ5VG9rZW5zLFxuICB9KTtcbn07XG4iXX0=","import { __assign } from \"tslib\";\nimport { DEFAULT_MAX_ATTEMPTS, DEFAULT_RETRY_MODE, StandardRetryStrategy } from \"./defaultStrategy\";\nexport var ENV_MAX_ATTEMPTS = \"AWS_MAX_ATTEMPTS\";\nexport var CONFIG_MAX_ATTEMPTS = \"max_attempts\";\nexport var NODE_MAX_ATTEMPT_CONFIG_OPTIONS = {\n    environmentVariableSelector: function (env) {\n        var value = env[ENV_MAX_ATTEMPTS];\n        if (!value)\n            return undefined;\n        var maxAttempt = parseInt(value);\n        if (Number.isNaN(maxAttempt)) {\n            throw new Error(\"Environment variable \" + ENV_MAX_ATTEMPTS + \" mast be a number, got \\\"\" + value + \"\\\"\");\n        }\n        return maxAttempt;\n    },\n    configFileSelector: function (profile) {\n        var value = profile[CONFIG_MAX_ATTEMPTS];\n        if (!value)\n            return undefined;\n        var maxAttempt = parseInt(value);\n        if (Number.isNaN(maxAttempt)) {\n            throw new Error(\"Shared config file entry \" + CONFIG_MAX_ATTEMPTS + \" mast be a number, got \\\"\" + value + \"\\\"\");\n        }\n        return maxAttempt;\n    },\n    default: DEFAULT_MAX_ATTEMPTS,\n};\nexport var resolveRetryConfig = function (input) {\n    var maxAttempts = normalizeMaxAttempts(input.maxAttempts);\n    return __assign(__assign({}, input), { maxAttempts: maxAttempts, retryStrategy: input.retryStrategy || new StandardRetryStrategy(maxAttempts) });\n};\nvar normalizeMaxAttempts = function (maxAttempts) {\n    if (maxAttempts === void 0) { maxAttempts = DEFAULT_MAX_ATTEMPTS; }\n    if (typeof maxAttempts === \"number\") {\n        var promisified_1 = Promise.resolve(maxAttempts);\n        return function () { return promisified_1; };\n    }\n    return maxAttempts;\n};\nexport var ENV_RETRY_MODE = \"AWS_RETRY_MODE\";\nexport var CONFIG_RETRY_MODE = \"retry_mode\";\nexport var NODE_RETRY_MODE_CONFIG_OPTIONS = {\n    environmentVariableSelector: function (env) { return env[ENV_RETRY_MODE]; },\n    configFileSelector: function (profile) { return profile[CONFIG_RETRY_MODE]; },\n    default: DEFAULT_RETRY_MODE,\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29uZmlndXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUdBLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxrQkFBa0IsRUFBRSxxQkFBcUIsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRXBHLE1BQU0sQ0FBQyxJQUFNLGdCQUFnQixHQUFHLGtCQUFrQixDQUFDO0FBQ25ELE1BQU0sQ0FBQyxJQUFNLG1CQUFtQixHQUFHLGNBQWMsQ0FBQztBQUVsRCxNQUFNLENBQUMsSUFBTSwrQkFBK0IsR0FBa0M7SUFDNUUsMkJBQTJCLEVBQUUsVUFBQyxHQUFHO1FBQy9CLElBQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQ3BDLElBQUksQ0FBQyxLQUFLO1lBQUUsT0FBTyxTQUFTLENBQUM7UUFDN0IsSUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25DLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUM1QixNQUFNLElBQUksS0FBSyxDQUFDLDBCQUF3QixnQkFBZ0IsaUNBQTJCLEtBQUssT0FBRyxDQUFDLENBQUM7U0FDOUY7UUFDRCxPQUFPLFVBQVUsQ0FBQztJQUNwQixDQUFDO0lBQ0Qsa0JBQWtCLEVBQUUsVUFBQyxPQUFPO1FBQzFCLElBQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxLQUFLO1lBQUUsT0FBTyxTQUFTLENBQUM7UUFDN0IsSUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ25DLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUM1QixNQUFNLElBQUksS0FBSyxDQUFDLDhCQUE0QixtQkFBbUIsaUNBQTJCLEtBQUssT0FBRyxDQUFDLENBQUM7U0FDckc7UUFDRCxPQUFPLFVBQVUsQ0FBQztJQUNwQixDQUFDO0lBQ0QsT0FBTyxFQUFFLG9CQUFvQjtDQUM5QixDQUFDO0FBbUJGLE1BQU0sQ0FBQyxJQUFNLGtCQUFrQixHQUFHLFVBQUksS0FBZ0Q7SUFDcEYsSUFBTSxXQUFXLEdBQUcsb0JBQW9CLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzVELDZCQUNLLEtBQUssS0FDUixXQUFXLGFBQUEsRUFDWCxhQUFhLEVBQUUsS0FBSyxDQUFDLGFBQWEsSUFBSSxJQUFJLHFCQUFxQixDQUFDLFdBQVcsQ0FBQyxJQUM1RTtBQUNKLENBQUMsQ0FBQztBQUVGLElBQU0sb0JBQW9CLEdBQUcsVUFBQyxXQUE2RDtJQUE3RCw0QkFBQSxFQUFBLGtDQUE2RDtJQUN6RixJQUFJLE9BQU8sV0FBVyxLQUFLLFFBQVEsRUFBRTtRQUNuQyxJQUFNLGFBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ2pELE9BQU8sY0FBTSxPQUFBLGFBQVcsRUFBWCxDQUFXLENBQUM7S0FDMUI7SUFDRCxPQUFPLFdBQVcsQ0FBQztBQUNyQixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsSUFBTSxjQUFjLEdBQUcsZ0JBQWdCLENBQUM7QUFDL0MsTUFBTSxDQUFDLElBQU0saUJBQWlCLEdBQUcsWUFBWSxDQUFDO0FBRTlDLE1BQU0sQ0FBQyxJQUFNLDhCQUE4QixHQUFrQztJQUMzRSwyQkFBMkIsRUFBRSxVQUFDLEdBQUcsSUFBSyxPQUFBLEdBQUcsQ0FBQyxjQUFjLENBQUMsRUFBbkIsQ0FBbUI7SUFDekQsa0JBQWtCLEVBQUUsVUFBQyxPQUFPLElBQUssT0FBQSxPQUFPLENBQUMsaUJBQWlCLENBQUMsRUFBMUIsQ0FBMEI7SUFDM0QsT0FBTyxFQUFFLGtCQUFrQjtDQUM1QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9hZGVkQ29uZmlnU2VsZWN0b3JzIH0gZnJvbSBcIkBhd3Mtc2RrL25vZGUtY29uZmlnLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBQcm92aWRlciwgUmV0cnlTdHJhdGVneSB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBERUZBVUxUX01BWF9BVFRFTVBUUywgREVGQVVMVF9SRVRSWV9NT0RFLCBTdGFuZGFyZFJldHJ5U3RyYXRlZ3kgfSBmcm9tIFwiLi9kZWZhdWx0U3RyYXRlZ3lcIjtcblxuZXhwb3J0IGNvbnN0IEVOVl9NQVhfQVRURU1QVFMgPSBcIkFXU19NQVhfQVRURU1QVFNcIjtcbmV4cG9ydCBjb25zdCBDT05GSUdfTUFYX0FUVEVNUFRTID0gXCJtYXhfYXR0ZW1wdHNcIjtcblxuZXhwb3J0IGNvbnN0IE5PREVfTUFYX0FUVEVNUFRfQ09ORklHX09QVElPTlM6IExvYWRlZENvbmZpZ1NlbGVjdG9yczxudW1iZXI+ID0ge1xuICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGVudltFTlZfTUFYX0FUVEVNUFRTXTtcbiAgICBpZiAoIXZhbHVlKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGNvbnN0IG1heEF0dGVtcHQgPSBwYXJzZUludCh2YWx1ZSk7XG4gICAgaWYgKE51bWJlci5pc05hTihtYXhBdHRlbXB0KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFbnZpcm9ubWVudCB2YXJpYWJsZSAke0VOVl9NQVhfQVRURU1QVFN9IG1hc3QgYmUgYSBudW1iZXIsIGdvdCBcIiR7dmFsdWV9XCJgKTtcbiAgICB9XG4gICAgcmV0dXJuIG1heEF0dGVtcHQ7XG4gIH0sXG4gIGNvbmZpZ0ZpbGVTZWxlY3RvcjogKHByb2ZpbGUpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IHByb2ZpbGVbQ09ORklHX01BWF9BVFRFTVBUU107XG4gICAgaWYgKCF2YWx1ZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBjb25zdCBtYXhBdHRlbXB0ID0gcGFyc2VJbnQodmFsdWUpO1xuICAgIGlmIChOdW1iZXIuaXNOYU4obWF4QXR0ZW1wdCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgU2hhcmVkIGNvbmZpZyBmaWxlIGVudHJ5ICR7Q09ORklHX01BWF9BVFRFTVBUU30gbWFzdCBiZSBhIG51bWJlciwgZ290IFwiJHt2YWx1ZX1cImApO1xuICAgIH1cbiAgICByZXR1cm4gbWF4QXR0ZW1wdDtcbiAgfSxcbiAgZGVmYXVsdDogREVGQVVMVF9NQVhfQVRURU1QVFMsXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFJldHJ5SW5wdXRDb25maWcge1xuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRpbWVzIHJlcXVlc3RzIHRoYXQgZW5jb3VudGVyIHJldHJ5YWJsZSBmYWlsdXJlcyBzaG91bGQgYmUgYXR0ZW1wdGVkLlxuICAgKi9cbiAgbWF4QXR0ZW1wdHM/OiBudW1iZXIgfCBQcm92aWRlcjxudW1iZXI+O1xuICAvKipcbiAgICogVGhlIHN0cmF0ZWd5IHRvIHJldHJ5IHRoZSByZXF1ZXN0LiBVc2luZyBidWlsdC1pbiBleHBvbmVudGlhbCBiYWNrb2ZmIHN0cmF0ZWd5IGJ5IGRlZmF1bHQuXG4gICAqL1xuICByZXRyeVN0cmF0ZWd5PzogUmV0cnlTdHJhdGVneTtcbn1cblxuaW50ZXJmYWNlIFByZXZpb3VzbHlSZXNvbHZlZCB7fVxuZXhwb3J0IGludGVyZmFjZSBSZXRyeVJlc29sdmVkQ29uZmlnIHtcbiAgbWF4QXR0ZW1wdHM6IFByb3ZpZGVyPG51bWJlcj47XG4gIHJldHJ5U3RyYXRlZ3k6IFJldHJ5U3RyYXRlZ3k7XG59XG5cbmV4cG9ydCBjb25zdCByZXNvbHZlUmV0cnlDb25maWcgPSA8VD4oaW5wdXQ6IFQgJiBQcmV2aW91c2x5UmVzb2x2ZWQgJiBSZXRyeUlucHV0Q29uZmlnKTogVCAmIFJldHJ5UmVzb2x2ZWRDb25maWcgPT4ge1xuICBjb25zdCBtYXhBdHRlbXB0cyA9IG5vcm1hbGl6ZU1heEF0dGVtcHRzKGlucHV0Lm1heEF0dGVtcHRzKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5pbnB1dCxcbiAgICBtYXhBdHRlbXB0cyxcbiAgICByZXRyeVN0cmF0ZWd5OiBpbnB1dC5yZXRyeVN0cmF0ZWd5IHx8IG5ldyBTdGFuZGFyZFJldHJ5U3RyYXRlZ3kobWF4QXR0ZW1wdHMpLFxuICB9O1xufTtcblxuY29uc3Qgbm9ybWFsaXplTWF4QXR0ZW1wdHMgPSAobWF4QXR0ZW1wdHM6IG51bWJlciB8IFByb3ZpZGVyPG51bWJlcj4gPSBERUZBVUxUX01BWF9BVFRFTVBUUyk6IFByb3ZpZGVyPG51bWJlcj4gPT4ge1xuICBpZiAodHlwZW9mIG1heEF0dGVtcHRzID09PSBcIm51bWJlclwiKSB7XG4gICAgY29uc3QgcHJvbWlzaWZpZWQgPSBQcm9taXNlLnJlc29sdmUobWF4QXR0ZW1wdHMpO1xuICAgIHJldHVybiAoKSA9PiBwcm9taXNpZmllZDtcbiAgfVxuICByZXR1cm4gbWF4QXR0ZW1wdHM7XG59O1xuXG5leHBvcnQgY29uc3QgRU5WX1JFVFJZX01PREUgPSBcIkFXU19SRVRSWV9NT0RFXCI7XG5leHBvcnQgY29uc3QgQ09ORklHX1JFVFJZX01PREUgPSBcInJldHJ5X21vZGVcIjtcblxuZXhwb3J0IGNvbnN0IE5PREVfUkVUUllfTU9ERV9DT05GSUdfT1BUSU9OUzogTG9hZGVkQ29uZmlnU2VsZWN0b3JzPHN0cmluZz4gPSB7XG4gIGVudmlyb25tZW50VmFyaWFibGVTZWxlY3RvcjogKGVudikgPT4gZW52W0VOVl9SRVRSWV9NT0RFXSxcbiAgY29uZmlnRmlsZVNlbGVjdG9yOiAocHJvZmlsZSkgPT4gcHJvZmlsZVtDT05GSUdfUkVUUllfTU9ERV0sXG4gIGRlZmF1bHQ6IERFRkFVTFRfUkVUUllfTU9ERSxcbn07XG4iXX0=","export function defaultUserAgent(packageName, packageVersion) {\n    var originUserAgent = typeof navigator !== \"undefined\" && typeof navigator.userAgent === \"string\" ? navigator.userAgent : \"\";\n    return \"aws-sdk-js-v3-\" + packageName + \"/\" + packageVersion + \" \" + originUserAgent;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLGdCQUFnQixDQUFDLFdBQW1CLEVBQUUsY0FBc0I7SUFDMUUsSUFBTSxlQUFlLEdBQ25CLE9BQU8sU0FBUyxLQUFLLFdBQVcsSUFBSSxPQUFPLFNBQVMsQ0FBQyxTQUFTLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDekcsT0FBTyxtQkFBaUIsV0FBVyxTQUFJLGNBQWMsU0FBSSxlQUFpQixDQUFDO0FBQzdFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZGVmYXVsdFVzZXJBZ2VudChwYWNrYWdlTmFtZTogc3RyaW5nLCBwYWNrYWdlVmVyc2lvbjogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3Qgb3JpZ2luVXNlckFnZW50ID1cbiAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSBcInN0cmluZ1wiID8gbmF2aWdhdG9yLnVzZXJBZ2VudCA6IFwiXCI7XG4gIHJldHVybiBgYXdzLXNkay1qcy12My0ke3BhY2thZ2VOYW1lfS8ke3BhY2thZ2VWZXJzaW9ufSAke29yaWdpblVzZXJBZ2VudH1gO1xufVxuIl19","// Partition default templates\nvar AWS_TEMPLATE = \"runtime.lex.{region}.amazonaws.com\";\nvar AWS_CN_TEMPLATE = \"runtime.lex.{region}.amazonaws.com.cn\";\nvar AWS_ISO_TEMPLATE = \"runtime.lex.{region}.c2s.ic.gov\";\nvar AWS_ISO_B_TEMPLATE = \"runtime.lex.{region}.sc2s.sgov.gov\";\nvar AWS_US_GOV_TEMPLATE = \"runtime.lex.{region}.amazonaws.com\";\n// Partition regions\nvar AWS_REGIONS = new Set([\n    \"ap-east-1\",\n    \"ap-northeast-1\",\n    \"ap-northeast-2\",\n    \"ap-south-1\",\n    \"ap-southeast-1\",\n    \"ap-southeast-2\",\n    \"ca-central-1\",\n    \"eu-central-1\",\n    \"eu-north-1\",\n    \"eu-west-1\",\n    \"eu-west-2\",\n    \"eu-west-3\",\n    \"me-south-1\",\n    \"sa-east-1\",\n    \"us-east-1\",\n    \"us-east-2\",\n    \"us-west-1\",\n    \"us-west-2\",\n]);\nvar AWS_CN_REGIONS = new Set([\"cn-north-1\", \"cn-northwest-1\"]);\nvar AWS_ISO_REGIONS = new Set([\"us-iso-east-1\"]);\nvar AWS_ISO_B_REGIONS = new Set([\"us-isob-east-1\"]);\nvar AWS_US_GOV_REGIONS = new Set([\"us-gov-east-1\", \"us-gov-west-1\"]);\nexport var defaultRegionInfoProvider = function (region, options) {\n    var regionInfo = undefined;\n    switch (region) {\n        // First, try to match exact region names.\n        case \"eu-west-1\":\n            regionInfo = {\n                hostname: \"runtime.lex.eu-west-1.amazonaws.com\",\n                partition: \"aws\",\n                signingService: \"lex\",\n            };\n            break;\n        case \"us-east-1\":\n            regionInfo = {\n                hostname: \"runtime.lex.us-east-1.amazonaws.com\",\n                partition: \"aws\",\n                signingService: \"lex\",\n            };\n            break;\n        case \"us-west-2\":\n            regionInfo = {\n                hostname: \"runtime.lex.us-west-2.amazonaws.com\",\n                partition: \"aws\",\n                signingService: \"lex\",\n            };\n            break;\n        // Next, try to match partition endpoints.\n        default:\n            if (AWS_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws\",\n                    signingService: \"lex\",\n                };\n            }\n            if (AWS_CN_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_CN_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-cn\",\n                };\n            }\n            if (AWS_ISO_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_ISO_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-iso\",\n                };\n            }\n            if (AWS_ISO_B_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_ISO_B_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-iso-b\",\n                };\n            }\n            if (AWS_US_GOV_REGIONS.has(region)) {\n                regionInfo = {\n                    hostname: AWS_US_GOV_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws-us-gov\",\n                };\n            }\n            // Finally, assume it's an AWS partition endpoint.\n            if (regionInfo === undefined) {\n                regionInfo = {\n                    hostname: AWS_TEMPLATE.replace(\"{region}\", region),\n                    partition: \"aws\",\n                    signingService: \"lex\",\n                };\n            }\n    }\n    return Promise.resolve(regionInfo);\n};\n//# sourceMappingURL=endpoints.js.map","import { __assign } from \"tslib\";\nimport { name, version } from \"./package.json\";\nimport { Sha256 } from \"@aws-crypto/sha256-browser\";\nimport { FetchHttpHandler, streamCollector } from \"@aws-sdk/fetch-http-handler\";\nimport { invalidFunction } from \"@aws-sdk/invalid-dependency\";\nimport { DEFAULT_MAX_ATTEMPTS } from \"@aws-sdk/middleware-retry\";\nimport { parseUrl } from \"@aws-sdk/url-parser-browser\";\nimport { fromBase64, toBase64 } from \"@aws-sdk/util-base64-browser\";\nimport { calculateBodyLength } from \"@aws-sdk/util-body-length-browser\";\nimport { defaultUserAgent } from \"@aws-sdk/util-user-agent-browser\";\nimport { fromUtf8, toUtf8 } from \"@aws-sdk/util-utf8-browser\";\nimport { ClientSharedValues } from \"./runtimeConfig.shared\";\nexport var ClientDefaultValues = __assign(__assign({}, ClientSharedValues), { runtime: \"browser\", base64Decoder: fromBase64, base64Encoder: toBase64, bodyLengthChecker: calculateBodyLength, credentialDefaultProvider: invalidFunction(\"Credential is missing\"), defaultUserAgent: defaultUserAgent(name, version), maxAttempts: DEFAULT_MAX_ATTEMPTS, region: invalidFunction(\"Region is missing\"), requestHandler: new FetchHttpHandler(), sha256: Sha256, streamCollector: streamCollector, urlParser: parseUrl, utf8Decoder: fromUtf8, utf8Encoder: toUtf8 });\n//# sourceMappingURL=runtimeConfig.browser.js.map","import { defaultRegionInfoProvider } from \"./endpoints\";\nexport var ClientSharedValues = {\n    apiVersion: \"2016-11-28\",\n    disableHostPrefix: false,\n    regionInfoProvider: defaultRegionInfoProvider,\n    signingName: \"lex\",\n};\n//# sourceMappingURL=runtimeConfig.shared.js.map","export function calculateBodyLength(body) {\n    if (typeof body === \"string\") {\n        var len = body.length;\n        for (var i = len - 1; i >= 0; i--) {\n            var code = body.charCodeAt(i);\n            if (code > 0x7f && code <= 0x7ff)\n                len++;\n            else if (code > 0x7ff && code <= 0xffff)\n                len += 2;\n        }\n        return len;\n    }\n    else if (typeof body.byteLength === \"number\") {\n        // handles Uint8Array, ArrayBuffer, Buffer, and ArrayBufferView\n        return body.byteLength;\n    }\n    else if (typeof body.size === \"number\") {\n        // handles browser File object\n        return body.size;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLG1CQUFtQixDQUFDLElBQVM7SUFDM0MsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQUU7UUFDNUIsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUV0QixLQUFLLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNqQyxJQUFNLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLElBQUksS0FBSztnQkFBRSxHQUFHLEVBQUUsQ0FBQztpQkFDbkMsSUFBSSxJQUFJLEdBQUcsS0FBSyxJQUFJLElBQUksSUFBSSxNQUFNO2dCQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7U0FDbkQ7UUFFRCxPQUFPLEdBQUcsQ0FBQztLQUNaO1NBQU0sSUFBSSxPQUFPLElBQUksQ0FBQyxVQUFVLEtBQUssUUFBUSxFQUFFO1FBQzlDLCtEQUErRDtRQUMvRCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7S0FDeEI7U0FBTSxJQUFJLE9BQU8sSUFBSSxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7UUFDeEMsOEJBQThCO1FBQzlCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQztLQUNsQjtBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlQm9keUxlbmd0aChib2R5OiBhbnkpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICBpZiAodHlwZW9mIGJvZHkgPT09IFwic3RyaW5nXCIpIHtcbiAgICBsZXQgbGVuID0gYm9keS5sZW5ndGg7XG5cbiAgICBmb3IgKGxldCBpID0gbGVuIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IGNvZGUgPSBib2R5LmNoYXJDb2RlQXQoaSk7XG4gICAgICBpZiAoY29kZSA+IDB4N2YgJiYgY29kZSA8PSAweDdmZikgbGVuKys7XG4gICAgICBlbHNlIGlmIChjb2RlID4gMHg3ZmYgJiYgY29kZSA8PSAweGZmZmYpIGxlbiArPSAyO1xuICAgIH1cblxuICAgIHJldHVybiBsZW47XG4gIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkuYnl0ZUxlbmd0aCA9PT0gXCJudW1iZXJcIikge1xuICAgIC8vIGhhbmRsZXMgVWludDhBcnJheSwgQXJyYXlCdWZmZXIsIEJ1ZmZlciwgYW5kIEFycmF5QnVmZmVyVmlld1xuICAgIHJldHVybiBib2R5LmJ5dGVMZW5ndGg7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkuc2l6ZSA9PT0gXCJudW1iZXJcIikge1xuICAgIC8vIGhhbmRsZXMgYnJvd3NlciBGaWxlIG9iamVjdFxuICAgIHJldHVybiBib2R5LnNpemU7XG4gIH1cbn1cbiJdfQ==","import { parseQueryString } from \"@aws-sdk/querystring-parser\";\nexport var parseUrl = function (url) {\n    var _a = new URL(url), hostname = _a.hostname, pathname = _a.pathname, port = _a.port, protocol = _a.protocol, search = _a.search;\n    var query;\n    if (search) {\n        query = parseQueryString(search);\n    }\n    return {\n        hostname: hostname,\n        port: port ? parseInt(port) : undefined,\n        protocol: protocol,\n        path: pathname,\n        query: query,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFHL0QsTUFBTSxDQUFDLElBQU0sUUFBUSxHQUFjLFVBQUMsR0FBVztJQUN2QyxJQUFBLEtBQWlELElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUEzRCxRQUFRLGNBQUEsRUFBRSxRQUFRLGNBQUEsRUFBRSxJQUFJLFVBQUEsRUFBRSxRQUFRLGNBQUEsRUFBRSxNQUFNLFlBQWlCLENBQUM7SUFFcEUsSUFBSSxLQUFvQyxDQUFDO0lBQ3pDLElBQUksTUFBTSxFQUFFO1FBQ1YsS0FBSyxHQUFHLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQ2xDO0lBRUQsT0FBTztRQUNMLFFBQVEsVUFBQTtRQUNSLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUztRQUN2QyxRQUFRLFVBQUE7UUFDUixJQUFJLEVBQUUsUUFBUTtRQUNkLEtBQUssT0FBQTtLQUNOLENBQUM7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJzZVF1ZXJ5U3RyaW5nIH0gZnJvbSBcIkBhd3Mtc2RrL3F1ZXJ5c3RyaW5nLXBhcnNlclwiO1xuaW1wb3J0IHsgRW5kcG9pbnQsIFF1ZXJ5UGFyYW1ldGVyQmFnLCBVcmxQYXJzZXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IHBhcnNlVXJsOiBVcmxQYXJzZXIgPSAodXJsOiBzdHJpbmcpOiBFbmRwb2ludCA9PiB7XG4gIGNvbnN0IHsgaG9zdG5hbWUsIHBhdGhuYW1lLCBwb3J0LCBwcm90b2NvbCwgc2VhcmNoIH0gPSBuZXcgVVJMKHVybCk7XG5cbiAgbGV0IHF1ZXJ5OiBRdWVyeVBhcmFtZXRlckJhZyB8IHVuZGVmaW5lZDtcbiAgaWYgKHNlYXJjaCkge1xuICAgIHF1ZXJ5ID0gcGFyc2VRdWVyeVN0cmluZyhzZWFyY2gpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBob3N0bmFtZSxcbiAgICBwb3J0OiBwb3J0ID8gcGFyc2VJbnQocG9ydCkgOiB1bmRlZmluZWQsXG4gICAgcHJvdG9jb2wsXG4gICAgcGF0aDogcGF0aG5hbWUsXG4gICAgcXVlcnksXG4gIH07XG59O1xuIl19","import { __read, __values } from \"tslib\";\nexport function parseQueryString(querystring) {\n    var e_1, _a;\n    var query = {};\n    querystring = querystring.replace(/^\\?/, \"\");\n    if (querystring) {\n        try {\n            for (var _b = __values(querystring.split(\"&\")), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var pair = _c.value;\n                var _d = __read(pair.split(\"=\"), 2), key = _d[0], _e = _d[1], value = _e === void 0 ? null : _e;\n                key = decodeURIComponent(key);\n                if (value) {\n                    value = decodeURIComponent(value);\n                }\n                if (!(key in query)) {\n                    query[key] = value;\n                }\n                else if (Array.isArray(query[key])) {\n                    query[key].push(value);\n                }\n                else {\n                    query[key] = [query[key], value];\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    return query;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUVBLE1BQU0sVUFBVSxnQkFBZ0IsQ0FBQyxXQUFtQjs7SUFDbEQsSUFBTSxLQUFLLEdBQXNCLEVBQUUsQ0FBQztJQUNwQyxXQUFXLEdBQUcsV0FBVyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFN0MsSUFBSSxXQUFXLEVBQUU7O1lBQ2YsS0FBbUIsSUFBQSxLQUFBLFNBQUEsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQSxnQkFBQSw0QkFBRTtnQkFBdEMsSUFBTSxJQUFJLFdBQUE7Z0JBQ1QsSUFBQSxLQUFBLE9BQXNCLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUEsRUFBcEMsR0FBRyxRQUFBLEVBQUUsVUFBWSxFQUFaLEtBQUssbUJBQUcsSUFBSSxLQUFtQixDQUFDO2dCQUMxQyxHQUFHLEdBQUcsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzlCLElBQUksS0FBSyxFQUFFO29CQUNULEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDbkM7Z0JBQ0QsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEtBQUssQ0FBQyxFQUFFO29CQUNuQixLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsS0FBSyxDQUFDO2lCQUNwQjtxQkFBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7b0JBQ25DLEtBQUssQ0FBQyxHQUFHLENBQW1CLENBQUMsSUFBSSxDQUFDLEtBQWUsQ0FBQyxDQUFDO2lCQUNyRDtxQkFBTTtvQkFDTCxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFXLEVBQUUsS0FBZSxDQUFDLENBQUM7aUJBQ3REO2FBQ0Y7Ozs7Ozs7OztLQUNGO0lBRUQsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUXVlcnlQYXJhbWV0ZXJCYWcgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmcocXVlcnlzdHJpbmc6IHN0cmluZyk6IFF1ZXJ5UGFyYW1ldGVyQmFnIHtcbiAgY29uc3QgcXVlcnk6IFF1ZXJ5UGFyYW1ldGVyQmFnID0ge307XG4gIHF1ZXJ5c3RyaW5nID0gcXVlcnlzdHJpbmcucmVwbGFjZSgvXlxcPy8sIFwiXCIpO1xuXG4gIGlmIChxdWVyeXN0cmluZykge1xuICAgIGZvciAoY29uc3QgcGFpciBvZiBxdWVyeXN0cmluZy5zcGxpdChcIiZcIikpIHtcbiAgICAgIGxldCBba2V5LCB2YWx1ZSA9IG51bGxdID0gcGFpci5zcGxpdChcIj1cIik7XG4gICAgICBrZXkgPSBkZWNvZGVVUklDb21wb25lbnQoa2V5KTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAoIShrZXkgaW4gcXVlcnkpKSB7XG4gICAgICAgIHF1ZXJ5W2tleV0gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShxdWVyeVtrZXldKSkge1xuICAgICAgICAocXVlcnlba2V5XSBhcyBBcnJheTxzdHJpbmc+KS5wdXNoKHZhbHVlIGFzIHN0cmluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWVyeVtrZXldID0gW3F1ZXJ5W2tleV0gYXMgc3RyaW5nLCB2YWx1ZSBhcyBzdHJpbmddO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBxdWVyeTtcbn1cbiJdfQ==","import { __assign, __awaiter, __generator } from \"tslib\";\nexport var resolveEndpointsConfig = function (input) {\n    var _a;\n    return (__assign(__assign({}, input), { tls: (_a = input.tls) !== null && _a !== void 0 ? _a : true, endpoint: input.endpoint ? normalizeEndpoint(input) : function () { return getEndPointFromRegion(input); } }));\n};\nvar normalizeEndpoint = function (input) {\n    var endpoint = input.endpoint, urlParser = input.urlParser;\n    if (typeof endpoint === \"string\") {\n        var promisified_1 = Promise.resolve(urlParser(endpoint));\n        return function () { return promisified_1; };\n    }\n    else if (typeof endpoint === \"object\") {\n        var promisified_2 = Promise.resolve(endpoint);\n        return function () { return promisified_2; };\n    }\n    return endpoint;\n};\nvar getEndPointFromRegion = function (input) { return __awaiter(void 0, void 0, void 0, function () {\n    var _a, tls, region, dnsHostRegex, hostname;\n    var _b;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                _a = input.tls, tls = _a === void 0 ? true : _a;\n                return [4 /*yield*/, input.region()];\n            case 1:\n                region = _c.sent();\n                dnsHostRegex = new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/);\n                if (!dnsHostRegex.test(region)) {\n                    throw new Error(\"Invalid region in client config\");\n                }\n                return [4 /*yield*/, input.regionInfoProvider(region)];\n            case 2:\n                hostname = ((_b = (_c.sent())) !== null && _b !== void 0 ? _b : {}).hostname;\n                if (!hostname) {\n                    throw new Error(\"Cannot resolve hostname from client config\");\n                }\n                return [2 /*return*/, input.urlParser((tls ? \"https:\" : \"http:\") + \"//\" + hostname)];\n        }\n    });\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRW5kcG9pbnRzQ29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL0VuZHBvaW50c0NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBd0JBLE1BQU0sQ0FBQyxJQUFNLHNCQUFzQixHQUFHLFVBQ3BDLEtBQW9EOztJQUNwQixPQUFBLHVCQUM3QixLQUFLLEtBQ1IsR0FBRyxRQUFFLEtBQUssQ0FBQyxHQUFHLG1DQUFJLElBQUksRUFDdEIsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFNLE9BQUEscUJBQXFCLENBQUMsS0FBSyxDQUFDLEVBQTVCLENBQTRCLElBQ3hGLENBQUE7Q0FBQSxDQUFDO0FBRUgsSUFBTSxpQkFBaUIsR0FBRyxVQUFDLEtBQWdEO0lBQ2pFLElBQUEsUUFBUSxHQUFnQixLQUFLLFNBQXJCLEVBQUUsU0FBUyxHQUFLLEtBQUssVUFBVixDQUFXO0lBQ3RDLElBQUksT0FBTyxRQUFRLEtBQUssUUFBUSxFQUFFO1FBQ2hDLElBQU0sYUFBVyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDekQsT0FBTyxjQUFNLE9BQUEsYUFBVyxFQUFYLENBQVcsQ0FBQztLQUMxQjtTQUFNLElBQUksT0FBTyxRQUFRLEtBQUssUUFBUSxFQUFFO1FBQ3ZDLElBQU0sYUFBVyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDOUMsT0FBTyxjQUFNLE9BQUEsYUFBVyxFQUFYLENBQVcsQ0FBQztLQUMxQjtJQUNELE9BQU8sUUFBUyxDQUFDO0FBQ25CLENBQUMsQ0FBQztBQUVGLElBQU0scUJBQXFCLEdBQUcsVUFBTyxLQUFnRDs7Ozs7O2dCQUMzRSxLQUFlLEtBQUssSUFBVixFQUFWLEdBQUcsbUJBQUcsSUFBSSxLQUFBLENBQVc7Z0JBQ2QscUJBQU0sS0FBSyxDQUFDLE1BQU0sRUFBRSxFQUFBOztnQkFBN0IsTUFBTSxHQUFHLFNBQW9CO2dCQUU3QixZQUFZLEdBQUcsSUFBSSxNQUFNLENBQUMsMERBQTBELENBQUMsQ0FBQztnQkFDNUYsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEVBQUU7b0JBQzlCLE1BQU0sSUFBSSxLQUFLLENBQUMsaUNBQWlDLENBQUMsQ0FBQztpQkFDcEQ7Z0JBRXFCLHFCQUFNLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsRUFBQTs7Z0JBQXBELFFBQVEsVUFBSyxDQUFDLFNBQXNDLENBQUMsbUNBQUksRUFBRSxVQUFuRDtnQkFDaEIsSUFBSSxDQUFDLFFBQVEsRUFBRTtvQkFDYixNQUFNLElBQUksS0FBSyxDQUFDLDRDQUE0QyxDQUFDLENBQUM7aUJBQy9EO2dCQUVELHNCQUFPLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsT0FBTyxXQUFLLFFBQVUsQ0FBQyxFQUFDOzs7S0FDcEUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVuZHBvaW50LCBQcm92aWRlciwgUmVnaW9uSW5mb1Byb3ZpZGVyLCBVcmxQYXJzZXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBFbmRwb2ludHNJbnB1dENvbmZpZyB7XG4gIC8qKlxuICAgKiBUaGUgZnVsbHkgcXVhbGlmaWVkIGVuZHBvaW50IG9mIHRoZSB3ZWJzZXJ2aWNlLiBUaGlzIGlzIG9ubHkgcmVxdWlyZWQgd2hlbiB1c2luZyBhIGN1c3RvbSBlbmRwb2ludCAoZm9yIGV4YW1wbGUsIHdoZW4gdXNpbmcgYSBsb2NhbCB2ZXJzaW9uIG9mIFMzKS5cbiAgICovXG4gIGVuZHBvaW50Pzogc3RyaW5nIHwgRW5kcG9pbnQgfCBQcm92aWRlcjxFbmRwb2ludD47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgVExTIGlzIGVuYWJsZWQgZm9yIHJlcXVlc3RzLlxuICAgKi9cbiAgdGxzPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFByZXZpb3VzbHlSZXNvbHZlZCB7XG4gIHJlZ2lvbkluZm9Qcm92aWRlcjogUmVnaW9uSW5mb1Byb3ZpZGVyO1xuICB1cmxQYXJzZXI6IFVybFBhcnNlcjtcbiAgcmVnaW9uOiBQcm92aWRlcjxzdHJpbmc+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEVuZHBvaW50c1Jlc29sdmVkQ29uZmlnIGV4dGVuZHMgUmVxdWlyZWQ8RW5kcG9pbnRzSW5wdXRDb25maWc+IHtcbiAgZW5kcG9pbnQ6IFByb3ZpZGVyPEVuZHBvaW50Pjtcbn1cblxuZXhwb3J0IGNvbnN0IHJlc29sdmVFbmRwb2ludHNDb25maWcgPSA8VD4oXG4gIGlucHV0OiBUICYgRW5kcG9pbnRzSW5wdXRDb25maWcgJiBQcmV2aW91c2x5UmVzb2x2ZWRcbik6IFQgJiBFbmRwb2ludHNSZXNvbHZlZENvbmZpZyA9PiAoe1xuICAuLi5pbnB1dCxcbiAgdGxzOiBpbnB1dC50bHMgPz8gdHJ1ZSxcbiAgZW5kcG9pbnQ6IGlucHV0LmVuZHBvaW50ID8gbm9ybWFsaXplRW5kcG9pbnQoaW5wdXQpIDogKCkgPT4gZ2V0RW5kUG9pbnRGcm9tUmVnaW9uKGlucHV0KSxcbn0pO1xuXG5jb25zdCBub3JtYWxpemVFbmRwb2ludCA9IChpbnB1dDogRW5kcG9pbnRzSW5wdXRDb25maWcgJiBQcmV2aW91c2x5UmVzb2x2ZWQpOiBQcm92aWRlcjxFbmRwb2ludD4gPT4ge1xuICBjb25zdCB7IGVuZHBvaW50LCB1cmxQYXJzZXIgfSA9IGlucHV0O1xuICBpZiAodHlwZW9mIGVuZHBvaW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgcHJvbWlzaWZpZWQgPSBQcm9taXNlLnJlc29sdmUodXJsUGFyc2VyKGVuZHBvaW50KSk7XG4gICAgcmV0dXJuICgpID0+IHByb21pc2lmaWVkO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBlbmRwb2ludCA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHByb21pc2lmaWVkID0gUHJvbWlzZS5yZXNvbHZlKGVuZHBvaW50KTtcbiAgICByZXR1cm4gKCkgPT4gcHJvbWlzaWZpZWQ7XG4gIH1cbiAgcmV0dXJuIGVuZHBvaW50ITtcbn07XG5cbmNvbnN0IGdldEVuZFBvaW50RnJvbVJlZ2lvbiA9IGFzeW5jIChpbnB1dDogRW5kcG9pbnRzSW5wdXRDb25maWcgJiBQcmV2aW91c2x5UmVzb2x2ZWQpID0+IHtcbiAgY29uc3QgeyB0bHMgPSB0cnVlIH0gPSBpbnB1dDtcbiAgY29uc3QgcmVnaW9uID0gYXdhaXQgaW5wdXQucmVnaW9uKCk7XG5cbiAgY29uc3QgZG5zSG9zdFJlZ2V4ID0gbmV3IFJlZ0V4cCgvXihbYS16QS1aMC05XXxbYS16QS1aMC05XVthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKSQvKTtcbiAgaWYgKCFkbnNIb3N0UmVnZXgudGVzdChyZWdpb24pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCByZWdpb24gaW4gY2xpZW50IGNvbmZpZ1wiKTtcbiAgfVxuXG4gIGNvbnN0IHsgaG9zdG5hbWUgfSA9IChhd2FpdCBpbnB1dC5yZWdpb25JbmZvUHJvdmlkZXIocmVnaW9uKSkgPz8ge307XG4gIGlmICghaG9zdG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzb2x2ZSBob3N0bmFtZSBmcm9tIGNsaWVudCBjb25maWdcIik7XG4gIH1cblxuICByZXR1cm4gaW5wdXQudXJsUGFyc2VyKGAke3RscyA/IFwiaHR0cHM6XCIgOiBcImh0dHA6XCJ9Ly8ke2hvc3RuYW1lfWApO1xufTtcbiJdfQ==","import { __assign } from \"tslib\";\nexport var REGION_ENV_NAME = \"AWS_REGION\";\nexport var REGION_INI_NAME = \"region\";\nexport var NODE_REGION_CONFIG_OPTIONS = {\n    environmentVariableSelector: function (env) { return env[REGION_ENV_NAME]; },\n    configFileSelector: function (profile) { return profile[REGION_INI_NAME]; },\n    default: function () {\n        throw new Error(\"Region is missing\");\n    },\n};\nexport var NODE_REGION_CONFIG_FILE_OPTIONS = {\n    preferredFile: \"credentials\",\n};\nexport var resolveRegionConfig = function (input) {\n    if (!input.region) {\n        throw new Error(\"Region is missing\");\n    }\n    return __assign(__assign({}, input), { region: normalizeRegion(input.region) });\n};\nvar normalizeRegion = function (region) {\n    if (typeof region === \"string\") {\n        var promisified_1 = Promise.resolve(region);\n        return function () { return promisified_1; };\n    }\n    return region;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVnaW9uQ29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL1JlZ2lvbkNvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBR0EsTUFBTSxDQUFDLElBQU0sZUFBZSxHQUFHLFlBQVksQ0FBQztBQUM1QyxNQUFNLENBQUMsSUFBTSxlQUFlLEdBQUcsUUFBUSxDQUFDO0FBRXhDLE1BQU0sQ0FBQyxJQUFNLDBCQUEwQixHQUFrQztJQUN2RSwyQkFBMkIsRUFBRSxVQUFDLEdBQUcsSUFBSyxPQUFBLEdBQUcsQ0FBQyxlQUFlLENBQUMsRUFBcEIsQ0FBb0I7SUFDMUQsa0JBQWtCLEVBQUUsVUFBQyxPQUFPLElBQUssT0FBQSxPQUFPLENBQUMsZUFBZSxDQUFDLEVBQXhCLENBQXdCO0lBQ3pELE9BQU8sRUFBRTtRQUNQLE1BQU0sSUFBSSxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQztJQUN2QyxDQUFDO0NBQ0YsQ0FBQztBQUVGLE1BQU0sQ0FBQyxJQUFNLCtCQUErQixHQUF1QjtJQUNqRSxhQUFhLEVBQUUsYUFBYTtDQUM3QixDQUFDO0FBZUYsTUFBTSxDQUFDLElBQU0sbUJBQW1CLEdBQUcsVUFBSSxLQUFpRDtJQUN0RixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRTtRQUNqQixNQUFNLElBQUksS0FBSyxDQUFDLG1CQUFtQixDQUFDLENBQUM7S0FDdEM7SUFDRCw2QkFDSyxLQUFLLEtBQ1IsTUFBTSxFQUFFLGVBQWUsQ0FBQyxLQUFLLENBQUMsTUFBTyxDQUFDLElBQ3RDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsSUFBTSxlQUFlLEdBQUcsVUFBQyxNQUFpQztJQUN4RCxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsRUFBRTtRQUM5QixJQUFNLGFBQVcsR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzVDLE9BQU8sY0FBTSxPQUFBLGFBQVcsRUFBWCxDQUFXLENBQUM7S0FDMUI7SUFDRCxPQUFPLE1BQTBCLENBQUM7QUFDcEMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTG9hZGVkQ29uZmlnU2VsZWN0b3JzLCBMb2NhbENvbmZpZ09wdGlvbnMgfSBmcm9tIFwiQGF3cy1zZGsvbm9kZS1jb25maWctcHJvdmlkZXJcIjtcbmltcG9ydCB7IFByb3ZpZGVyIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBSRUdJT05fRU5WX05BTUUgPSBcIkFXU19SRUdJT05cIjtcbmV4cG9ydCBjb25zdCBSRUdJT05fSU5JX05BTUUgPSBcInJlZ2lvblwiO1xuXG5leHBvcnQgY29uc3QgTk9ERV9SRUdJT05fQ09ORklHX09QVElPTlM6IExvYWRlZENvbmZpZ1NlbGVjdG9yczxzdHJpbmc+ID0ge1xuICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IChlbnYpID0+IGVudltSRUdJT05fRU5WX05BTUVdLFxuICBjb25maWdGaWxlU2VsZWN0b3I6IChwcm9maWxlKSA9PiBwcm9maWxlW1JFR0lPTl9JTklfTkFNRV0sXG4gIGRlZmF1bHQ6ICgpID0+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWdpb24gaXMgbWlzc2luZ1wiKTtcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBOT0RFX1JFR0lPTl9DT05GSUdfRklMRV9PUFRJT05TOiBMb2NhbENvbmZpZ09wdGlvbnMgPSB7XG4gIHByZWZlcnJlZEZpbGU6IFwiY3JlZGVudGlhbHNcIixcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVnaW9uSW5wdXRDb25maWcge1xuICAvKipcbiAgICogVGhlIEFXUyByZWdpb24gdG8gd2hpY2ggdGhpcyBjbGllbnQgd2lsbCBzZW5kIHJlcXVlc3RzXG4gICAqL1xuICByZWdpb24/OiBzdHJpbmcgfCBQcm92aWRlcjxzdHJpbmc+O1xufVxuXG5pbnRlcmZhY2UgUHJldmlvdXNseVJlc29sdmVkIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVnaW9uUmVzb2x2ZWRDb25maWcge1xuICByZWdpb246IFByb3ZpZGVyPHN0cmluZz47XG59XG5cbmV4cG9ydCBjb25zdCByZXNvbHZlUmVnaW9uQ29uZmlnID0gPFQ+KGlucHV0OiBUICYgUmVnaW9uSW5wdXRDb25maWcgJiBQcmV2aW91c2x5UmVzb2x2ZWQpOiBUICYgUmVnaW9uUmVzb2x2ZWRDb25maWcgPT4ge1xuICBpZiAoIWlucHV0LnJlZ2lvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlJlZ2lvbiBpcyBtaXNzaW5nXCIpO1xuICB9XG4gIHJldHVybiB7XG4gICAgLi4uaW5wdXQsXG4gICAgcmVnaW9uOiBub3JtYWxpemVSZWdpb24oaW5wdXQucmVnaW9uISksXG4gIH07XG59O1xuXG5jb25zdCBub3JtYWxpemVSZWdpb24gPSAocmVnaW9uOiBzdHJpbmcgfCBQcm92aWRlcjxzdHJpbmc+KTogUHJvdmlkZXI8c3RyaW5nPiA9PiB7XG4gIGlmICh0eXBlb2YgcmVnaW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgY29uc3QgcHJvbWlzaWZpZWQgPSBQcm9taXNlLnJlc29sdmUocmVnaW9uKTtcbiAgICByZXR1cm4gKCkgPT4gcHJvbWlzaWZpZWQ7XG4gIH1cbiAgcmV0dXJuIHJlZ2lvbiBhcyBQcm92aWRlcjxzdHJpbmc+O1xufTtcbiJdfQ==","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nvar CONTENT_LENGTH_HEADER = \"content-length\";\nexport function contentLengthMiddleware(bodyLengthChecker) {\n    var _this = this;\n    return function (next) { return function (args) { return __awaiter(_this, void 0, void 0, function () {\n        var request, body, headers, length;\n        var _a;\n        return __generator(this, function (_b) {\n            request = args.request;\n            if (HttpRequest.isInstance(request)) {\n                body = request.body, headers = request.headers;\n                if (body &&\n                    Object.keys(headers)\n                        .map(function (str) { return str.toLowerCase(); })\n                        .indexOf(CONTENT_LENGTH_HEADER) === -1) {\n                    length = bodyLengthChecker(body);\n                    if (length !== undefined) {\n                        request.headers = __assign(__assign({}, request.headers), (_a = {}, _a[CONTENT_LENGTH_HEADER] = String(length), _a));\n                    }\n                }\n            }\n            return [2 /*return*/, next(__assign(__assign({}, args), { request: request }))];\n        });\n    }); }; };\n}\nexport var contentLengthMiddlewareOptions = {\n    step: \"build\",\n    tags: [\"SET_CONTENT_LENGTH\", \"CONTENT_LENGTH\"],\n    name: \"contentLengthMiddleware\",\n};\nexport var getContentLengthPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(contentLengthMiddleware(options.bodyLengthChecker), contentLengthMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQVlyRCxJQUFNLHFCQUFxQixHQUFHLGdCQUFnQixDQUFDO0FBRS9DLE1BQU0sVUFBVSx1QkFBdUIsQ0FBQyxpQkFBdUM7SUFBL0UsaUJBNEJDO0lBM0JDLE9BQU8sVUFBZ0MsSUFBK0IsSUFBZ0MsT0FBQSxVQUNwRyxJQUFnQzs7OztZQUUxQixPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQztZQUM3QixJQUFJLFdBQVcsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEVBQUU7Z0JBQzNCLElBQUksR0FBYyxPQUFPLEtBQXJCLEVBQUUsT0FBTyxHQUFLLE9BQU8sUUFBWixDQUFhO2dCQUNsQyxJQUNFLElBQUk7b0JBQ0osTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7eUJBQ2pCLEdBQUcsQ0FBQyxVQUFDLEdBQUcsSUFBSyxPQUFBLEdBQUcsQ0FBQyxXQUFXLEVBQUUsRUFBakIsQ0FBaUIsQ0FBQzt5QkFDL0IsT0FBTyxDQUFDLHFCQUFxQixDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQ3hDO29CQUNNLE1BQU0sR0FBRyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDdkMsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFFO3dCQUN4QixPQUFPLENBQUMsT0FBTyx5QkFDVixPQUFPLENBQUMsT0FBTyxnQkFDakIscUJBQXFCLElBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUN4QyxDQUFDO3FCQUNIO2lCQUNGO2FBQ0Y7WUFFRCxzQkFBTyxJQUFJLHVCQUNOLElBQUksS0FDUCxPQUFPLFNBQUEsSUFDUCxFQUFDOztTQUNKLEVBMUJxRyxDQTBCckcsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLENBQUMsSUFBTSw4QkFBOEIsR0FBd0I7SUFDakUsSUFBSSxFQUFFLE9BQU87SUFDYixJQUFJLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxnQkFBZ0IsQ0FBQztJQUM5QyxJQUFJLEVBQUUseUJBQXlCO0NBQ2hDLENBQUM7QUFFRixNQUFNLENBQUMsSUFBTSxzQkFBc0IsR0FBRyxVQUFDLE9BQW9ELElBQTBCLE9BQUEsQ0FBQztJQUNwSCxZQUFZLEVBQUUsVUFBQyxXQUFXO1FBQ3hCLFdBQVcsQ0FBQyxHQUFHLENBQUMsdUJBQXVCLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLEVBQUUsOEJBQThCLENBQUMsQ0FBQztJQUN0RyxDQUFDO0NBQ0YsQ0FBQyxFQUptSCxDQUluSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQGF3cy1zZGsvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHtcbiAgQm9keUxlbmd0aENhbGN1bGF0b3IsXG4gIEJ1aWxkSGFuZGxlcixcbiAgQnVpbGRIYW5kbGVyQXJndW1lbnRzLFxuICBCdWlsZEhhbmRsZXJPcHRpb25zLFxuICBCdWlsZEhhbmRsZXJPdXRwdXQsXG4gIEJ1aWxkTWlkZGxld2FyZSxcbiAgTWV0YWRhdGFCZWFyZXIsXG4gIFBsdWdnYWJsZSxcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmNvbnN0IENPTlRFTlRfTEVOR1RIX0hFQURFUiA9IFwiY29udGVudC1sZW5ndGhcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnRlbnRMZW5ndGhNaWRkbGV3YXJlKGJvZHlMZW5ndGhDaGVja2VyOiBCb2R5TGVuZ3RoQ2FsY3VsYXRvcik6IEJ1aWxkTWlkZGxld2FyZTxhbnksIGFueT4ge1xuICByZXR1cm4gPE91dHB1dCBleHRlbmRzIE1ldGFkYXRhQmVhcmVyPihuZXh0OiBCdWlsZEhhbmRsZXI8YW55LCBPdXRwdXQ+KTogQnVpbGRIYW5kbGVyPGFueSwgT3V0cHV0PiA9PiBhc3luYyAoXG4gICAgYXJnczogQnVpbGRIYW5kbGVyQXJndW1lbnRzPGFueT5cbiAgKTogUHJvbWlzZTxCdWlsZEhhbmRsZXJPdXRwdXQ8T3V0cHV0Pj4gPT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBhcmdzLnJlcXVlc3Q7XG4gICAgaWYgKEh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UocmVxdWVzdCkpIHtcbiAgICAgIGNvbnN0IHsgYm9keSwgaGVhZGVycyB9ID0gcmVxdWVzdDtcbiAgICAgIGlmIChcbiAgICAgICAgYm9keSAmJlxuICAgICAgICBPYmplY3Qua2V5cyhoZWFkZXJzKVxuICAgICAgICAgIC5tYXAoKHN0cikgPT4gc3RyLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgLmluZGV4T2YoQ09OVEVOVF9MRU5HVEhfSEVBREVSKSA9PT0gLTFcbiAgICAgICkge1xuICAgICAgICBjb25zdCBsZW5ndGggPSBib2R5TGVuZ3RoQ2hlY2tlcihib2R5KTtcbiAgICAgICAgaWYgKGxlbmd0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVxdWVzdC5oZWFkZXJzID0ge1xuICAgICAgICAgICAgLi4ucmVxdWVzdC5oZWFkZXJzLFxuICAgICAgICAgICAgW0NPTlRFTlRfTEVOR1RIX0hFQURFUl06IFN0cmluZyhsZW5ndGgpLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV4dCh7XG4gICAgICAuLi5hcmdzLFxuICAgICAgcmVxdWVzdCxcbiAgICB9KTtcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbnRlbnRMZW5ndGhNaWRkbGV3YXJlT3B0aW9uczogQnVpbGRIYW5kbGVyT3B0aW9ucyA9IHtcbiAgc3RlcDogXCJidWlsZFwiLFxuICB0YWdzOiBbXCJTRVRfQ09OVEVOVF9MRU5HVEhcIiwgXCJDT05URU5UX0xFTkdUSFwiXSxcbiAgbmFtZTogXCJjb250ZW50TGVuZ3RoTWlkZGxld2FyZVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGdldENvbnRlbnRMZW5ndGhQbHVnaW4gPSAob3B0aW9uczogeyBib2R5TGVuZ3RoQ2hlY2tlcjogQm9keUxlbmd0aENhbGN1bGF0b3IgfSk6IFBsdWdnYWJsZTxhbnksIGFueT4gPT4gKHtcbiAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICBjbGllbnRTdGFjay5hZGQoY29udGVudExlbmd0aE1pZGRsZXdhcmUob3B0aW9ucy5ib2R5TGVuZ3RoQ2hlY2tlciksIGNvbnRlbnRMZW5ndGhNaWRkbGV3YXJlT3B0aW9ucyk7XG4gIH0sXG59KTtcbiJdfQ==","import { __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nexport function resolveHostHeaderConfig(input) {\n    return input;\n}\nexport var hostHeaderMiddleware = function (options) { return function (next) { return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n    var request, _a, handlerProtocol;\n    return __generator(this, function (_b) {\n        if (!HttpRequest.isInstance(args.request))\n            return [2 /*return*/, next(args)];\n        request = args.request;\n        _a = (options.requestHandler.metadata || {}).handlerProtocol, handlerProtocol = _a === void 0 ? \"\" : _a;\n        //For H2 request, remove 'host' header and use ':authority' header instead\n        //reference: https://nodejs.org/dist/latest-v13.x/docs/api/errors.html#ERR_HTTP2_INVALID_CONNECTION_HEADERS\n        if (handlerProtocol.indexOf(\"h2\") >= 0 && !request.headers[\":authority\"]) {\n            delete request.headers[\"host\"];\n            request.headers[\":authority\"] = \"\";\n            //non-H2 request and 'host' header is not set, set the 'host' header to request's hostname.\n        }\n        else if (!request.headers[\"host\"]) {\n            request.headers[\"host\"] = request.hostname;\n        }\n        return [2 /*return*/, next(args)];\n    });\n}); }; }; };\nexport var hostHeaderMiddlewareOptions = {\n    name: \"hostHeaderMiddleware\",\n    step: \"build\",\n    tags: [\"HOST\"],\n};\nexport var getHostHeaderPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(hostHeaderMiddleware(options), hostHeaderMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQVVyRCxNQUFNLFVBQVUsdUJBQXVCLENBQ3JDLEtBQXFEO0lBRXJELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQUVELE1BQU0sQ0FBQyxJQUFNLG9CQUFvQixHQUFHLFVBQ2xDLE9BQWlDLElBQ0UsT0FBQSxVQUFDLElBQUksSUFBSyxPQUFBLFVBQU8sSUFBSTs7O1FBQ3hELElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUM7WUFBRSxzQkFBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUM7UUFDckQsT0FBTyxHQUFLLElBQUksUUFBVCxDQUFVO1FBQ2pCLEtBQXlCLENBQUEsT0FBTyxDQUFDLGNBQWMsQ0FBQyxRQUFRLElBQUksRUFBRSxDQUFBLGdCQUExQyxFQUFwQixlQUFlLG1CQUFHLEVBQUUsS0FBQSxDQUEyQztRQUN2RSwwRUFBMEU7UUFDMUUsMkdBQTJHO1FBQzNHLElBQUksZUFBZSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFFO1lBQ3hFLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMvQixPQUFPLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUNuQywyRkFBMkY7U0FDNUY7YUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtZQUNuQyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUM7U0FDNUM7UUFDRCxzQkFBTyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUM7O0tBQ25CLEVBZDhDLENBYzlDLEVBZG9DLENBY3BDLENBQUM7QUFFRixNQUFNLENBQUMsSUFBTSwyQkFBMkIsR0FBMkM7SUFDakYsSUFBSSxFQUFFLHNCQUFzQjtJQUM1QixJQUFJLEVBQUUsT0FBTztJQUNiLElBQUksRUFBRSxDQUFDLE1BQU0sQ0FBQztDQUNmLENBQUM7QUFFRixNQUFNLENBQUMsSUFBTSxtQkFBbUIsR0FBRyxVQUFDLE9BQWlDLElBQTBCLE9BQUEsQ0FBQztJQUM5RixZQUFZLEVBQUUsVUFBQyxXQUFXO1FBQ3hCLFdBQVcsQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsT0FBTyxDQUFDLEVBQUUsMkJBQTJCLENBQUMsQ0FBQztJQUM5RSxDQUFDO0NBQ0YsQ0FBQyxFQUo2RixDQUk3RixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQGF3cy1zZGsvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHsgQWJzb2x1dGVMb2NhdGlvbiwgQnVpbGRIYW5kbGVyT3B0aW9ucywgQnVpbGRNaWRkbGV3YXJlLCBQbHVnZ2FibGUsIFJlcXVlc3RIYW5kbGVyIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSG9zdEhlYWRlcklucHV0Q29uZmlnIHt9XG5pbnRlcmZhY2UgUHJldmlvdXNseVJlc29sdmVkIHtcbiAgcmVxdWVzdEhhbmRsZXI6IFJlcXVlc3RIYW5kbGVyPGFueSwgYW55Pjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgSG9zdEhlYWRlclJlc29sdmVkQ29uZmlnIHtcbiAgcmVxdWVzdEhhbmRsZXI6IFJlcXVlc3RIYW5kbGVyPGFueSwgYW55Pjtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlSG9zdEhlYWRlckNvbmZpZzxUPihcbiAgaW5wdXQ6IFQgJiBQcmV2aW91c2x5UmVzb2x2ZWQgJiBIb3N0SGVhZGVySW5wdXRDb25maWdcbik6IFQgJiBIb3N0SGVhZGVyUmVzb2x2ZWRDb25maWcge1xuICByZXR1cm4gaW5wdXQ7XG59XG5cbmV4cG9ydCBjb25zdCBob3N0SGVhZGVyTWlkZGxld2FyZSA9IDxJbnB1dCBleHRlbmRzIG9iamVjdCwgT3V0cHV0IGV4dGVuZHMgb2JqZWN0PihcbiAgb3B0aW9uczogSG9zdEhlYWRlclJlc29sdmVkQ29uZmlnXG4pOiBCdWlsZE1pZGRsZXdhcmU8SW5wdXQsIE91dHB1dD4gPT4gKG5leHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gIGlmICghSHR0cFJlcXVlc3QuaXNJbnN0YW5jZShhcmdzLnJlcXVlc3QpKSByZXR1cm4gbmV4dChhcmdzKTtcbiAgY29uc3QgeyByZXF1ZXN0IH0gPSBhcmdzO1xuICBjb25zdCB7IGhhbmRsZXJQcm90b2NvbCA9IFwiXCIgfSA9IG9wdGlvbnMucmVxdWVzdEhhbmRsZXIubWV0YWRhdGEgfHwge307XG4gIC8vRm9yIEgyIHJlcXVlc3QsIHJlbW92ZSAnaG9zdCcgaGVhZGVyIGFuZCB1c2UgJzphdXRob3JpdHknIGhlYWRlciBpbnN0ZWFkXG4gIC8vcmVmZXJlbmNlOiBodHRwczovL25vZGVqcy5vcmcvZGlzdC9sYXRlc3QtdjEzLngvZG9jcy9hcGkvZXJyb3JzLmh0bWwjRVJSX0hUVFAyX0lOVkFMSURfQ09OTkVDVElPTl9IRUFERVJTXG4gIGlmIChoYW5kbGVyUHJvdG9jb2wuaW5kZXhPZihcImgyXCIpID49IDAgJiYgIXJlcXVlc3QuaGVhZGVyc1tcIjphdXRob3JpdHlcIl0pIHtcbiAgICBkZWxldGUgcmVxdWVzdC5oZWFkZXJzW1wiaG9zdFwiXTtcbiAgICByZXF1ZXN0LmhlYWRlcnNbXCI6YXV0aG9yaXR5XCJdID0gXCJcIjtcbiAgICAvL25vbi1IMiByZXF1ZXN0IGFuZCAnaG9zdCcgaGVhZGVyIGlzIG5vdCBzZXQsIHNldCB0aGUgJ2hvc3QnIGhlYWRlciB0byByZXF1ZXN0J3MgaG9zdG5hbWUuXG4gIH0gZWxzZSBpZiAoIXJlcXVlc3QuaGVhZGVyc1tcImhvc3RcIl0pIHtcbiAgICByZXF1ZXN0LmhlYWRlcnNbXCJob3N0XCJdID0gcmVxdWVzdC5ob3N0bmFtZTtcbiAgfVxuICByZXR1cm4gbmV4dChhcmdzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBob3N0SGVhZGVyTWlkZGxld2FyZU9wdGlvbnM6IEJ1aWxkSGFuZGxlck9wdGlvbnMgJiBBYnNvbHV0ZUxvY2F0aW9uID0ge1xuICBuYW1lOiBcImhvc3RIZWFkZXJNaWRkbGV3YXJlXCIsXG4gIHN0ZXA6IFwiYnVpbGRcIixcbiAgdGFnczogW1wiSE9TVFwiXSxcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRIb3N0SGVhZGVyUGx1Z2luID0gKG9wdGlvbnM6IEhvc3RIZWFkZXJSZXNvbHZlZENvbmZpZyk6IFBsdWdnYWJsZTxhbnksIGFueT4gPT4gKHtcbiAgYXBwbHlUb1N0YWNrOiAoY2xpZW50U3RhY2spID0+IHtcbiAgICBjbGllbnRTdGFjay5hZGQoaG9zdEhlYWRlck1pZGRsZXdhcmUob3B0aW9ucyksIGhvc3RIZWFkZXJNaWRkbGV3YXJlT3B0aW9ucyk7XG4gIH0sXG59KTtcbiJdfQ==","import { __awaiter, __generator, __rest } from \"tslib\";\nexport var loggerMiddleware = function () { return function (next, context) { return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n    var logger, inputFilterSensitiveLog, outputFilterSensitiveLog, response, _a, $metadata, outputWithoutMetadata;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                logger = context.logger, inputFilterSensitiveLog = context.inputFilterSensitiveLog, outputFilterSensitiveLog = context.outputFilterSensitiveLog;\n                return [4 /*yield*/, next(args)];\n            case 1:\n                response = _b.sent();\n                if (!logger) {\n                    return [2 /*return*/, response];\n                }\n                _a = response.output, $metadata = _a.$metadata, outputWithoutMetadata = __rest(_a, [\"$metadata\"]);\n                if (typeof logger.debug === \"function\") {\n                    logger.debug({\n                        httpRequest: args.request,\n                    });\n                    logger.debug({\n                        httpResponse: response.response,\n                    });\n                }\n                if (typeof logger.info === \"function\") {\n                    logger.info({\n                        $metadata: $metadata,\n                        input: inputFilterSensitiveLog(args.input),\n                        output: outputFilterSensitiveLog(outputWithoutMetadata),\n                    });\n                }\n                return [2 /*return*/, response];\n        }\n    });\n}); }; }; };\nexport var loggerMiddlewareOptions = {\n    name: \"loggerMiddleware\",\n    tags: [\"LOGGER\"],\n    step: \"finalizeRequest\",\n};\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport var getLoggerPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(loggerMiddleware(), loggerMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2VyTWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sb2dnZXJNaWRkbGV3YXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFhQSxNQUFNLENBQUMsSUFBTSxnQkFBZ0IsR0FBRyxjQUFNLE9BQUEsVUFDcEMsSUFBa0MsRUFDbEMsT0FBZ0MsSUFDQyxPQUFBLFVBQ2pDLElBQW1DOzs7OztnQkFFM0IsTUFBTSxHQUF3RCxPQUFPLE9BQS9ELEVBQUUsdUJBQXVCLEdBQStCLE9BQU8sd0JBQXRDLEVBQUUsd0JBQXdCLEdBQUssT0FBTyx5QkFBWixDQUFhO2dCQUU3RCxxQkFBTSxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUE7O2dCQUEzQixRQUFRLEdBQUcsU0FBZ0I7Z0JBRWpDLElBQUksQ0FBQyxNQUFNLEVBQUU7b0JBQ1gsc0JBQU8sUUFBUSxFQUFDO2lCQUNqQjtnQkFHQyxLQUNFLFFBQVEsT0FEcUMsRUFBckMsU0FBUyxlQUFBLEVBQUsscUJBQXFCLGNBQXJDLGFBQXVDLENBQUYsQ0FDbEM7Z0JBRWIsSUFBSSxPQUFPLE1BQU0sQ0FBQyxLQUFLLEtBQUssVUFBVSxFQUFFO29CQUN0QyxNQUFNLENBQUMsS0FBSyxDQUFDO3dCQUNYLFdBQVcsRUFBRSxJQUFJLENBQUMsT0FBTztxQkFDMUIsQ0FBQyxDQUFDO29CQUNILE1BQU0sQ0FBQyxLQUFLLENBQUM7d0JBQ1gsWUFBWSxFQUFFLFFBQVEsQ0FBQyxRQUFRO3FCQUNoQyxDQUFDLENBQUM7aUJBQ0o7Z0JBRUQsSUFBSSxPQUFPLE1BQU0sQ0FBQyxJQUFJLEtBQUssVUFBVSxFQUFFO29CQUNyQyxNQUFNLENBQUMsSUFBSSxDQUFDO3dCQUNWLFNBQVMsV0FBQTt3QkFDVCxLQUFLLEVBQUUsdUJBQXVCLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQzt3QkFDMUMsTUFBTSxFQUFFLHdCQUF3QixDQUFDLHFCQUFxQixDQUFDO3FCQUN4RCxDQUFDLENBQUM7aUJBQ0o7Z0JBRUQsc0JBQU8sUUFBUSxFQUFDOzs7S0FDakIsRUFqQ2tDLENBaUNsQyxFQXBDcUMsQ0FvQ3JDLENBQUM7QUFFRixNQUFNLENBQUMsSUFBTSx1QkFBdUIsR0FBcUQ7SUFDdkYsSUFBSSxFQUFFLGtCQUFrQjtJQUN4QixJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7SUFDaEIsSUFBSSxFQUFFLGlCQUFpQjtDQUN4QixDQUFDO0FBRUYsNkRBQTZEO0FBQzdELE1BQU0sQ0FBQyxJQUFNLGVBQWUsR0FBRyxVQUFDLE9BQTZCLElBQTBCLE9BQUEsQ0FBQztJQUN0RixZQUFZLEVBQUUsVUFBQyxXQUFXO1FBQ3hCLFdBQVcsQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUUsRUFBRSx1QkFBdUIsQ0FBQyxDQUFDO0lBQy9ELENBQUM7Q0FDRixDQUFDLEVBSnFGLENBSXJGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBYnNvbHV0ZUxvY2F0aW9uLFxuICBGaW5hbGl6ZUhhbmRsZXIsXG4gIEZpbmFsaXplSGFuZGxlckFyZ3VtZW50cyxcbiAgRmluYWxpemVIYW5kbGVyT3V0cHV0LFxuICBGaW5hbGl6ZVJlcXVlc3RIYW5kbGVyT3B0aW9ucyxcbiAgSGFuZGxlckV4ZWN1dGlvbkNvbnRleHQsXG4gIE1ldGFkYXRhQmVhcmVyLFxuICBQbHVnZ2FibGUsXG59IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5pbXBvcnQgeyBMb2dnZXJSZXNvbHZlZENvbmZpZyB9IGZyb20gXCIuL2NvbmZpZ3VyYXRpb25zXCI7XG5cbmV4cG9ydCBjb25zdCBsb2dnZXJNaWRkbGV3YXJlID0gKCkgPT4gPE91dHB1dCBleHRlbmRzIE1ldGFkYXRhQmVhcmVyID0gTWV0YWRhdGFCZWFyZXI+KFxuICBuZXh0OiBGaW5hbGl6ZUhhbmRsZXI8YW55LCBPdXRwdXQ+LFxuICBjb250ZXh0OiBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dFxuKTogRmluYWxpemVIYW5kbGVyPGFueSwgT3V0cHV0PiA9PiBhc3luYyAoXG4gIGFyZ3M6IEZpbmFsaXplSGFuZGxlckFyZ3VtZW50czxhbnk+XG4pOiBQcm9taXNlPEZpbmFsaXplSGFuZGxlck91dHB1dDxPdXRwdXQ+PiA9PiB7XG4gIGNvbnN0IHsgbG9nZ2VyLCBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZywgb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nIH0gPSBjb250ZXh0O1xuXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbmV4dChhcmdzKTtcblxuICBpZiAoIWxvZ2dlcikge1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIGNvbnN0IHtcbiAgICBvdXRwdXQ6IHsgJG1ldGFkYXRhLCAuLi5vdXRwdXRXaXRob3V0TWV0YWRhdGEgfSxcbiAgfSA9IHJlc3BvbnNlO1xuXG4gIGlmICh0eXBlb2YgbG9nZ2VyLmRlYnVnID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBsb2dnZXIuZGVidWcoe1xuICAgICAgaHR0cFJlcXVlc3Q6IGFyZ3MucmVxdWVzdCxcbiAgICB9KTtcbiAgICBsb2dnZXIuZGVidWcoe1xuICAgICAgaHR0cFJlc3BvbnNlOiByZXNwb25zZS5yZXNwb25zZSxcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgbG9nZ2VyLmluZm8gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIGxvZ2dlci5pbmZvKHtcbiAgICAgICRtZXRhZGF0YSxcbiAgICAgIGlucHV0OiBpbnB1dEZpbHRlclNlbnNpdGl2ZUxvZyhhcmdzLmlucHV0KSxcbiAgICAgIG91dHB1dDogb3V0cHV0RmlsdGVyU2Vuc2l0aXZlTG9nKG91dHB1dFdpdGhvdXRNZXRhZGF0YSksXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzcG9uc2U7XG59O1xuXG5leHBvcnQgY29uc3QgbG9nZ2VyTWlkZGxld2FyZU9wdGlvbnM6IEZpbmFsaXplUmVxdWVzdEhhbmRsZXJPcHRpb25zICYgQWJzb2x1dGVMb2NhdGlvbiA9IHtcbiAgbmFtZTogXCJsb2dnZXJNaWRkbGV3YXJlXCIsXG4gIHRhZ3M6IFtcIkxPR0dFUlwiXSxcbiAgc3RlcDogXCJmaW5hbGl6ZVJlcXVlc3RcIixcbn07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbmV4cG9ydCBjb25zdCBnZXRMb2dnZXJQbHVnaW4gPSAob3B0aW9uczogTG9nZ2VyUmVzb2x2ZWRDb25maWcpOiBQbHVnZ2FibGU8YW55LCBhbnk+ID0+ICh7XG4gIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgY2xpZW50U3RhY2suYWRkKGxvZ2dlck1pZGRsZXdhcmUoKSwgbG9nZ2VyTWlkZGxld2FyZU9wdGlvbnMpO1xuICB9LFxufSk7XG4iXX0=","export var ALGORITHM_QUERY_PARAM = \"X-Amz-Algorithm\";\nexport var CREDENTIAL_QUERY_PARAM = \"X-Amz-Credential\";\nexport var AMZ_DATE_QUERY_PARAM = \"X-Amz-Date\";\nexport var SIGNED_HEADERS_QUERY_PARAM = \"X-Amz-SignedHeaders\";\nexport var EXPIRES_QUERY_PARAM = \"X-Amz-Expires\";\nexport var SIGNATURE_QUERY_PARAM = \"X-Amz-Signature\";\nexport var TOKEN_QUERY_PARAM = \"X-Amz-Security-Token\";\nexport var AUTH_HEADER = \"authorization\";\nexport var AMZ_DATE_HEADER = AMZ_DATE_QUERY_PARAM.toLowerCase();\nexport var DATE_HEADER = \"date\";\nexport var GENERATED_HEADERS = [AUTH_HEADER, AMZ_DATE_HEADER, DATE_HEADER];\nexport var SIGNATURE_HEADER = SIGNATURE_QUERY_PARAM.toLowerCase();\nexport var SHA256_HEADER = \"x-amz-content-sha256\";\nexport var TOKEN_HEADER = TOKEN_QUERY_PARAM.toLowerCase();\nexport var HOST_HEADER = \"host\";\nexport var ALWAYS_UNSIGNABLE_HEADERS = {\n    authorization: true,\n    \"cache-control\": true,\n    connection: true,\n    expect: true,\n    from: true,\n    \"keep-alive\": true,\n    \"max-forwards\": true,\n    pragma: true,\n    referer: true,\n    te: true,\n    trailer: true,\n    \"transfer-encoding\": true,\n    upgrade: true,\n    \"user-agent\": true,\n    \"x-amzn-trace-id\": true,\n};\nexport var PROXY_HEADER_PATTERN = /^proxy-/;\nexport var SEC_HEADER_PATTERN = /^sec-/;\nexport var UNSIGNABLE_PATTERNS = [/^proxy-/i, /^sec-/i];\nexport var ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256\";\nexport var EVENT_ALGORITHM_IDENTIFIER = \"AWS4-HMAC-SHA256-PAYLOAD\";\nexport var UNSIGNED_PAYLOAD = \"UNSIGNED-PAYLOAD\";\nexport var MAX_CACHE_SIZE = 50;\nexport var KEY_TYPE_IDENTIFIER = \"aws4_request\";\nexport var MAX_PRESIGNED_TTL = 60 * 60 * 24 * 7;\n//# sourceMappingURL=constants.js.map","import { __values } from \"tslib\";\nimport { KEY_TYPE_IDENTIFIER, MAX_CACHE_SIZE } from \"./constants\";\nvar signingKeyCache = {};\nvar cacheQueue = [];\n/**\n * Create a string describing the scope of credentials used to sign a request.\n *\n * @param shortDate The current calendar date in the form YYYYMMDD.\n * @param region    The AWS region in which the service resides.\n * @param service   The service to which the signed request is being sent.\n */\nexport function createScope(shortDate, region, service) {\n    return shortDate + \"/\" + region + \"/\" + service + \"/\" + KEY_TYPE_IDENTIFIER;\n}\n/**\n * Derive a signing key from its composite parts\n *\n * @param sha256Constructor A constructor function that can instantiate SHA-256\n *                          hash objects.\n * @param credentials       The credentials with which the request will be\n *                          signed.\n * @param shortDate         The current calendar date in the form YYYYMMDD.\n * @param region            The AWS region in which the service resides.\n * @param service           The service to which the signed request is being\n *                          sent.\n */\nexport function getSigningKey(sha256Constructor, credentials, shortDate, region, service) {\n    var cacheKey = shortDate + \":\" + region + \":\" + service + \":\" + (credentials.accessKeyId + \":\" + credentials.sessionToken);\n    if (cacheKey in signingKeyCache) {\n        return signingKeyCache[cacheKey];\n    }\n    cacheQueue.push(cacheKey);\n    while (cacheQueue.length > MAX_CACHE_SIZE) {\n        delete signingKeyCache[cacheQueue.shift()];\n    }\n    return (signingKeyCache[cacheKey] = new Promise(function (resolve, reject) {\n        var e_1, _a;\n        var keyPromise = Promise.resolve(\"AWS4\" + credentials.secretAccessKey);\n        var _loop_1 = function (signable) {\n            keyPromise = keyPromise.then(function (intermediateKey) { return hmac(sha256Constructor, intermediateKey, signable); });\n            keyPromise.catch(function () { });\n        };\n        try {\n            for (var _b = __values([shortDate, region, service, KEY_TYPE_IDENTIFIER]), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var signable = _c.value;\n                _loop_1(signable);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        keyPromise.then(resolve, function (reason) {\n            delete signingKeyCache[cacheKey];\n            reject(reason);\n        });\n    }));\n}\n/**\n * @internal\n */\nexport function clearCredentialCache() {\n    cacheQueue.length = 0;\n    Object.keys(signingKeyCache).forEach(function (cacheKey) {\n        delete signingKeyCache[cacheKey];\n    });\n}\nfunction hmac(ctor, secret, data) {\n    var hash = new ctor(secret);\n    hash.update(data);\n    return hash.digest();\n}\n//# sourceMappingURL=credentialDerivation.js.map","var SHORT_TO_HEX = {};\nvar HEX_TO_SHORT = {};\nfor (var i = 0; i < 256; i++) {\n    var encodedByte = i.toString(16).toLowerCase();\n    if (encodedByte.length === 1) {\n        encodedByte = \"0\" + encodedByte;\n    }\n    SHORT_TO_HEX[i] = encodedByte;\n    HEX_TO_SHORT[encodedByte] = i;\n}\n/**\n * Converts a hexadecimal encoded string to a Uint8Array of bytes.\n *\n * @param encoded The hexadecimal encoded string\n */\nexport function fromHex(encoded) {\n    if (encoded.length % 2 !== 0) {\n        throw new Error(\"Hex encoded strings must have an even number length\");\n    }\n    var out = new Uint8Array(encoded.length / 2);\n    for (var i = 0; i < encoded.length; i += 2) {\n        var encodedByte = encoded.substr(i, 2).toLowerCase();\n        if (encodedByte in HEX_TO_SHORT) {\n            out[i / 2] = HEX_TO_SHORT[encodedByte];\n        }\n        else {\n            throw new Error(\"Cannot decode unrecognized sequence \" + encodedByte + \" as hexadecimal\");\n        }\n    }\n    return out;\n}\n/**\n * Converts a Uint8Array of binary data to a hexadecimal encoded string.\n *\n * @param bytes The binary data to encode\n */\nexport function toHex(bytes) {\n    var out = \"\";\n    for (var i = 0; i < bytes.byteLength; i++) {\n        out += SHORT_TO_HEX[bytes[i]];\n    }\n    return out;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFNLFlBQVksR0FBOEIsRUFBRSxDQUFDO0FBQ25ELElBQU0sWUFBWSxHQUE4QixFQUFFLENBQUM7QUFFbkQsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUM1QixJQUFJLFdBQVcsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQy9DLElBQUksV0FBVyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7UUFDNUIsV0FBVyxHQUFHLE1BQUksV0FBYSxDQUFDO0tBQ2pDO0lBRUQsWUFBWSxDQUFDLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQztJQUM5QixZQUFZLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0NBQy9CO0FBRUQ7Ozs7R0FJRztBQUNILE1BQU0sVUFBVSxPQUFPLENBQUMsT0FBZTtJQUNyQyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUM1QixNQUFNLElBQUksS0FBSyxDQUFDLHFEQUFxRCxDQUFDLENBQUM7S0FDeEU7SUFFRCxJQUFNLEdBQUcsR0FBRyxJQUFJLFVBQVUsQ0FBQyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQy9DLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDMUMsSUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDdkQsSUFBSSxXQUFXLElBQUksWUFBWSxFQUFFO1lBQy9CLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ3hDO2FBQU07WUFDTCxNQUFNLElBQUksS0FBSyxDQUFDLHlDQUF1QyxXQUFXLG9CQUFpQixDQUFDLENBQUM7U0FDdEY7S0FDRjtJQUVELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQztBQUVEOzs7O0dBSUc7QUFDSCxNQUFNLFVBQVUsS0FBSyxDQUFDLEtBQWlCO0lBQ3JDLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztJQUNiLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsVUFBVSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3pDLEdBQUcsSUFBSSxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDL0I7SUFFRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTSE9SVF9UT19IRVg6IHsgW2tleTogbnVtYmVyXTogc3RyaW5nIH0gPSB7fTtcbmNvbnN0IEhFWF9UT19TSE9SVDogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuXG5mb3IgKGxldCBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gIGxldCBlbmNvZGVkQnl0ZSA9IGkudG9TdHJpbmcoMTYpLnRvTG93ZXJDYXNlKCk7XG4gIGlmIChlbmNvZGVkQnl0ZS5sZW5ndGggPT09IDEpIHtcbiAgICBlbmNvZGVkQnl0ZSA9IGAwJHtlbmNvZGVkQnl0ZX1gO1xuICB9XG5cbiAgU0hPUlRfVE9fSEVYW2ldID0gZW5jb2RlZEJ5dGU7XG4gIEhFWF9UT19TSE9SVFtlbmNvZGVkQnl0ZV0gPSBpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgaGV4YWRlY2ltYWwgZW5jb2RlZCBzdHJpbmcgdG8gYSBVaW50OEFycmF5IG9mIGJ5dGVzLlxuICpcbiAqIEBwYXJhbSBlbmNvZGVkIFRoZSBoZXhhZGVjaW1hbCBlbmNvZGVkIHN0cmluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbUhleChlbmNvZGVkOiBzdHJpbmcpOiBVaW50OEFycmF5IHtcbiAgaWYgKGVuY29kZWQubGVuZ3RoICUgMiAhPT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkhleCBlbmNvZGVkIHN0cmluZ3MgbXVzdCBoYXZlIGFuIGV2ZW4gbnVtYmVyIGxlbmd0aFwiKTtcbiAgfVxuXG4gIGNvbnN0IG91dCA9IG5ldyBVaW50OEFycmF5KGVuY29kZWQubGVuZ3RoIC8gMik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZW5jb2RlZC5sZW5ndGg7IGkgKz0gMikge1xuICAgIGNvbnN0IGVuY29kZWRCeXRlID0gZW5jb2RlZC5zdWJzdHIoaSwgMikudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoZW5jb2RlZEJ5dGUgaW4gSEVYX1RPX1NIT1JUKSB7XG4gICAgICBvdXRbaSAvIDJdID0gSEVYX1RPX1NIT1JUW2VuY29kZWRCeXRlXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW5ub3QgZGVjb2RlIHVucmVjb2duaXplZCBzZXF1ZW5jZSAke2VuY29kZWRCeXRlfSBhcyBoZXhhZGVjaW1hbGApO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXQ7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBVaW50OEFycmF5IG9mIGJpbmFyeSBkYXRhIHRvIGEgaGV4YWRlY2ltYWwgZW5jb2RlZCBzdHJpbmcuXG4gKlxuICogQHBhcmFtIGJ5dGVzIFRoZSBiaW5hcnkgZGF0YSB0byBlbmNvZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvSGV4KGJ5dGVzOiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgbGV0IG91dCA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMuYnl0ZUxlbmd0aDsgaSsrKSB7XG4gICAgb3V0ICs9IFNIT1JUX1RPX0hFWFtieXRlc1tpXV07XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuIl19","import { __values } from \"tslib\";\nimport { ALWAYS_UNSIGNABLE_HEADERS, PROXY_HEADER_PATTERN, SEC_HEADER_PATTERN } from \"./constants\";\n/**\n * @internal\n */\nexport function getCanonicalHeaders(_a, unsignableHeaders, signableHeaders) {\n    var e_1, _b;\n    var headers = _a.headers;\n    var canonical = {};\n    try {\n        for (var _c = __values(Object.keys(headers).sort()), _d = _c.next(); !_d.done; _d = _c.next()) {\n            var headerName = _d.value;\n            var canonicalHeaderName = headerName.toLowerCase();\n            if (canonicalHeaderName in ALWAYS_UNSIGNABLE_HEADERS || (unsignableHeaders === null || unsignableHeaders === void 0 ? void 0 : unsignableHeaders.has(canonicalHeaderName)) ||\n                PROXY_HEADER_PATTERN.test(canonicalHeaderName) ||\n                SEC_HEADER_PATTERN.test(canonicalHeaderName)) {\n                if (!signableHeaders || (signableHeaders && !signableHeaders.has(canonicalHeaderName))) {\n                    continue;\n                }\n            }\n            canonical[canonicalHeaderName] = headers[headerName].trim().replace(/\\s+/g, \" \");\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_d && !_d.done && (_b = _c.return)) _b.call(_c);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return canonical;\n}\n//# sourceMappingURL=getCanonicalHeaders.js.map","import { __awaiter, __generator, __values } from \"tslib\";\nimport { isArrayBuffer } from \"@aws-sdk/is-array-buffer\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { SHA256_HEADER, UNSIGNED_PAYLOAD } from \"./constants\";\n/**\n * @internal\n */\nexport function getPayloadHash(_a, hashConstructor) {\n    var headers = _a.headers, body = _a.body;\n    return __awaiter(this, void 0, void 0, function () {\n        var _b, _c, headerName, hashCtor, _d;\n        var e_1, _e;\n        return __generator(this, function (_f) {\n            switch (_f.label) {\n                case 0:\n                    try {\n                        for (_b = __values(Object.keys(headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                            headerName = _c.value;\n                            if (headerName.toLowerCase() === SHA256_HEADER) {\n                                return [2 /*return*/, headers[headerName]];\n                            }\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_c && !_c.done && (_e = _b.return)) _e.call(_b);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                    if (!(body == undefined)) return [3 /*break*/, 1];\n                    return [2 /*return*/, \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"];\n                case 1:\n                    if (!(typeof body === \"string\" || ArrayBuffer.isView(body) || isArrayBuffer(body))) return [3 /*break*/, 3];\n                    hashCtor = new hashConstructor();\n                    hashCtor.update(body);\n                    _d = toHex;\n                    return [4 /*yield*/, hashCtor.digest()];\n                case 2: return [2 /*return*/, _d.apply(void 0, [_f.sent()])];\n                case 3: \n                // As any defined body that is not a string or binary data is a stream, this\n                // body is unsignable. Attempt to send the request with an unsigned payload,\n                // which may or may not be accepted by the service.\n                return [2 /*return*/, UNSIGNED_PAYLOAD];\n            }\n        });\n    });\n}\n//# sourceMappingURL=getPayloadHash.js.map","export function isArrayBuffer(arg) {\n    return ((typeof ArrayBuffer === \"function\" && arg instanceof ArrayBuffer) ||\n        Object.prototype.toString.call(arg) === \"[object ArrayBuffer]\");\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiLi9zcmMvIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLFVBQVUsYUFBYSxDQUFDLEdBQVE7SUFDcEMsT0FBTyxDQUNMLENBQUMsT0FBTyxXQUFXLEtBQUssVUFBVSxJQUFJLEdBQUcsWUFBWSxXQUFXLENBQUM7UUFDakUsTUFBTSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLHNCQUFzQixDQUMvRCxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc0FycmF5QnVmZmVyKGFyZzogYW55KTogYXJnIGlzIEFycmF5QnVmZmVyIHtcbiAgcmV0dXJuIChcbiAgICAodHlwZW9mIEFycmF5QnVmZmVyID09PSBcImZ1bmN0aW9uXCIgJiYgYXJnIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8XG4gICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZykgPT09IFwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIlxuICApO1xufVxuIl19","import { __assign, __read, __rest, __spread } from \"tslib\";\n/**\n * @internal\n */\nexport function cloneRequest(_a) {\n    var headers = _a.headers, query = _a.query, rest = __rest(_a, [\"headers\", \"query\"]);\n    return __assign(__assign({}, rest), { headers: __assign({}, headers), query: query ? cloneQuery(query) : undefined });\n}\nfunction cloneQuery(query) {\n    return Object.keys(query).reduce(function (carry, paramName) {\n        var _a;\n        var param = query[paramName];\n        return __assign(__assign({}, carry), (_a = {}, _a[paramName] = Array.isArray(param) ? __spread(param) : param, _a));\n    }, {});\n}\n//# sourceMappingURL=cloneRequest.js.map","import { __values } from \"tslib\";\nimport { cloneRequest } from \"./cloneRequest\";\nimport { GENERATED_HEADERS } from \"./constants\";\n/**\n * @internal\n */\nexport function prepareRequest(request) {\n    var e_1, _a;\n    // Create a clone of the request object that does not clone the body\n    request = typeof request.clone === \"function\" ? request.clone() : cloneRequest(request);\n    try {\n        for (var _b = __values(Object.keys(request.headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var headerName = _c.value;\n            if (GENERATED_HEADERS.indexOf(headerName.toLowerCase()) > -1) {\n                delete request.headers[headerName];\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return request;\n}\n//# sourceMappingURL=prepareRequest.js.map","export function iso8601(time) {\n    return toDate(time)\n        .toISOString()\n        .replace(/\\.\\d{3}Z$/, \"Z\");\n}\nexport function toDate(time) {\n    if (typeof time === \"number\") {\n        return new Date(time * 1000);\n    }\n    if (typeof time === \"string\") {\n        if (Number(time)) {\n            return new Date(Number(time) * 1000);\n        }\n        return new Date(time);\n    }\n    return time;\n}\n//# sourceMappingURL=utilDate.js.map","import { __awaiter, __generator } from \"tslib\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { ALGORITHM_IDENTIFIER, ALGORITHM_QUERY_PARAM, AMZ_DATE_HEADER, AMZ_DATE_QUERY_PARAM, AUTH_HEADER, CREDENTIAL_QUERY_PARAM, EVENT_ALGORITHM_IDENTIFIER, EXPIRES_QUERY_PARAM, MAX_PRESIGNED_TTL, SHA256_HEADER, SIGNATURE_QUERY_PARAM, SIGNED_HEADERS_QUERY_PARAM, TOKEN_HEADER, TOKEN_QUERY_PARAM, } from \"./constants\";\nimport { createScope, getSigningKey } from \"./credentialDerivation\";\nimport { getCanonicalHeaders } from \"./getCanonicalHeaders\";\nimport { getCanonicalQuery } from \"./getCanonicalQuery\";\nimport { getPayloadHash } from \"./getPayloadHash\";\nimport { hasHeader } from \"./hasHeader\";\nimport { moveHeadersToQuery } from \"./moveHeadersToQuery\";\nimport { prepareRequest } from \"./prepareRequest\";\nimport { iso8601 } from \"./utilDate\";\nvar SignatureV4 = /** @class */ (function () {\n    function SignatureV4(_a) {\n        var applyChecksum = _a.applyChecksum, credentials = _a.credentials, region = _a.region, service = _a.service, sha256 = _a.sha256, _b = _a.uriEscapePath, uriEscapePath = _b === void 0 ? true : _b;\n        this.service = service;\n        this.sha256 = sha256;\n        this.uriEscapePath = uriEscapePath;\n        // default to true if applyChecksum isn't set\n        this.applyChecksum = typeof applyChecksum === \"boolean\" ? applyChecksum : true;\n        this.regionProvider = normalizeRegionProvider(region);\n        this.credentialProvider = normalizeCredentialsProvider(credentials);\n    }\n    SignatureV4.prototype.presign = function (originalRequest, options) {\n        if (options === void 0) { options = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, signingDate, _b, expiresIn, unsignableHeaders, signableHeaders, signingRegion, signingService, credentials, region, _c, _d, longDate, shortDate, scope, request, canonicalHeaders, _e, _f, _g, _h, _j, _k;\n            return __generator(this, function (_l) {\n                switch (_l.label) {\n                    case 0:\n                        _a = options.signingDate, signingDate = _a === void 0 ? new Date() : _a, _b = options.expiresIn, expiresIn = _b === void 0 ? 3600 : _b, unsignableHeaders = options.unsignableHeaders, signableHeaders = options.signableHeaders, signingRegion = options.signingRegion, signingService = options.signingService;\n                        return [4 /*yield*/, this.credentialProvider()];\n                    case 1:\n                        credentials = _l.sent();\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 2];\n                        _c = signingRegion;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.regionProvider()];\n                    case 3:\n                        _c = (_l.sent());\n                        _l.label = 4;\n                    case 4:\n                        region = _c;\n                        _d = formatDate(signingDate), longDate = _d.longDate, shortDate = _d.shortDate;\n                        if (expiresIn > MAX_PRESIGNED_TTL) {\n                            return [2 /*return*/, Promise.reject(\"Signature version 4 presigned URLs\" + \" must have an expiration date less than one week in\" + \" the future\")];\n                        }\n                        scope = createScope(shortDate, region, signingService !== null && signingService !== void 0 ? signingService : this.service);\n                        request = moveHeadersToQuery(prepareRequest(originalRequest));\n                        if (credentials.sessionToken) {\n                            request.query[TOKEN_QUERY_PARAM] = credentials.sessionToken;\n                        }\n                        request.query[ALGORITHM_QUERY_PARAM] = ALGORITHM_IDENTIFIER;\n                        request.query[CREDENTIAL_QUERY_PARAM] = credentials.accessKeyId + \"/\" + scope;\n                        request.query[AMZ_DATE_QUERY_PARAM] = longDate;\n                        request.query[EXPIRES_QUERY_PARAM] = expiresIn.toString(10);\n                        canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n                        request.query[SIGNED_HEADERS_QUERY_PARAM] = getCanonicalHeaderList(canonicalHeaders);\n                        _e = request.query;\n                        _f = SIGNATURE_QUERY_PARAM;\n                        _g = this.getSignature;\n                        _h = [longDate,\n                            scope,\n                            this.getSigningKey(credentials, region, shortDate, signingService)];\n                        _j = this.createCanonicalRequest;\n                        _k = [request, canonicalHeaders];\n                        return [4 /*yield*/, getPayloadHash(originalRequest, this.sha256)];\n                    case 5: return [4 /*yield*/, _g.apply(this, _h.concat([_j.apply(this, _k.concat([_l.sent()]))]))];\n                    case 6:\n                        _e[_f] = _l.sent();\n                        return [2 /*return*/, request];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.sign = function (toSign, options) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (typeof toSign === \"string\") {\n                    return [2 /*return*/, this.signString(toSign, options)];\n                }\n                else if (toSign.headers && toSign.payload) {\n                    return [2 /*return*/, this.signEvent(toSign, options)];\n                }\n                else {\n                    return [2 /*return*/, this.signRequest(toSign, options)];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    SignatureV4.prototype.signEvent = function (_a, _b) {\n        var headers = _a.headers, payload = _a.payload;\n        var _c = _b.signingDate, signingDate = _c === void 0 ? new Date() : _c, priorSignature = _b.priorSignature, signingRegion = _b.signingRegion, signingService = _b.signingService;\n        return __awaiter(this, void 0, void 0, function () {\n            var region, _d, _e, shortDate, longDate, scope, hashedPayload, hash, hashedHeaders, _f, stringToSign;\n            return __generator(this, function (_g) {\n                switch (_g.label) {\n                    case 0:\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 1];\n                        _d = signingRegion;\n                        return [3 /*break*/, 3];\n                    case 1: return [4 /*yield*/, this.regionProvider()];\n                    case 2:\n                        _d = (_g.sent());\n                        _g.label = 3;\n                    case 3:\n                        region = _d;\n                        _e = formatDate(signingDate), shortDate = _e.shortDate, longDate = _e.longDate;\n                        scope = createScope(shortDate, region, signingService !== null && signingService !== void 0 ? signingService : this.service);\n                        return [4 /*yield*/, getPayloadHash({ headers: {}, body: payload }, this.sha256)];\n                    case 4:\n                        hashedPayload = _g.sent();\n                        hash = new this.sha256();\n                        hash.update(headers);\n                        _f = toHex;\n                        return [4 /*yield*/, hash.digest()];\n                    case 5:\n                        hashedHeaders = _f.apply(void 0, [_g.sent()]);\n                        stringToSign = [\n                            EVENT_ALGORITHM_IDENTIFIER,\n                            longDate,\n                            scope,\n                            priorSignature,\n                            hashedHeaders,\n                            hashedPayload,\n                        ].join(\"\\n\");\n                        return [2 /*return*/, this.signString(stringToSign, { signingDate: signingDate, signingRegion: region, signingService: signingService })];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.signString = function (stringToSign, _a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.signingDate, signingDate = _c === void 0 ? new Date() : _c, signingRegion = _b.signingRegion, signingService = _b.signingService;\n        return __awaiter(this, void 0, void 0, function () {\n            var credentials, region, _d, shortDate, hash, _e, _f, _g;\n            return __generator(this, function (_h) {\n                switch (_h.label) {\n                    case 0: return [4 /*yield*/, this.credentialProvider()];\n                    case 1:\n                        credentials = _h.sent();\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 2];\n                        _d = signingRegion;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.regionProvider()];\n                    case 3:\n                        _d = (_h.sent());\n                        _h.label = 4;\n                    case 4:\n                        region = _d;\n                        shortDate = formatDate(signingDate).shortDate;\n                        _f = (_e = this.sha256).bind;\n                        return [4 /*yield*/, this.getSigningKey(credentials, region, shortDate, signingService)];\n                    case 5:\n                        hash = new (_f.apply(_e, [void 0, _h.sent()]))();\n                        hash.update(stringToSign);\n                        _g = toHex;\n                        return [4 /*yield*/, hash.digest()];\n                    case 6: return [2 /*return*/, _g.apply(void 0, [_h.sent()])];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.signRequest = function (requestToSign, _a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.signingDate, signingDate = _c === void 0 ? new Date() : _c, signableHeaders = _b.signableHeaders, unsignableHeaders = _b.unsignableHeaders, signingRegion = _b.signingRegion, signingService = _b.signingService;\n        return __awaiter(this, void 0, void 0, function () {\n            var credentials, region, _d, request, _e, longDate, shortDate, scope, payloadHash, canonicalHeaders, signature;\n            return __generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0: return [4 /*yield*/, this.credentialProvider()];\n                    case 1:\n                        credentials = _f.sent();\n                        if (!(signingRegion !== null && signingRegion !== void 0)) return [3 /*break*/, 2];\n                        _d = signingRegion;\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.regionProvider()];\n                    case 3:\n                        _d = (_f.sent());\n                        _f.label = 4;\n                    case 4:\n                        region = _d;\n                        request = prepareRequest(requestToSign);\n                        _e = formatDate(signingDate), longDate = _e.longDate, shortDate = _e.shortDate;\n                        scope = createScope(shortDate, region, signingService !== null && signingService !== void 0 ? signingService : this.service);\n                        request.headers[AMZ_DATE_HEADER] = longDate;\n                        if (credentials.sessionToken) {\n                            request.headers[TOKEN_HEADER] = credentials.sessionToken;\n                        }\n                        return [4 /*yield*/, getPayloadHash(request, this.sha256)];\n                    case 5:\n                        payloadHash = _f.sent();\n                        if (!hasHeader(SHA256_HEADER, request.headers) && this.applyChecksum) {\n                            request.headers[SHA256_HEADER] = payloadHash;\n                        }\n                        canonicalHeaders = getCanonicalHeaders(request, unsignableHeaders, signableHeaders);\n                        return [4 /*yield*/, this.getSignature(longDate, scope, this.getSigningKey(credentials, region, shortDate, signingService), this.createCanonicalRequest(request, canonicalHeaders, payloadHash))];\n                    case 6:\n                        signature = _f.sent();\n                        request.headers[AUTH_HEADER] =\n                            ALGORITHM_IDENTIFIER + \" \" +\n                                (\"Credential=\" + credentials.accessKeyId + \"/\" + scope + \", \") +\n                                (\"SignedHeaders=\" + getCanonicalHeaderList(canonicalHeaders) + \", \") +\n                                (\"Signature=\" + signature);\n                        return [2 /*return*/, request];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.createCanonicalRequest = function (request, canonicalHeaders, payloadHash) {\n        var sortedHeaders = Object.keys(canonicalHeaders).sort();\n        return request.method + \"\\n\" + this.getCanonicalPath(request) + \"\\n\" + getCanonicalQuery(request) + \"\\n\" + sortedHeaders.map(function (name) { return name + \":\" + canonicalHeaders[name]; }).join(\"\\n\") + \"\\n\\n\" + sortedHeaders.join(\";\") + \"\\n\" + payloadHash;\n    };\n    SignatureV4.prototype.createStringToSign = function (longDate, credentialScope, canonicalRequest) {\n        return __awaiter(this, void 0, void 0, function () {\n            var hash, hashedRequest;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        hash = new this.sha256();\n                        hash.update(canonicalRequest);\n                        return [4 /*yield*/, hash.digest()];\n                    case 1:\n                        hashedRequest = _a.sent();\n                        return [2 /*return*/, ALGORITHM_IDENTIFIER + \"\\n\" + longDate + \"\\n\" + credentialScope + \"\\n\" + toHex(hashedRequest)];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.getCanonicalPath = function (_a) {\n        var path = _a.path;\n        if (this.uriEscapePath) {\n            var doubleEncoded = encodeURIComponent(path.replace(/^\\//, \"\"));\n            return \"/\" + doubleEncoded.replace(/%2F/g, \"/\");\n        }\n        return path;\n    };\n    SignatureV4.prototype.getSignature = function (longDate, credentialScope, keyPromise, canonicalRequest) {\n        return __awaiter(this, void 0, void 0, function () {\n            var stringToSign, hash, _a, _b, _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0: return [4 /*yield*/, this.createStringToSign(longDate, credentialScope, canonicalRequest)];\n                    case 1:\n                        stringToSign = _d.sent();\n                        _b = (_a = this.sha256).bind;\n                        return [4 /*yield*/, keyPromise];\n                    case 2:\n                        hash = new (_b.apply(_a, [void 0, _d.sent()]))();\n                        hash.update(stringToSign);\n                        _c = toHex;\n                        return [4 /*yield*/, hash.digest()];\n                    case 3: return [2 /*return*/, _c.apply(void 0, [_d.sent()])];\n                }\n            });\n        });\n    };\n    SignatureV4.prototype.getSigningKey = function (credentials, region, shortDate, service) {\n        return getSigningKey(this.sha256, credentials, shortDate, region, service || this.service);\n    };\n    return SignatureV4;\n}());\nexport { SignatureV4 };\nvar formatDate = function (now) {\n    var longDate = iso8601(now).replace(/[\\-:]/g, \"\");\n    return {\n        longDate: longDate,\n        shortDate: longDate.substr(0, 8),\n    };\n};\nvar getCanonicalHeaderList = function (headers) { return Object.keys(headers).sort().join(\";\"); };\nvar normalizeRegionProvider = function (region) {\n    if (typeof region === \"string\") {\n        var promisified_1 = Promise.resolve(region);\n        return function () { return promisified_1; };\n    }\n    else {\n        return region;\n    }\n};\nvar normalizeCredentialsProvider = function (credentials) {\n    if (typeof credentials === \"object\") {\n        var promisified_2 = Promise.resolve(credentials);\n        return function () { return promisified_2; };\n    }\n    else {\n        return credentials;\n    }\n};\n//# sourceMappingURL=SignatureV4.js.map","import { __assign, __values } from \"tslib\";\nimport { cloneRequest } from \"./cloneRequest\";\n/**\n * @internal\n */\nexport function moveHeadersToQuery(request) {\n    var e_1, _a;\n    var _b = typeof request.clone === \"function\" ? request.clone() : cloneRequest(request), headers = _b.headers, _c = _b.query, query = _c === void 0 ? {} : _c;\n    try {\n        for (var _d = __values(Object.keys(headers)), _e = _d.next(); !_e.done; _e = _d.next()) {\n            var name = _e.value;\n            var lname = name.toLowerCase();\n            if (lname.substr(0, 6) === \"x-amz-\") {\n                query[name] = headers[name];\n                delete headers[name];\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return __assign(__assign({}, request), { headers: headers,\n        query: query });\n}\n//# sourceMappingURL=moveHeadersToQuery.js.map","import { __values } from \"tslib\";\nexport function hasHeader(soughtHeader, headers) {\n    var e_1, _a;\n    soughtHeader = soughtHeader.toLowerCase();\n    try {\n        for (var _b = __values(Object.keys(headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var headerName = _c.value;\n            if (soughtHeader === headerName.toLowerCase()) {\n                return true;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return false;\n}\n//# sourceMappingURL=hasHeader.js.map","import { __values } from \"tslib\";\nimport { escapeUri } from \"@aws-sdk/util-uri-escape\";\nimport { SIGNATURE_HEADER } from \"./constants\";\n/**\n * @internal\n */\nexport function getCanonicalQuery(_a) {\n    var e_1, _b;\n    var _c = _a.query, query = _c === void 0 ? {} : _c;\n    var keys = [];\n    var serialized = {};\n    var _loop_1 = function (key) {\n        if (key.toLowerCase() === SIGNATURE_HEADER) {\n            return \"continue\";\n        }\n        keys.push(key);\n        var value = query[key];\n        if (typeof value === \"string\") {\n            serialized[key] = escapeUri(key) + \"=\" + escapeUri(value);\n        }\n        else if (Array.isArray(value)) {\n            serialized[key] = value\n                .slice(0)\n                .sort()\n                .reduce(function (encoded, value) { return encoded.concat([escapeUri(key) + \"=\" + escapeUri(value)]); }, [])\n                .join(\"&\");\n        }\n    };\n    try {\n        for (var _d = __values(Object.keys(query).sort()), _e = _d.next(); !_e.done; _e = _d.next()) {\n            var key = _e.value;\n            _loop_1(key);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_e && !_e.done && (_b = _d.return)) _b.call(_d);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return keys\n        .map(function (key) { return serialized[key]; })\n        .filter(function (serialized) { return serialized; }) // omit any falsy values\n        .join(\"&\");\n}\n//# sourceMappingURL=getCanonicalQuery.js.map","import { __assign, __awaiter, __generator, __read } from \"tslib\";\nimport { SignatureV4 } from \"@aws-sdk/signature-v4\";\nexport function resolveAwsAuthConfig(input) {\n    var _this = this;\n    var credentials = input.credentials || input.credentialDefaultProvider(input);\n    var normalizedCreds = normalizeProvider(credentials);\n    var _a = input.signingEscapePath, signingEscapePath = _a === void 0 ? true : _a, _b = input.systemClockOffset, systemClockOffset = _b === void 0 ? input.systemClockOffset || 0 : _b, sha256 = input.sha256;\n    var signer;\n    if (input.signer) {\n        //if signer is supplied by user, normalize it to a function returning a promise for signer.\n        signer = normalizeProvider(input.signer);\n    }\n    else {\n        //construct a provider inferring signing from region.\n        signer = function () {\n            return normalizeProvider(input.region)()\n                .then(function (region) { return __awaiter(_this, void 0, void 0, function () { return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, input.regionInfoProvider(region)];\n                    case 1: return [2 /*return*/, [(_a.sent()) || {}, region]];\n                }\n            }); }); })\n                .then(function (_a) {\n                var _b = __read(_a, 2), regionInfo = _b[0], region = _b[1];\n                var _c = regionInfo.signingRegion, signingRegion = _c === void 0 ? input.signingRegion : _c, _d = regionInfo.signingService, signingService = _d === void 0 ? input.signingName : _d;\n                //update client's singing region and signing service config if they are resolved.\n                //signing region resolving order: user supplied signingRegion -> endpoints.json inferred region -> client region\n                input.signingRegion = input.signingRegion || signingRegion || region;\n                input.signingName = input.signingName || signingService;\n                return new SignatureV4({\n                    credentials: normalizedCreds,\n                    region: input.signingRegion,\n                    service: input.signingName,\n                    sha256: sha256,\n                    uriEscapePath: signingEscapePath,\n                });\n            });\n        };\n    }\n    return __assign(__assign({}, input), { systemClockOffset: systemClockOffset,\n        signingEscapePath: signingEscapePath, credentials: normalizedCreds, signer: signer });\n}\nfunction normalizeProvider(input) {\n    if (typeof input === \"object\") {\n        var promisified_1 = Promise.resolve(input);\n        return function () { return promisified_1; };\n    }\n    return input;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY29uZmlndXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQTJDcEQsTUFBTSxVQUFVLG9CQUFvQixDQUFJLEtBQWtEO0lBQTFGLGlCQXFDQztJQXBDQyxJQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsV0FBVyxJQUFJLEtBQUssQ0FBQyx5QkFBeUIsQ0FBQyxLQUFZLENBQUMsQ0FBQztJQUN2RixJQUFNLGVBQWUsR0FBRyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMvQyxJQUFBLEtBQXVGLEtBQUssa0JBQXBFLEVBQXhCLGlCQUFpQixtQkFBRyxJQUFJLEtBQUEsRUFBRSxLQUE2RCxLQUFLLGtCQUFsQixFQUFoRCxpQkFBaUIsbUJBQUcsS0FBSyxDQUFDLGlCQUFpQixJQUFJLENBQUMsS0FBQSxFQUFFLE1BQU0sR0FBSyxLQUFLLE9BQVYsQ0FBVztJQUNyRyxJQUFJLE1BQStCLENBQUM7SUFDcEMsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFO1FBQ2hCLDJGQUEyRjtRQUMzRixNQUFNLEdBQUcsaUJBQWlCLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0tBQzFDO1NBQU07UUFDTCxxREFBcUQ7UUFDckQsTUFBTSxHQUFHO1lBQ1AsT0FBQSxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUU7aUJBQzlCLElBQUksQ0FBQyxVQUFPLE1BQU07OzRCQUFPLHFCQUFNLEtBQUssQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsRUFBQTs0QkFBeEMsc0JBQUEsQ0FBQyxDQUFDLFNBQXNDLENBQUMsSUFBSSxFQUFFLEVBQUUsTUFBTSxDQUF5QixFQUFBOztxQkFBQSxDQUFDO2lCQUN4RyxJQUFJLENBQUMsVUFBQyxFQUFvQjtvQkFBcEIsS0FBQSxhQUFvQixFQUFuQixVQUFVLFFBQUEsRUFBRSxNQUFNLFFBQUE7Z0JBQ2hCLElBQUEsS0FBNEUsVUFBVSxjQUFuRCxFQUFuQyxhQUFhLG1CQUFHLEtBQUssQ0FBQyxhQUFhLEtBQUEsRUFBRSxLQUF1QyxVQUFVLGVBQWYsRUFBbEMsY0FBYyxtQkFBRyxLQUFLLENBQUMsV0FBVyxLQUFBLENBQWdCO2dCQUMvRixpRkFBaUY7Z0JBQ2pGLGdIQUFnSDtnQkFDaEgsS0FBSyxDQUFDLGFBQWEsR0FBRyxLQUFLLENBQUMsYUFBYSxJQUFJLGFBQWEsSUFBSSxNQUFNLENBQUM7Z0JBQ3JFLEtBQUssQ0FBQyxXQUFXLEdBQUcsS0FBSyxDQUFDLFdBQVcsSUFBSSxjQUFjLENBQUM7Z0JBRXhELE9BQU8sSUFBSSxXQUFXLENBQUM7b0JBQ3JCLFdBQVcsRUFBRSxlQUFlO29CQUM1QixNQUFNLEVBQUUsS0FBSyxDQUFDLGFBQWE7b0JBQzNCLE9BQU8sRUFBRSxLQUFLLENBQUMsV0FBVztvQkFDMUIsTUFBTSxRQUFBO29CQUNOLGFBQWEsRUFBRSxpQkFBaUI7aUJBQ2pDLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQztRQWhCSixDQWdCSSxDQUFDO0tBQ1I7SUFFRCw2QkFDSyxLQUFLLEtBQ1IsaUJBQWlCLG1CQUFBO1FBQ2pCLGlCQUFpQixtQkFBQSxFQUNqQixXQUFXLEVBQUUsZUFBZSxFQUM1QixNQUFNLFFBQUEsSUFDTjtBQUNKLENBQUM7QUFFRCxTQUFTLGlCQUFpQixDQUFJLEtBQXNCO0lBQ2xELElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO1FBQzdCLElBQU0sYUFBVyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0MsT0FBTyxjQUFNLE9BQUEsYUFBVyxFQUFYLENBQVcsQ0FBQztLQUMxQjtJQUNELE9BQU8sS0FBb0IsQ0FBQztBQUM5QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU2lnbmF0dXJlVjQgfSBmcm9tIFwiQGF3cy1zZGsvc2lnbmF0dXJlLXY0XCI7XG5pbXBvcnQgeyBDcmVkZW50aWFscywgSGFzaENvbnN0cnVjdG9yLCBQcm92aWRlciwgUmVnaW9uSW5mbywgUmVnaW9uSW5mb1Byb3ZpZGVyLCBSZXF1ZXN0U2lnbmVyIH0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXdzQXV0aElucHV0Q29uZmlnIHtcbiAgLyoqXG4gICAqIFRoZSBjcmVkZW50aWFscyB1c2VkIHRvIHNpZ24gcmVxdWVzdHMuXG4gICAqL1xuICBjcmVkZW50aWFscz86IENyZWRlbnRpYWxzIHwgUHJvdmlkZXI8Q3JlZGVudGlhbHM+O1xuXG4gIC8qKlxuICAgKiBUaGUgc2lnbmVyIHRvIHVzZSB3aGVuIHNpZ25pbmcgcmVxdWVzdHMuXG4gICAqL1xuICBzaWduZXI/OiBSZXF1ZXN0U2lnbmVyIHwgUHJvdmlkZXI8UmVxdWVzdFNpZ25lcj47XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZXNjYXBlIHJlcXVlc3QgcGF0aCB3aGVuIHNpZ25pbmcgdGhlIHJlcXVlc3QuXG4gICAqL1xuICBzaWduaW5nRXNjYXBlUGF0aD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEFuIG9mZnNldCB2YWx1ZSBpbiBtaWxsaXNlY29uZHMgdG8gYXBwbHkgdG8gYWxsIHNpZ25pbmcgdGltZXMuXG4gICAqL1xuICBzeXN0ZW1DbG9ja09mZnNldD86IG51bWJlcjtcblxuICAvKipcbiAgICogVGhlIHJlZ2lvbiB3aGVyZSB5b3Ugd2FudCB0byBzaWduIHlvdXIgcmVxdWVzdCBhZ2FpbnN0LiBUaGlzXG4gICAqIGNhbiBiZSBkaWZmZXJlbnQgdG8gdGhlIHJlZ2lvbiBpbiB0aGUgZW5kcG9pbnQuXG4gICAqL1xuICBzaWduaW5nUmVnaW9uPzogc3RyaW5nO1xufVxuaW50ZXJmYWNlIFByZXZpb3VzbHlSZXNvbHZlZCB7XG4gIGNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXI6IChpbnB1dDogYW55KSA9PiBQcm92aWRlcjxDcmVkZW50aWFscz47XG4gIHJlZ2lvbjogc3RyaW5nIHwgUHJvdmlkZXI8c3RyaW5nPjtcbiAgcmVnaW9uSW5mb1Byb3ZpZGVyOiBSZWdpb25JbmZvUHJvdmlkZXI7XG4gIHNpZ25pbmdOYW1lOiBzdHJpbmc7XG4gIHNoYTI1NjogSGFzaENvbnN0cnVjdG9yO1xufVxuZXhwb3J0IGludGVyZmFjZSBBd3NBdXRoUmVzb2x2ZWRDb25maWcge1xuICBjcmVkZW50aWFsczogUHJvdmlkZXI8Q3JlZGVudGlhbHM+O1xuICBzaWduZXI6IFByb3ZpZGVyPFJlcXVlc3RTaWduZXI+O1xuICBzaWduaW5nRXNjYXBlUGF0aDogYm9vbGVhbjtcbiAgc3lzdGVtQ2xvY2tPZmZzZXQ6IG51bWJlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlQXdzQXV0aENvbmZpZzxUPihpbnB1dDogVCAmIEF3c0F1dGhJbnB1dENvbmZpZyAmIFByZXZpb3VzbHlSZXNvbHZlZCk6IFQgJiBBd3NBdXRoUmVzb2x2ZWRDb25maWcge1xuICBjb25zdCBjcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzIHx8IGlucHV0LmNyZWRlbnRpYWxEZWZhdWx0UHJvdmlkZXIoaW5wdXQgYXMgYW55KTtcbiAgY29uc3Qgbm9ybWFsaXplZENyZWRzID0gbm9ybWFsaXplUHJvdmlkZXIoY3JlZGVudGlhbHMpO1xuICBjb25zdCB7IHNpZ25pbmdFc2NhcGVQYXRoID0gdHJ1ZSwgc3lzdGVtQ2xvY2tPZmZzZXQgPSBpbnB1dC5zeXN0ZW1DbG9ja09mZnNldCB8fCAwLCBzaGEyNTYgfSA9IGlucHV0O1xuICBsZXQgc2lnbmVyOiBQcm92aWRlcjxSZXF1ZXN0U2lnbmVyPjtcbiAgaWYgKGlucHV0LnNpZ25lcikge1xuICAgIC8vaWYgc2lnbmVyIGlzIHN1cHBsaWVkIGJ5IHVzZXIsIG5vcm1hbGl6ZSBpdCB0byBhIGZ1bmN0aW9uIHJldHVybmluZyBhIHByb21pc2UgZm9yIHNpZ25lci5cbiAgICBzaWduZXIgPSBub3JtYWxpemVQcm92aWRlcihpbnB1dC5zaWduZXIpO1xuICB9IGVsc2Uge1xuICAgIC8vY29uc3RydWN0IGEgcHJvdmlkZXIgaW5mZXJyaW5nIHNpZ25pbmcgZnJvbSByZWdpb24uXG4gICAgc2lnbmVyID0gKCkgPT5cbiAgICAgIG5vcm1hbGl6ZVByb3ZpZGVyKGlucHV0LnJlZ2lvbikoKVxuICAgICAgICAudGhlbihhc3luYyAocmVnaW9uKSA9PiBbKGF3YWl0IGlucHV0LnJlZ2lvbkluZm9Qcm92aWRlcihyZWdpb24pKSB8fCB7fSwgcmVnaW9uXSBhcyBbUmVnaW9uSW5mbywgc3RyaW5nXSlcbiAgICAgICAgLnRoZW4oKFtyZWdpb25JbmZvLCByZWdpb25dKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBzaWduaW5nUmVnaW9uID0gaW5wdXQuc2lnbmluZ1JlZ2lvbiwgc2lnbmluZ1NlcnZpY2UgPSBpbnB1dC5zaWduaW5nTmFtZSB9ID0gcmVnaW9uSW5mbztcbiAgICAgICAgICAvL3VwZGF0ZSBjbGllbnQncyBzaW5naW5nIHJlZ2lvbiBhbmQgc2lnbmluZyBzZXJ2aWNlIGNvbmZpZyBpZiB0aGV5IGFyZSByZXNvbHZlZC5cbiAgICAgICAgICAvL3NpZ25pbmcgcmVnaW9uIHJlc29sdmluZyBvcmRlcjogdXNlciBzdXBwbGllZCBzaWduaW5nUmVnaW9uIC0+IGVuZHBvaW50cy5qc29uIGluZmVycmVkIHJlZ2lvbiAtPiBjbGllbnQgcmVnaW9uXG4gICAgICAgICAgaW5wdXQuc2lnbmluZ1JlZ2lvbiA9IGlucHV0LnNpZ25pbmdSZWdpb24gfHwgc2lnbmluZ1JlZ2lvbiB8fCByZWdpb247XG4gICAgICAgICAgaW5wdXQuc2lnbmluZ05hbWUgPSBpbnB1dC5zaWduaW5nTmFtZSB8fCBzaWduaW5nU2VydmljZTtcblxuICAgICAgICAgIHJldHVybiBuZXcgU2lnbmF0dXJlVjQoe1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6IG5vcm1hbGl6ZWRDcmVkcyxcbiAgICAgICAgICAgIHJlZ2lvbjogaW5wdXQuc2lnbmluZ1JlZ2lvbixcbiAgICAgICAgICAgIHNlcnZpY2U6IGlucHV0LnNpZ25pbmdOYW1lLFxuICAgICAgICAgICAgc2hhMjU2LFxuICAgICAgICAgICAgdXJpRXNjYXBlUGF0aDogc2lnbmluZ0VzY2FwZVBhdGgsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICAuLi5pbnB1dCxcbiAgICBzeXN0ZW1DbG9ja09mZnNldCxcbiAgICBzaWduaW5nRXNjYXBlUGF0aCxcbiAgICBjcmVkZW50aWFsczogbm9ybWFsaXplZENyZWRzLFxuICAgIHNpZ25lcixcbiAgfTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplUHJvdmlkZXI8VD4oaW5wdXQ6IFQgfCBQcm92aWRlcjxUPik6IFByb3ZpZGVyPFQ+IHtcbiAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJvYmplY3RcIikge1xuICAgIGNvbnN0IHByb21pc2lmaWVkID0gUHJvbWlzZS5yZXNvbHZlKGlucHV0KTtcbiAgICByZXR1cm4gKCkgPT4gcHJvbWlzaWZpZWQ7XG4gIH1cbiAgcmV0dXJuIGlucHV0IGFzIFByb3ZpZGVyPFQ+O1xufVxuIl19","import { __assign, __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nvar isClockSkewed = function (newServerTime, systemClockOffset) {\n    return Math.abs(getSkewCorrectedDate(systemClockOffset).getTime() - newServerTime) >= 300000;\n};\nvar getSkewCorrectedDate = function (systemClockOffset) { return new Date(Date.now() + systemClockOffset); };\nexport function awsAuthMiddleware(options) {\n    return function (next, context) {\n        return function (args) {\n            return __awaiter(this, void 0, void 0, function () {\n                var signer, _a, output, _b, _c, headers, dateHeader, serverTime;\n                var _d;\n                return __generator(this, function (_e) {\n                    switch (_e.label) {\n                        case 0:\n                            if (!HttpRequest.isInstance(args.request))\n                                return [2 /*return*/, next(args)];\n                            if (!(typeof options.signer === \"function\")) return [3 /*break*/, 2];\n                            return [4 /*yield*/, options.signer()];\n                        case 1:\n                            _a = _e.sent();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            _a = options.signer;\n                            _e.label = 3;\n                        case 3:\n                            signer = _a;\n                            _b = next;\n                            _c = [__assign({}, args)];\n                            _d = {};\n                            return [4 /*yield*/, signer.sign(args.request, {\n                                    signingDate: new Date(Date.now() + options.systemClockOffset),\n                                    signingRegion: context[\"signing_region\"],\n                                    signingService: context[\"signing_service\"],\n                                })];\n                        case 4: return [4 /*yield*/, _b.apply(void 0, [__assign.apply(void 0, _c.concat([(_d.request = _e.sent(), _d)]))])];\n                        case 5:\n                            output = _e.sent();\n                            headers = output.response.headers;\n                            dateHeader = headers && (headers.date || headers.Date);\n                            if (dateHeader) {\n                                serverTime = Date.parse(dateHeader);\n                                if (isClockSkewed(serverTime, options.systemClockOffset)) {\n                                    options.systemClockOffset = serverTime - Date.now();\n                                }\n                            }\n                            return [2 /*return*/, output];\n                    }\n                });\n            });\n        };\n    };\n}\nexport var awsAuthMiddlewareOptions = {\n    name: \"awsAuthMiddleware\",\n    tags: [\"SIGNATURE\", \"AWSAUTH\"],\n    relation: \"after\",\n    toMiddleware: \"retryMiddleware\",\n};\nexport var getAwsAuthPlugin = function (options) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.addRelativeTo(awsAuthMiddleware(options), awsAuthMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taWRkbGV3YXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFhckQsSUFBTSxhQUFhLEdBQUcsVUFBQyxhQUFxQixFQUFFLGlCQUF5QjtJQUNyRSxPQUFBLElBQUksQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxPQUFPLEVBQUUsR0FBRyxhQUFhLENBQUMsSUFBSSxNQUFNO0FBQXJGLENBQXFGLENBQUM7QUFFeEYsSUFBTSxvQkFBb0IsR0FBRyxVQUFDLGlCQUF5QixJQUFLLE9BQUEsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLGlCQUFpQixDQUFDLEVBQXhDLENBQXdDLENBQUM7QUFFckcsTUFBTSxVQUFVLGlCQUFpQixDQUMvQixPQUE4QjtJQUU5QixPQUFPLFVBQUMsSUFBb0MsRUFBRSxPQUFnQztRQUM1RSxPQUFBLFVBQWdCLElBQXFDOzs7Ozs7OzRCQUNuRCxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDO2dDQUFFLHNCQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQztpQ0FDOUMsQ0FBQSxPQUFPLE9BQU8sQ0FBQyxNQUFNLEtBQUssVUFBVSxDQUFBLEVBQXBDLHdCQUFvQzs0QkFBRyxxQkFBTSxPQUFPLENBQUMsTUFBTSxFQUFFLEVBQUE7OzRCQUF0QixLQUFBLFNBQXNCLENBQUE7Ozs0QkFBRyxLQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUE7Ozs0QkFBdkYsTUFBTSxLQUFpRjs0QkFDeEUsS0FBQSxJQUFJLENBQUE7K0NBQ3BCLElBQUk7OzRCQUNFLHFCQUFNLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRTtvQ0FDdkMsV0FBVyxFQUFFLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUM7b0NBQzdELGFBQWEsRUFBRSxPQUFPLENBQUMsZ0JBQWdCLENBQUM7b0NBQ3hDLGNBQWMsRUFBRSxPQUFPLENBQUMsaUJBQWlCLENBQUM7aUNBQzNDLENBQUMsRUFBQTtnQ0FOVyxxQkFBTSxxREFFbkIsVUFBTyxHQUFFLFNBSVAsVUFDRixFQUFBOzs0QkFQSSxNQUFNLEdBQUcsU0FPYjs0QkFFTSxPQUFPLEdBQUssTUFBTSxDQUFDLFFBQWUsUUFBM0IsQ0FBNEI7NEJBQ3JDLFVBQVUsR0FBRyxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQzs0QkFDN0QsSUFBSSxVQUFVLEVBQUU7Z0NBQ1IsVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7Z0NBQzFDLElBQUksYUFBYSxDQUFDLFVBQVUsRUFBRSxPQUFPLENBQUMsaUJBQWlCLENBQUMsRUFBRTtvQ0FDeEQsT0FBTyxDQUFDLGlCQUFpQixHQUFHLFVBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7aUNBQ3JEOzZCQUNGOzRCQUVELHNCQUFPLE1BQU0sRUFBQzs7OztTQUNmO0lBdEJELENBc0JDLENBQUM7QUFDTixDQUFDO0FBRUQsTUFBTSxDQUFDLElBQU0sd0JBQXdCLEdBQThCO0lBQ2pFLElBQUksRUFBRSxtQkFBbUI7SUFDekIsSUFBSSxFQUFFLENBQUMsV0FBVyxFQUFFLFNBQVMsQ0FBQztJQUM5QixRQUFRLEVBQUUsT0FBTztJQUNqQixZQUFZLEVBQUUsaUJBQWlCO0NBQ2hDLENBQUM7QUFFRixNQUFNLENBQUMsSUFBTSxnQkFBZ0IsR0FBRyxVQUFDLE9BQThCLElBQTBCLE9BQUEsQ0FBQztJQUN4RixZQUFZLEVBQUUsVUFBQyxXQUFXO1FBQ3hCLFdBQVcsQ0FBQyxhQUFhLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLEVBQUUsd0JBQXdCLENBQUMsQ0FBQztJQUNsRixDQUFDO0NBQ0YsQ0FBQyxFQUp1RixDQUl2RixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cFJlcXVlc3QgfSBmcm9tIFwiQGF3cy1zZGsvcHJvdG9jb2wtaHR0cFwiO1xuaW1wb3J0IHtcbiAgRmluYWxpemVIYW5kbGVyLFxuICBGaW5hbGl6ZUhhbmRsZXJBcmd1bWVudHMsXG4gIEZpbmFsaXplSGFuZGxlck91dHB1dCxcbiAgRmluYWxpemVSZXF1ZXN0TWlkZGxld2FyZSxcbiAgSGFuZGxlckV4ZWN1dGlvbkNvbnRleHQsXG4gIFBsdWdnYWJsZSxcbiAgUmVsYXRpdmVNaWRkbGV3YXJlT3B0aW9ucyxcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmltcG9ydCB7IEF3c0F1dGhSZXNvbHZlZENvbmZpZyB9IGZyb20gXCIuL2NvbmZpZ3VyYXRpb25zXCI7XG5cbmNvbnN0IGlzQ2xvY2tTa2V3ZWQgPSAobmV3U2VydmVyVGltZTogbnVtYmVyLCBzeXN0ZW1DbG9ja09mZnNldDogbnVtYmVyKSA9PlxuICBNYXRoLmFicyhnZXRTa2V3Q29ycmVjdGVkRGF0ZShzeXN0ZW1DbG9ja09mZnNldCkuZ2V0VGltZSgpIC0gbmV3U2VydmVyVGltZSkgPj0gMzAwMDAwO1xuXG5jb25zdCBnZXRTa2V3Q29ycmVjdGVkRGF0ZSA9IChzeXN0ZW1DbG9ja09mZnNldDogbnVtYmVyKSA9PiBuZXcgRGF0ZShEYXRlLm5vdygpICsgc3lzdGVtQ2xvY2tPZmZzZXQpO1xuXG5leHBvcnQgZnVuY3Rpb24gYXdzQXV0aE1pZGRsZXdhcmU8SW5wdXQgZXh0ZW5kcyBvYmplY3QsIE91dHB1dCBleHRlbmRzIG9iamVjdD4oXG4gIG9wdGlvbnM6IEF3c0F1dGhSZXNvbHZlZENvbmZpZ1xuKTogRmluYWxpemVSZXF1ZXN0TWlkZGxld2FyZTxJbnB1dCwgT3V0cHV0PiB7XG4gIHJldHVybiAobmV4dDogRmluYWxpemVIYW5kbGVyPElucHV0LCBPdXRwdXQ+LCBjb250ZXh0OiBIYW5kbGVyRXhlY3V0aW9uQ29udGV4dCk6IEZpbmFsaXplSGFuZGxlcjxJbnB1dCwgT3V0cHV0PiA9PlxuICAgIGFzeW5jIGZ1bmN0aW9uIChhcmdzOiBGaW5hbGl6ZUhhbmRsZXJBcmd1bWVudHM8SW5wdXQ+KTogUHJvbWlzZTxGaW5hbGl6ZUhhbmRsZXJPdXRwdXQ8T3V0cHV0Pj4ge1xuICAgICAgaWYgKCFIdHRwUmVxdWVzdC5pc0luc3RhbmNlKGFyZ3MucmVxdWVzdCkpIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgY29uc3Qgc2lnbmVyID0gdHlwZW9mIG9wdGlvbnMuc2lnbmVyID09PSBcImZ1bmN0aW9uXCIgPyBhd2FpdCBvcHRpb25zLnNpZ25lcigpIDogb3B0aW9ucy5zaWduZXI7XG4gICAgICBjb25zdCBvdXRwdXQgPSBhd2FpdCBuZXh0KHtcbiAgICAgICAgLi4uYXJncyxcbiAgICAgICAgcmVxdWVzdDogYXdhaXQgc2lnbmVyLnNpZ24oYXJncy5yZXF1ZXN0LCB7XG4gICAgICAgICAgc2lnbmluZ0RhdGU6IG5ldyBEYXRlKERhdGUubm93KCkgKyBvcHRpb25zLnN5c3RlbUNsb2NrT2Zmc2V0KSxcbiAgICAgICAgICBzaWduaW5nUmVnaW9uOiBjb250ZXh0W1wic2lnbmluZ19yZWdpb25cIl0sXG4gICAgICAgICAgc2lnbmluZ1NlcnZpY2U6IGNvbnRleHRbXCJzaWduaW5nX3NlcnZpY2VcIl0sXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgaGVhZGVycyB9ID0gb3V0cHV0LnJlc3BvbnNlIGFzIGFueTtcbiAgICAgIGNvbnN0IGRhdGVIZWFkZXIgPSBoZWFkZXJzICYmIChoZWFkZXJzLmRhdGUgfHwgaGVhZGVycy5EYXRlKTtcbiAgICAgIGlmIChkYXRlSGVhZGVyKSB7XG4gICAgICAgIGNvbnN0IHNlcnZlclRpbWUgPSBEYXRlLnBhcnNlKGRhdGVIZWFkZXIpO1xuICAgICAgICBpZiAoaXNDbG9ja1NrZXdlZChzZXJ2ZXJUaW1lLCBvcHRpb25zLnN5c3RlbUNsb2NrT2Zmc2V0KSkge1xuICAgICAgICAgIG9wdGlvbnMuc3lzdGVtQ2xvY2tPZmZzZXQgPSBzZXJ2ZXJUaW1lIC0gRGF0ZS5ub3coKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG59XG5cbmV4cG9ydCBjb25zdCBhd3NBdXRoTWlkZGxld2FyZU9wdGlvbnM6IFJlbGF0aXZlTWlkZGxld2FyZU9wdGlvbnMgPSB7XG4gIG5hbWU6IFwiYXdzQXV0aE1pZGRsZXdhcmVcIixcbiAgdGFnczogW1wiU0lHTkFUVVJFXCIsIFwiQVdTQVVUSFwiXSxcbiAgcmVsYXRpb246IFwiYWZ0ZXJcIixcbiAgdG9NaWRkbGV3YXJlOiBcInJldHJ5TWlkZGxld2FyZVwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGdldEF3c0F1dGhQbHVnaW4gPSAob3B0aW9uczogQXdzQXV0aFJlc29sdmVkQ29uZmlnKTogUGx1Z2dhYmxlPGFueSwgYW55PiA9PiAoe1xuICBhcHBseVRvU3RhY2s6IChjbGllbnRTdGFjaykgPT4ge1xuICAgIGNsaWVudFN0YWNrLmFkZFJlbGF0aXZlVG8oYXdzQXV0aE1pZGRsZXdhcmUob3B0aW9ucyksIGF3c0F1dGhNaWRkbGV3YXJlT3B0aW9ucyk7XG4gIH0sXG59KTtcbiJdfQ==","import { __assign } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nexport function userAgentMiddleware(options) {\n    return function (next) { return function (args) {\n        var request = args.request;\n        if (!HttpRequest.isInstance(request))\n            return next(args);\n        var headers = request.headers;\n        var userAgentHeader = options.runtime === \"node\" ? \"user-agent\" : \"x-amz-user-agent\";\n        if (!headers[userAgentHeader]) {\n            headers[userAgentHeader] = \"\" + options.defaultUserAgent;\n        }\n        else {\n            headers[userAgentHeader] += \" \" + options.defaultUserAgent;\n        }\n        if (options.customUserAgent) {\n            headers[userAgentHeader] += \" \" + options.customUserAgent;\n        }\n        return next(__assign(__assign({}, args), { request: request }));\n    }; };\n}\nexport var getUserAgentMiddlewareOptions = {\n    name: \"getUserAgentMiddleware\",\n    step: \"build\",\n    tags: [\"SET_USER_AGENT\", \"USER_AGENT\"],\n};\nexport var getUserAgentPlugin = function (config) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(userAgentMiddleware(config), getUserAgentMiddlewareOptions);\n    },\n}); };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taWRkbGV3YXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFZckQsTUFBTSxVQUFVLG1CQUFtQixDQUFDLE9BQWdDO0lBQ2xFLE9BQU8sVUFBZ0MsSUFBNEIsSUFBNkIsT0FBQSxVQUM5RixJQUFnQztRQUV4QixJQUFBLE9BQU8sR0FBSyxJQUFJLFFBQVQsQ0FBVTtRQUN6QixJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUM7WUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNoRCxJQUFBLE9BQU8sR0FBSyxPQUFPLFFBQVosQ0FBYTtRQUM1QixJQUFNLGVBQWUsR0FBRyxPQUFPLENBQUMsT0FBTyxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQztRQUN2RixJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxFQUFFO1lBQzdCLE9BQU8sQ0FBQyxlQUFlLENBQUMsR0FBRyxLQUFHLE9BQU8sQ0FBQyxnQkFBa0IsQ0FBQztTQUMxRDthQUFNO1lBQ0wsT0FBTyxDQUFDLGVBQWUsQ0FBQyxJQUFJLE1BQUksT0FBTyxDQUFDLGdCQUFrQixDQUFDO1NBQzVEO1FBQ0QsSUFBSSxPQUFPLENBQUMsZUFBZSxFQUFFO1lBQzNCLE9BQU8sQ0FBQyxlQUFlLENBQUMsSUFBSSxNQUFJLE9BQU8sQ0FBQyxlQUFpQixDQUFDO1NBQzNEO1FBQ0QsT0FBTyxJQUFJLHVCQUNOLElBQUksS0FDUCxPQUFPLFNBQUEsSUFDUCxDQUFDO0lBQ0wsQ0FBQyxFQW5CK0YsQ0FtQi9GLENBQUM7QUFDSixDQUFDO0FBRUQsTUFBTSxDQUFDLElBQU0sNkJBQTZCLEdBQXdCO0lBQ2hFLElBQUksRUFBRSx3QkFBd0I7SUFDOUIsSUFBSSxFQUFFLE9BQU87SUFDYixJQUFJLEVBQUUsQ0FBQyxnQkFBZ0IsRUFBRSxZQUFZLENBQUM7Q0FDdkMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxJQUFNLGtCQUFrQixHQUFHLFVBQUMsTUFBK0IsSUFBMEIsT0FBQSxDQUFDO0lBQzNGLFlBQVksRUFBRSxVQUFDLFdBQVc7UUFDeEIsV0FBVyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsRUFBRSw2QkFBNkIsQ0FBQyxDQUFDO0lBQzlFLENBQUM7Q0FDRixDQUFDLEVBSjBGLENBSTFGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUmVxdWVzdCB9IGZyb20gXCJAYXdzLXNkay9wcm90b2NvbC1odHRwXCI7XG5pbXBvcnQge1xuICBCdWlsZEhhbmRsZXIsXG4gIEJ1aWxkSGFuZGxlckFyZ3VtZW50cyxcbiAgQnVpbGRIYW5kbGVyT3B0aW9ucyxcbiAgQnVpbGRIYW5kbGVyT3V0cHV0LFxuICBNZXRhZGF0YUJlYXJlcixcbiAgUGx1Z2dhYmxlLFxufSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuaW1wb3J0IHsgVXNlckFnZW50UmVzb2x2ZWRDb25maWcgfSBmcm9tIFwiLi9jb25maWd1cmF0aW9uc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlckFnZW50TWlkZGxld2FyZShvcHRpb25zOiBVc2VyQWdlbnRSZXNvbHZlZENvbmZpZykge1xuICByZXR1cm4gPE91dHB1dCBleHRlbmRzIE1ldGFkYXRhQmVhcmVyPihuZXh0OiBCdWlsZEhhbmRsZXI8YW55LCBhbnk+KTogQnVpbGRIYW5kbGVyPGFueSwgYW55PiA9PiAoXG4gICAgYXJnczogQnVpbGRIYW5kbGVyQXJndW1lbnRzPGFueT5cbiAgKTogUHJvbWlzZTxCdWlsZEhhbmRsZXJPdXRwdXQ8T3V0cHV0Pj4gPT4ge1xuICAgIGNvbnN0IHsgcmVxdWVzdCB9ID0gYXJncztcbiAgICBpZiAoIUh0dHBSZXF1ZXN0LmlzSW5zdGFuY2UocmVxdWVzdCkpIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgIGNvbnN0IHsgaGVhZGVycyB9ID0gcmVxdWVzdDtcbiAgICBjb25zdCB1c2VyQWdlbnRIZWFkZXIgPSBvcHRpb25zLnJ1bnRpbWUgPT09IFwibm9kZVwiID8gXCJ1c2VyLWFnZW50XCIgOiBcIngtYW16LXVzZXItYWdlbnRcIjtcbiAgICBpZiAoIWhlYWRlcnNbdXNlckFnZW50SGVhZGVyXSkge1xuICAgICAgaGVhZGVyc1t1c2VyQWdlbnRIZWFkZXJdID0gYCR7b3B0aW9ucy5kZWZhdWx0VXNlckFnZW50fWA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlcnNbdXNlckFnZW50SGVhZGVyXSArPSBgICR7b3B0aW9ucy5kZWZhdWx0VXNlckFnZW50fWA7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmN1c3RvbVVzZXJBZ2VudCkge1xuICAgICAgaGVhZGVyc1t1c2VyQWdlbnRIZWFkZXJdICs9IGAgJHtvcHRpb25zLmN1c3RvbVVzZXJBZ2VudH1gO1xuICAgIH1cbiAgICByZXR1cm4gbmV4dCh7XG4gICAgICAuLi5hcmdzLFxuICAgICAgcmVxdWVzdCxcbiAgICB9KTtcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldFVzZXJBZ2VudE1pZGRsZXdhcmVPcHRpb25zOiBCdWlsZEhhbmRsZXJPcHRpb25zID0ge1xuICBuYW1lOiBcImdldFVzZXJBZ2VudE1pZGRsZXdhcmVcIixcbiAgc3RlcDogXCJidWlsZFwiLFxuICB0YWdzOiBbXCJTRVRfVVNFUl9BR0VOVFwiLCBcIlVTRVJfQUdFTlRcIl0sXG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VXNlckFnZW50UGx1Z2luID0gKGNvbmZpZzogVXNlckFnZW50UmVzb2x2ZWRDb25maWcpOiBQbHVnZ2FibGU8YW55LCBhbnk+ID0+ICh7XG4gIGFwcGx5VG9TdGFjazogKGNsaWVudFN0YWNrKSA9PiB7XG4gICAgY2xpZW50U3RhY2suYWRkKHVzZXJBZ2VudE1pZGRsZXdhcmUoY29uZmlnKSwgZ2V0VXNlckFnZW50TWlkZGxld2FyZU9wdGlvbnMpO1xuICB9LFxufSk7XG4iXX0=","import { __assign, __read, __spread, __values } from \"tslib\";\nexport var constructStack = function () {\n    var absoluteEntries = [];\n    var relativeEntries = [];\n    var entriesNameSet = new Set();\n    var sort = function (entries) {\n        return entries.sort(function (a, b) {\n            return stepWeights[b.step] - stepWeights[a.step] ||\n                priorityWeights[b.priority || \"normal\"] - priorityWeights[a.priority || \"normal\"];\n        });\n    };\n    var removeByName = function (toRemove) {\n        var isRemoved = false;\n        var filterCb = function (entry) {\n            if (entry.name && entry.name === toRemove) {\n                isRemoved = true;\n                entriesNameSet.delete(toRemove);\n                return false;\n            }\n            return true;\n        };\n        absoluteEntries = absoluteEntries.filter(filterCb);\n        relativeEntries = relativeEntries.filter(filterCb);\n        return isRemoved;\n    };\n    var removeByReference = function (toRemove) {\n        var isRemoved = false;\n        var filterCb = function (entry) {\n            if (entry.middleware === toRemove) {\n                isRemoved = true;\n                if (entry.name)\n                    entriesNameSet.delete(entry.name);\n                return false;\n            }\n            return true;\n        };\n        absoluteEntries = absoluteEntries.filter(filterCb);\n        relativeEntries = relativeEntries.filter(filterCb);\n        return isRemoved;\n    };\n    var cloneTo = function (toStack) {\n        absoluteEntries.forEach(function (entry) {\n            //@ts-ignore\n            toStack.add(entry.middleware, __assign({}, entry));\n        });\n        relativeEntries.forEach(function (entry) {\n            //@ts-ignore\n            toStack.addRelativeTo(entry.middleware, __assign({}, entry));\n        });\n        return toStack;\n    };\n    var expandRelativeMiddlewareList = function (from) {\n        var expandedMiddlewareList = [];\n        from.before.forEach(function (entry) {\n            if (entry.before.length === 0 && entry.after.length === 0) {\n                expandedMiddlewareList.push(entry);\n            }\n            else {\n                expandedMiddlewareList.push.apply(expandedMiddlewareList, __spread(expandRelativeMiddlewareList(entry)));\n            }\n        });\n        expandedMiddlewareList.push(from);\n        from.after.reverse().forEach(function (entry) {\n            if (entry.before.length === 0 && entry.after.length === 0) {\n                expandedMiddlewareList.push(entry);\n            }\n            else {\n                expandedMiddlewareList.push.apply(expandedMiddlewareList, __spread(expandRelativeMiddlewareList(entry)));\n            }\n        });\n        return expandedMiddlewareList;\n    };\n    /**\n     * Get a final list of middleware in the order of being executed in the resolved handler.\n     */\n    var getMiddlewareList = function () {\n        var normalizedAbsoluteEntries = [];\n        var normalizedRelativeEntries = [];\n        var normalizedEntriesNameMap = {};\n        absoluteEntries.forEach(function (entry) {\n            var normalizedEntry = __assign(__assign({}, entry), { before: [], after: [] });\n            if (normalizedEntry.name)\n                normalizedEntriesNameMap[normalizedEntry.name] = normalizedEntry;\n            normalizedAbsoluteEntries.push(normalizedEntry);\n        });\n        relativeEntries.forEach(function (entry) {\n            var normalizedEntry = __assign(__assign({}, entry), { before: [], after: [] });\n            if (normalizedEntry.name)\n                normalizedEntriesNameMap[normalizedEntry.name] = normalizedEntry;\n            normalizedRelativeEntries.push(normalizedEntry);\n        });\n        normalizedRelativeEntries.forEach(function (entry) {\n            if (entry.toMiddleware) {\n                var toMiddleware = normalizedEntriesNameMap[entry.toMiddleware];\n                if (toMiddleware === undefined) {\n                    throw new Error(entry.toMiddleware + \" is not found when adding \" + (entry.name || \"anonymous\") + \" middleware \" + entry.relation + \" \" + entry.toMiddleware);\n                }\n                if (entry.relation === \"after\") {\n                    toMiddleware.after.push(entry);\n                }\n                if (entry.relation === \"before\") {\n                    toMiddleware.before.push(entry);\n                }\n            }\n        });\n        var mainChain = sort(normalizedAbsoluteEntries)\n            .map(expandRelativeMiddlewareList)\n            .reduce(function (wholeList, expendedMiddlewareList) {\n            // TODO: Replace it with Array.flat();\n            wholeList.push.apply(wholeList, __spread(expendedMiddlewareList));\n            return wholeList;\n        }, []);\n        return mainChain.map(function (entry) { return entry.middleware; });\n    };\n    var stack = {\n        add: function (middleware, options) {\n            if (options === void 0) { options = {}; }\n            var name = options.name;\n            var entry = __assign({ step: \"initialize\", priority: \"normal\", middleware: middleware }, options);\n            if (name) {\n                if (entriesNameSet.has(name)) {\n                    throw new Error(\"Duplicate middleware name '\" + name + \"'\");\n                }\n                entriesNameSet.add(name);\n            }\n            absoluteEntries.push(entry);\n        },\n        addRelativeTo: function (middleware, options) {\n            var name = options.name;\n            var entry = __assign({ middleware: middleware }, options);\n            if (name) {\n                if (entriesNameSet.has(name)) {\n                    throw new Error(\"Duplicated middleware name '\" + name + \"'\");\n                }\n                entriesNameSet.add(name);\n            }\n            relativeEntries.push(entry);\n        },\n        clone: function () { return cloneTo(constructStack()); },\n        use: function (plugin) {\n            plugin.applyToStack(stack);\n        },\n        remove: function (toRemove) {\n            if (typeof toRemove === \"string\")\n                return removeByName(toRemove);\n            else\n                return removeByReference(toRemove);\n        },\n        removeByTag: function (toRemove) {\n            var isRemoved = false;\n            var filterCb = function (entry) {\n                var tags = entry.tags, name = entry.name;\n                if (tags && tags.includes(toRemove)) {\n                    if (name)\n                        entriesNameSet.delete(name);\n                    isRemoved = true;\n                    return false;\n                }\n                return true;\n            };\n            absoluteEntries = absoluteEntries.filter(filterCb);\n            relativeEntries = relativeEntries.filter(filterCb);\n            return isRemoved;\n        },\n        concat: function (from) {\n            var cloned = cloneTo(constructStack());\n            cloned.use(from);\n            return cloned;\n        },\n        applyToStack: cloneTo,\n        resolve: function (handler, context) {\n            var e_1, _a;\n            try {\n                for (var _b = __values(getMiddlewareList().reverse()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var middleware = _c.value;\n                    handler = middleware(handler, context);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return handler;\n        },\n    };\n    return stack;\n};\nvar stepWeights = {\n    initialize: 5,\n    serialize: 4,\n    build: 3,\n    finalizeRequest: 2,\n    deserialize: 1,\n};\nvar priorityWeights = {\n    high: 3,\n    normal: 2,\n    low: 1,\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWlkZGxld2FyZVN0YWNrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL01pZGRsZXdhcmVTdGFjay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBZ0JBLE1BQU0sQ0FBQyxJQUFNLGNBQWMsR0FBRztJQUM1QixJQUFJLGVBQWUsR0FBNkMsRUFBRSxDQUFDO0lBQ25FLElBQUksZUFBZSxHQUE2QyxFQUFFLENBQUM7SUFDbkUsSUFBTSxjQUFjLEdBQWdCLElBQUksR0FBRyxFQUFFLENBQUM7SUFFOUMsSUFBTSxJQUFJLEdBQUcsVUFBbUQsT0FBWTtRQUMxRSxPQUFBLE9BQU8sQ0FBQyxJQUFJLENBQ1YsVUFBQyxDQUFDLEVBQUUsQ0FBQztZQUNILE9BQUEsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztnQkFDekMsZUFBZSxDQUFDLENBQUMsQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDO1FBRGpGLENBQ2lGLENBQ3BGO0lBSkQsQ0FJQyxDQUFDO0lBRUosSUFBTSxZQUFZLEdBQUcsVUFBQyxRQUFnQjtRQUNwQyxJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUM7UUFDdEIsSUFBTSxRQUFRLEdBQUcsVUFBQyxLQUFxQztZQUNyRCxJQUFJLEtBQUssQ0FBQyxJQUFJLElBQUksS0FBSyxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7Z0JBQ3pDLFNBQVMsR0FBRyxJQUFJLENBQUM7Z0JBQ2pCLGNBQWMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQ2hDLE9BQU8sS0FBSyxDQUFDO2FBQ2Q7WUFDRCxPQUFPLElBQUksQ0FBQztRQUNkLENBQUMsQ0FBQztRQUNGLGVBQWUsR0FBRyxlQUFlLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ25ELGVBQWUsR0FBRyxlQUFl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QWUsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDbkQsZUFBZSxHQUFHLGVBQWUsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDbkQsT0FBTyxTQUFTLENBQUM7UUFDbkIsQ0FBQztRQUVELE1BQU0sRUFBRSxVQUNOLElBQTRDO1lBRTVDLElBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxjQUFjLEVBQXlCLENBQUMsQ0FBQztZQUNoRSxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2pCLE9BQU8sTUFBTSxDQUFDO1FBQ2hCLENBQUM7UUFFRCxZQUFZLEVBQUUsT0FBTztRQUVyQixPQUFPLEVBQUUsVUFDUCxPQUFrRCxFQUNsRCxPQUFnQzs7O2dCQUVoQyxLQUF5QixJQUFBLEtBQUEsU0FBQSxpQkFBaUIsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFBLGdCQUFBLDRCQUFFO29CQUFuRCxJQUFNLFVBQVUsV0FBQTtvQkFDbkIsT0FBTyxHQUFHLFVBQVUsQ0FBQyxPQUFxQyxFQUFFLE9BQU8sQ0FBUSxDQUFDO2lCQUM3RTs7Ozs7Ozs7O1lBQ0QsT0FBTyxPQUF5QyxDQUFDO1FBQ25ELENBQUM7S0FDRixDQUFDO0lBQ0YsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDLENBQUM7QUFFRixJQUFNLFdBQVcsR0FBOEI7SUFDN0MsVUFBVSxFQUFFLENBQUM7SUFDYixTQUFTLEVBQUUsQ0FBQztJQUNaLEtBQUssRUFBRSxDQUFDO0lBQ1IsZUFBZSxFQUFFLENBQUM7SUFDbEIsV0FBVyxFQUFFLENBQUM7Q0FDZixDQUFDO0FBRUYsSUFBTSxlQUFlLEdBQWtDO0lBQ3JELElBQUksRUFBRSxDQUFDO0lBQ1AsTUFBTSxFQUFFLENBQUM7SUFDVCxHQUFHLEVBQUUsQ0FBQztDQUNQLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBYnNvbHV0ZUxvY2F0aW9uLFxuICBEZXNlcmlhbGl6ZUhhbmRsZXIsXG4gIEhhbmRsZXIsXG4gIEhhbmRsZXJFeGVjdXRpb25Db250ZXh0LFxuICBIYW5kbGVyT3B0aW9ucyxcbiAgTWlkZGxld2FyZVN0YWNrLFxuICBNaWRkbGV3YXJlVHlwZSxcbiAgUGx1Z2dhYmxlLFxuICBQcmlvcml0eSxcbiAgUmVsYXRpdmVMb2NhdGlvbixcbiAgU3RlcCxcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmltcG9ydCB7IEFic29sdXRlTWlkZGxld2FyZUVudHJ5LCBNaWRkbGV3YXJlRW50cnksIE5vcm1hbGl6ZWQsIFJlbGF0aXZlTWlkZGxld2FyZUVudHJ5IH0gZnJvbSBcIi4vdHlwZXNcIjtcblxuZXhwb3J0IGNvbnN0IGNvbnN0cnVjdFN0YWNrID0gPElucHV0IGV4dGVuZHMgb2JqZWN0LCBPdXRwdXQgZXh0ZW5kcyBvYmplY3Q+KCk6IE1pZGRsZXdhcmVTdGFjazxJbnB1dCwgT3V0cHV0PiA9PiB7XG4gIGxldCBhYnNvbHV0ZUVudHJpZXM6IEFic29sdXRlTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+W10gPSBbXTtcbiAgbGV0IHJlbGF0aXZlRW50cmllczogUmVsYXRpdmVNaWRkbGV3YXJlRW50cnk8SW5wdXQsIE91dHB1dD5bXSA9IFtdO1xuICBjb25zdCBlbnRyaWVzTmFtZVNldDogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG5cbiAgY29uc3Qgc29ydCA9IDxUIGV4dGVuZHMgQWJzb2x1dGVNaWRkbGV3YXJlRW50cnk8SW5wdXQsIE91dHB1dD4+KGVudHJpZXM6IFRbXSk6IFRbXSA9PlxuICAgIGVudHJpZXMuc29ydChcbiAgICAgIChhLCBiKSA9PlxuICAgICAgICBzdGVwV2VpZ2h0c1tiLnN0ZXBdIC0gc3RlcFdlaWdodHNbYS5zdGVwXSB8fFxuICAgICAgICBwcmlvcml0eVdlaWdodHNbYi5wcmlvcml0eSB8fCBcIm5vcm1hbFwiXSAtIHByaW9yaXR5V2VpZ2h0c1thLnByaW9yaXR5IHx8IFwibm9ybWFsXCJdXG4gICAgKTtcblxuICBjb25zdCByZW1vdmVCeU5hbWUgPSAodG9SZW1vdmU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIGxldCBpc1JlbW92ZWQgPSBmYWxzZTtcbiAgICBjb25zdCBmaWx0ZXJDYiA9IChlbnRyeTogTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+KTogYm9vbGVhbiA9PiB7XG4gICAgICBpZiAoZW50cnkubmFtZSAmJiBlbnRyeS5uYW1lID09PSB0b1JlbW92ZSkge1xuICAgICAgICBpc1JlbW92ZWQgPSB0cnVlO1xuICAgICAgICBlbnRyaWVzTmFtZVNldC5kZWxldGUodG9SZW1vdmUpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIGFic29sdXRlRW50cmllcyA9IGFic29sdXRlRW50cmllcy5maWx0ZXIoZmlsdGVyQ2IpO1xuICAgIHJlbGF0aXZlRW50cmllcyA9IHJlbGF0aXZlRW50cmllcy5maWx0ZXIoZmlsdGVyQ2IpO1xuICAgIHJldHVybiBpc1JlbW92ZWQ7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlQnlSZWZlcmVuY2UgPSAodG9SZW1vdmU6IE1pZGRsZXdhcmVUeXBlPElucHV0LCBPdXRwdXQ+KTogYm9vbGVhbiA9PiB7XG4gICAgbGV0IGlzUmVtb3ZlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGZpbHRlckNiID0gKGVudHJ5OiBNaWRkbGV3YXJlRW50cnk8SW5wdXQsIE91dHB1dD4pOiBib29sZWFuID0+IHtcbiAgICAgIGlmIChlbnRyeS5taWRkbGV3YXJlID09PSB0b1JlbW92ZSkge1xuICAgICAgICBpc1JlbW92ZWQgPSB0cnVlO1xuICAgICAgICBpZiAoZW50cnkubmFtZSkgZW50cmllc05hbWVTZXQuZGVsZXRlKGVudHJ5Lm5hbWUpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIGFic29sdXRlRW50cmllcyA9IGFic29sdXRlRW50cmllcy5maWx0ZXIoZmlsdGVyQ2IpO1xuICAgIHJlbGF0aXZlRW50cmllcyA9IHJlbGF0aXZlRW50cmllcy5maWx0ZXIoZmlsdGVyQ2IpO1xuICAgIHJldHVybiBpc1JlbW92ZWQ7XG4gIH07XG5cbiAgY29uc3QgY2xvbmVUbyA9IDxJbnB1dFR5cGUgZXh0ZW5kcyBJbnB1dCwgT3V0cHV0VHlwZSBleHRlbmRzIE91dHB1dD4oXG4gICAgdG9TdGFjazogTWlkZGxld2FyZVN0YWNrPElucHV0VHlwZSwgT3V0cHV0VHlwZT5cbiAgKTogTWlkZGxld2FyZVN0YWNrPElucHV0VHlwZSwgT3V0cHV0VHlwZT4gPT4ge1xuICAgIGFic29sdXRlRW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgLy9AdHMtaWdub3JlXG4gICAgICB0b1N0YWNrLmFkZChlbnRyeS5taWRkbGV3YXJlLCB7IC4uLmVudHJ5IH0pO1xuICAgIH0pO1xuICAgIHJlbGF0aXZlRW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgLy9AdHMtaWdub3JlXG4gICAgICB0b1N0YWNrLmFkZFJlbGF0aXZlVG8oZW50cnkubWlkZGxld2FyZSwgeyAuLi5lbnRyeSB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdG9TdGFjaztcbiAgfTtcblxuICBjb25zdCBleHBhbmRSZWxhdGl2ZU1pZGRsZXdhcmVMaXN0ID0gKFxuICAgIGZyb206IE5vcm1hbGl6ZWQ8TWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+LCBJbnB1dCwgT3V0cHV0PlxuICApOiBNaWRkbGV3YXJlRW50cnk8SW5wdXQsIE91dHB1dD5bXSA9PiB7XG4gICAgY29uc3QgZXhwYW5kZWRNaWRkbGV3YXJlTGlzdDogTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+W10gPSBbXTtcbiAgICBmcm9tLmJlZm9yZS5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgaWYgKGVudHJ5LmJlZm9yZS5sZW5ndGggPT09IDAgJiYgZW50cnkuYWZ0ZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGV4cGFuZGVkTWlkZGxld2FyZUxpc3QucHVzaChlbnRyeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBleHBhbmRlZE1pZGRsZXdhcmVMaXN0LnB1c2goLi4uZXhwYW5kUmVsYXRpdmVNaWRkbGV3YXJlTGlzdChlbnRyeSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGV4cGFuZGVkTWlkZGxld2FyZUxpc3QucHVzaChmcm9tKTtcbiAgICBmcm9tLmFmdGVyLnJldmVyc2UoKS5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgaWYgKGVudHJ5LmJlZm9yZS5sZW5ndGggPT09IDAgJiYgZW50cnkuYWZ0ZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGV4cGFuZGVkTWlkZGxld2FyZUxpc3QucHVzaChlbnRyeSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBleHBhbmRlZE1pZGRsZXdhcmVMaXN0LnB1c2goLi4uZXhwYW5kUmVsYXRpdmVNaWRkbGV3YXJlTGlzdChlbnRyeSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBleHBhbmRlZE1pZGRsZXdhcmVMaXN0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgYSBmaW5hbCBsaXN0IG9mIG1pZGRsZXdhcmUgaW4gdGhlIG9yZGVyIG9mIGJlaW5nIGV4ZWN1dGVkIGluIHRoZSByZXNvbHZlZCBoYW5kbGVyLlxuICAgKi9cbiAgY29uc3QgZ2V0TWlkZGxld2FyZUxpc3QgPSAoKTogQXJyYXk8TWlkZGxld2FyZVR5cGU8SW5wdXQsIE91dHB1dD4+ID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkQWJzb2x1dGVFbnRyaWVzOiBOb3JtYWxpemVkPEFic29sdXRlTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+LCBJbnB1dCwgT3V0cHV0PltdID0gW107XG4gICAgY29uc3Qgbm9ybWFsaXplZFJlbGF0aXZlRW50cmllczogTm9ybWFsaXplZDxSZWxhdGl2ZU1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0PiwgSW5wdXQsIE91dHB1dD5bXSA9IFtdO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRFbnRyaWVzTmFtZU1hcDoge1xuICAgICAgW21pZGRsZXdhcmVOYW1lOiBzdHJpbmddOiBOb3JtYWxpemVkPE1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0PiwgSW5wdXQsIE91dHB1dD47XG4gICAgfSA9IHt9O1xuXG4gICAgYWJzb2x1dGVFbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICBjb25zdCBub3JtYWxpemVkRW50cnkgPSB7XG4gICAgICAgIC4uLmVudHJ5LFxuICAgICAgICBiZWZvcmU6IFtdLFxuICAgICAgICBhZnRlcjogW10sXG4gICAgICB9O1xuICAgICAgaWYgKG5vcm1hbGl6ZWRFbnRyeS5uYW1lKSBub3JtYWxpemVkRW50cmllc05hbWVNYXBbbm9ybWFsaXplZEVudHJ5Lm5hbWVdID0gbm9ybWFsaXplZEVudHJ5O1xuICAgICAgbm9ybWFsaXplZEFic29sdXRlRW50cmllcy5wdXNoKG5vcm1hbGl6ZWRFbnRyeSk7XG4gICAgfSk7XG5cbiAgICByZWxhdGl2ZUVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRFbnRyeSA9IHtcbiAgICAgICAgLi4uZW50cnksXG4gICAgICAgIGJlZm9yZTogW10sXG4gICAgICAgIGFmdGVyOiBbXSxcbiAgICAgIH07XG4gICAgICBpZiAobm9ybWFsaXplZEVudHJ5Lm5hbWUpIG5vcm1hbGl6ZWRFbnRyaWVzTmFtZU1hcFtub3JtYWxpemVkRW50cnkubmFtZV0gPSBub3JtYWxpemVkRW50cnk7XG4gICAgICBub3JtYWxpemVkUmVsYXRpdmVFbnRyaWVzLnB1c2gobm9ybWFsaXplZEVudHJ5KTtcbiAgICB9KTtcblxuICAgIG5vcm1hbGl6ZWRSZWxhdGl2ZUVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgIGlmIChlbnRyeS50b01pZGRsZXdhcmUpIHtcbiAgICAgICAgY29uc3QgdG9NaWRkbGV3YXJlID0gbm9ybWFsaXplZEVudHJpZXNOYW1lTWFwW2VudHJ5LnRvTWlkZGxld2FyZV07XG4gICAgICAgIGlmICh0b01pZGRsZXdhcmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIGAke2VudHJ5LnRvTWlkZGxld2FyZX0gaXMgbm90IGZvdW5kIHdoZW4gYWRkaW5nICR7ZW50cnkubmFtZSB8fCBcImFub255bW91c1wifSBtaWRkbGV3YXJlICR7ZW50cnkucmVsYXRpb259ICR7XG4gICAgICAgICAgICAgIGVudHJ5LnRvTWlkZGxld2FyZVxuICAgICAgICAgICAgfWBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbnRyeS5yZWxhdGlvbiA9PT0gXCJhZnRlclwiKSB7XG4gICAgICAgICAgdG9NaWRkbGV3YXJlLmFmdGVyLnB1c2goZW50cnkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbnRyeS5yZWxhdGlvbiA9PT0gXCJiZWZvcmVcIikge1xuICAgICAgICAgIHRvTWlkZGxld2FyZS5iZWZvcmUucHVzaChlbnRyeSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IG1haW5DaGFpbiA9IHNvcnQobm9ybWFsaXplZEFic29sdXRlRW50cmllcylcbiAgICAgIC5tYXAoZXhwYW5kUmVsYXRpdmVNaWRkbGV3YXJlTGlzdClcbiAgICAgIC5yZWR1Y2UoKHdob2xlTGlzdCwgZXhwZW5kZWRNaWRkbGV3YXJlTGlzdCkgPT4ge1xuICAgICAgICAvLyBUT0RPOiBSZXBsYWNlIGl0IHdpdGggQXJyYXkuZmxhdCgpO1xuICAgICAgICB3aG9sZUxpc3QucHVzaCguLi5leHBlbmRlZE1pZGRsZXdhcmVMaXN0KTtcbiAgICAgICAgcmV0dXJuIHdob2xlTGlzdDtcbiAgICAgIH0sIFtdIGFzIE1pZGRsZXdhcmVFbnRyeTxJbnB1dCwgT3V0cHV0PltdKTtcbiAgICByZXR1cm4gbWFpbkNoYWluLm1hcCgoZW50cnkpID0+IGVudHJ5Lm1pZGRsZXdhcmUpO1xuICB9O1xuXG4gIGNvbnN0IHN0YWNrID0ge1xuICAgIGFkZDogKG1pZGRsZXdhcmU6IE1pZGRsZXdhcmVUeXBlPElucHV0LCBPdXRwdXQ+LCBvcHRpb25zOiBIYW5kbGVyT3B0aW9ucyAmIEFic29sdXRlTG9jYXRpb24gPSB7fSkgPT4ge1xuICAgICAgY29uc3QgeyBuYW1lIH0gPSBvcHRpb25zO1xuICAgICAgY29uc3QgZW50cnk6IEFic29sdXRlTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+ID0ge1xuICAgICAgICBzdGVwOiBcImluaXRpYWxpemVcIixcbiAgICAgICAgcHJpb3JpdHk6IFwibm9ybWFsXCIsXG4gICAgICAgIG1pZGRsZXdhcmUsXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICB9O1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgaWYgKGVudHJpZXNOYW1lU2V0LmhhcyhuYW1lKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRHVwbGljYXRlIG1pZGRsZXdhcmUgbmFtZSAnJHtuYW1lfSdgKTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyaWVzTmFtZVNldC5hZGQobmFtZSk7XG4gICAgICB9XG4gICAgICBhYnNvbHV0ZUVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgfSxcblxuICAgIGFkZFJlbGF0aXZlVG86IChtaWRkbGV3YXJlOiBNaWRkbGV3YXJlVHlwZTxJbnB1dCwgT3V0cHV0Piwgb3B0aW9uczogSGFuZGxlck9wdGlvbnMgJiBSZWxhdGl2ZUxvY2F0aW9uKSA9PiB7XG4gICAgICBjb25zdCB7IG5hbWUgfSA9IG9wdGlvbnM7XG4gICAgICBjb25zdCBlbnRyeTogUmVsYXRpdmVNaWRkbGV3YXJlRW50cnk8SW5wdXQsIE91dHB1dD4gPSB7XG4gICAgICAgIG1pZGRsZXdhcmUsXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICB9O1xuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgaWYgKGVudHJpZXNOYW1lU2V0LmhhcyhuYW1lKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRHVwbGljYXRlZCBtaWRkbGV3YXJlIG5hbWUgJyR7bmFtZX0nYCk7XG4gICAgICAgIH1cbiAgICAgICAgZW50cmllc05hbWVTZXQuYWRkKG5hbWUpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmVFbnRyaWVzLnB1c2goZW50cnkpO1xuICAgIH0sXG5cbiAgICBjbG9uZTogKCkgPT4gY2xvbmVUbyhjb25zdHJ1Y3RTdGFjazxJbnB1dCwgT3V0cHV0PigpKSxcblxuICAgIHVzZTogKHBsdWdpbjogUGx1Z2dhYmxlPElucHV0LCBPdXRwdXQ+KSA9PiB7XG4gICAgICBwbHVnaW4uYXBwbHlUb1N0YWNrKHN0YWNrKTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlOiAodG9SZW1vdmU6IE1pZGRsZXdhcmVUeXBlPElucHV0LCBPdXRwdXQ+IHwgc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgICBpZiAodHlwZW9mIHRvUmVtb3ZlID09PSBcInN0cmluZ1wiKSByZXR1cm4gcmVtb3ZlQnlOYW1lKHRvUmVtb3ZlKTtcbiAgICAgIGVsc2UgcmV0dXJuIHJlbW92ZUJ5UmVmZXJlbmNlKHRvUmVtb3ZlKTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlQnlUYWc6ICh0b1JlbW92ZTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gICAgICBsZXQgaXNSZW1vdmVkID0gZmFsc2U7XG4gICAgICBjb25zdCBmaWx0ZXJDYiA9IChlbnRyeTogTWlkZGxld2FyZUVudHJ5PElucHV0LCBPdXRwdXQ+KTogYm9vbGVhbiA9PiB7XG4gICAgICAgIGNvbnN0IHsgdGFncywgbmFtZSB9ID0gZW50cnk7XG4gICAgICAgIGlmICh0YWdzICYmIHRhZ3MuaW5jbHVkZXModG9SZW1vdmUpKSB7XG4gICAgICAgICAgaWYgKG5hbWUpIGVudHJpZXNOYW1lU2V0LmRlbGV0ZShuYW1lKTtcbiAgICAgICAgICBpc1JlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH07XG4gICAgICBhYnNvbHV0ZUVudHJpZXMgPSBhYnNvbHV0ZUVudHJpZXMuZmlsdGVyKGZpbHRlckNiKTtcbiAgICAgIHJlbGF0aXZlRW50cmllcyA9IHJlbGF0aXZlRW50cmllcy5maWx0ZXIoZmlsdGVyQ2IpO1xuICAgICAgcmV0dXJuIGlzUmVtb3ZlZDtcbiAgICB9LFxuXG4gICAgY29uY2F0OiA8SW5wdXRUeXBlIGV4dGVuZHMgSW5wdXQsIE91dHB1dFR5cGUgZXh0ZW5kcyBPdXRwdXQ+KFxuICAgICAgZnJvbTogTWlkZGxld2FyZVN0YWNrPElucHV0VHlwZSwgT3V0cHV0VHlwZT5cbiAgICApOiBNaWRkbGV3YXJlU3RhY2s8SW5wdXRUeXBlLCBPdXRwdXRUeXBlPiA9PiB7XG4gICAgICBjb25zdCBjbG9uZWQgPSBjbG9uZVRvKGNvbnN0cnVjdFN0YWNrPElucHV0VHlwZSwgT3V0cHV0VHlwZT4oKSk7XG4gICAgICBjbG9uZWQudXNlKGZyb20pO1xuICAgICAgcmV0dXJuIGNsb25lZDtcbiAgICB9LFxuXG4gICAgYXBwbHlUb1N0YWNrOiBjbG9uZVRvLFxuXG4gICAgcmVzb2x2ZTogPElucHV0VHlwZSBleHRlbmRzIElucHV0LCBPdXRwdXRUeXBlIGV4dGVuZHMgT3V0cHV0PihcbiAgICAgIGhhbmRsZXI6IERlc2VyaWFsaXplSGFuZGxlcjxJbnB1dFR5cGUsIE91dHB1dFR5cGU+LFxuICAgICAgY29udGV4dDogSGFuZGxlckV4ZWN1dGlvbkNvbnRleHRcbiAgICApOiBIYW5kbGVyPElucHV0VHlwZSwgT3V0cHV0VHlwZT4gPT4ge1xuICAgICAgZm9yIChjb25zdCBtaWRkbGV3YXJlIG9mIGdldE1pZGRsZXdhcmVMaXN0KCkucmV2ZXJzZSgpKSB7XG4gICAgICAgIGhhbmRsZXIgPSBtaWRkbGV3YXJlKGhhbmRsZXIgYXMgSGFuZGxlcjxJbnB1dCwgT3V0cHV0VHlwZT4sIGNvbnRleHQpIGFzIGFueTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYW5kbGVyIGFzIEhhbmRsZXI8SW5wdXRUeXBlLCBPdXRwdXRUeXBlPjtcbiAgICB9LFxuICB9O1xuICByZXR1cm4gc3RhY2s7XG59O1xuXG5jb25zdCBzdGVwV2VpZ2h0czogeyBba2V5IGluIFN0ZXBdOiBudW1iZXIgfSA9IHtcbiAgaW5pdGlhbGl6ZTogNSxcbiAgc2VyaWFsaXplOiA0LFxuICBidWlsZDogMyxcbiAgZmluYWxpemVSZXF1ZXN0OiAyLFxuICBkZXNlcmlhbGl6ZTogMSxcbn07XG5cbmNvbnN0IHByaW9yaXR5V2VpZ2h0czogeyBba2V5IGluIFByaW9yaXR5XTogbnVtYmVyIH0gPSB7XG4gIGhpZ2g6IDMsXG4gIG5vcm1hbDogMixcbiAgbG93OiAxLFxufTtcbiJdfQ==","import { constructStack } from \"@aws-sdk/middleware-stack\";\nvar Client = /** @class */ (function () {\n    function Client(config) {\n        this.middlewareStack = constructStack();\n        this.config = config;\n    }\n    Client.prototype.send = function (command, optionsOrCb, cb) {\n        var options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        var callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        var handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then(function (result) { return callback(null, result.output); }, function (err) { return callback(err); })\n                .catch(\n            // prevent any errors thrown in the callback from triggering an\n            // unhandled promise rejection\n            function () { });\n        }\n        else {\n            return handler(command).then(function (result) { return result.output; });\n        }\n    };\n    Client.prototype.destroy = function () {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n    return Client;\n}());\nexport { Client };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xpZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NsaWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFVM0Q7SUFRRSxnQkFBWSxNQUFtQztRQUZ4QyxvQkFBZSxHQUFHLGNBQWMsRUFBNkIsQ0FBQztRQUduRSxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN2QixDQUFDO0lBY0QscUJBQUksR0FBSixVQUNFLE9BQStHLEVBQy9HLFdBQXNFLEVBQ3RFLEVBQTBDO1FBRTFDLElBQU0sT0FBTyxHQUFHLE9BQU8sV0FBVyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUM7UUFDNUUsSUFBTSxRQUFRLEdBQUcsT0FBTyxXQUFXLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBRSxXQUFxRCxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7UUFDakgsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxlQUFzQixFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDN0YsSUFBSSxRQUFRLEVBQUU7WUFDWixPQUFPLENBQUMsT0FBTyxDQUFDO2lCQUNiLElBQUksQ0FDSCxVQUFDLE1BQU0sSUFBSyxPQUFBLFFBQVEsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUE3QixDQUE2QixFQUN6QyxVQUFDLEdBQVEsSUFBSyxPQUFBLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBYixDQUFhLENBQzVCO2lCQUNBLEtBQUs7WUFDSiwrREFBK0Q7WUFDL0QsOEJBQThCO1lBQzlCLGNBQU8sQ0FBQyxDQUNULENBQUM7U0FDTDthQUFNO1lBQ0wsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsTUFBTSxJQUFLLE9BQUEsTUFBTSxDQUFDLE1BQU0sRUFBYixDQUFhLENBQUMsQ0FBQztTQUN6RDtJQUNILENBQUM7SUFFRCx3QkFBTyxHQUFQO1FBQ0UsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxPQUFPO1lBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDL0UsQ0FBQztJQUNILGFBQUM7QUFBRCxDQUFDLEFBbkRELElBbURDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29uc3RydWN0U3RhY2sgfSBmcm9tIFwiQGF3cy1zZGsvbWlkZGxld2FyZS1zdGFja1wiO1xuaW1wb3J0IHsgQ2xpZW50IGFzIElDbGllbnQsIENvbW1hbmQsIE1ldGFkYXRhQmVhcmVyLCBSZXF1ZXN0SGFuZGxlciB9IGZyb20gXCJAYXdzLXNkay90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNtaXRoeUNvbmZpZ3VyYXRpb248SGFuZGxlck9wdGlvbnM+IHtcbiAgcmVxdWVzdEhhbmRsZXI6IFJlcXVlc3RIYW5kbGVyPGFueSwgYW55LCBIYW5kbGVyT3B0aW9ucz47XG4gIHJlYWRvbmx5IGFwaVZlcnNpb246IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgU21pdGh5UmVzb2x2ZWRDb25maWd1cmF0aW9uPEhhbmRsZXJPcHRpb25zPiA9IFNtaXRoeUNvbmZpZ3VyYXRpb248SGFuZGxlck9wdGlvbnM+O1xuXG5leHBvcnQgY2xhc3MgQ2xpZW50PFxuICBIYW5kbGVyT3B0aW9ucyxcbiAgQ2xpZW50SW5wdXQgZXh0ZW5kcyBvYmplY3QsXG4gIENsaWVudE91dHB1dCBleHRlbmRzIE1ldGFkYXRhQmVhcmVyLFxuICBSZXNvbHZlZENsaWVudENvbmZpZ3VyYXRpb24gZXh0ZW5kcyBTbWl0aHlSZXNvbHZlZENvbmZpZ3VyYXRpb248SGFuZGxlck9wdGlvbnM+XG4+IGltcGxlbWVudHMgSUNsaWVudDxDbGllbnRJbnB1dCwgQ2xpZW50T3V0cHV0LCBSZXNvbHZlZENsaWVudENvbmZpZ3VyYXRpb24+IHtcbiAgcHVibGljIG1pZGRsZXdhcmVTdGFjayA9IGNvbnN0cnVjdFN0YWNrPENsaWVudElucHV0LCBDbGllbnRPdXRwdXQ+KCk7XG4gIHJlYWRvbmx5IGNvbmZpZzogUmVzb2x2ZWRDbGllbnRDb25maWd1cmF0aW9uO1xuICBjb25zdHJ1Y3Rvcihjb25maWc6IFJlc29sdmVkQ2xpZW50Q29uZmlndXJhdGlvbikge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICB9XG4gIHNlbmQ8SW5wdXRUeXBlIGV4dGVuZHMgQ2xpZW50SW5wdXQsIE91dHB1dFR5cGUgZXh0ZW5kcyBDbGllbnRPdXRwdXQ+KFxuICAgIGNvbW1hbmQ6IENvbW1hbmQ8Q2xpZW50SW5wdXQsIElucHV0VHlwZSwgQ2xpZW50T3V0cHV0LCBPdXRwdXRUeXBlLCBTbWl0aHlSZXNvbHZlZENvbmZpZ3VyYXRpb248SGFuZGxlck9wdGlvbnM+PixcbiAgICBvcHRpb25zPzogSGFuZGxlck9wdGlvbnNcbiAgKTogUHJvbWlzZTxPdXRwdXRUeXBlPjtcbiAgc2VuZDxJbnB1dFR5cGUgZXh0ZW5kcyBDbGllbnRJbnB1dCwgT3V0cHV0VHlwZSBleHRlbmRzIENsaWVudE91dHB1dD4oXG4gICAgY29tbWFuZDogQ29tbWFuZDxDbGllbnRJbnB1dCwgSW5wdXRUeXBlLCBDbGllbnRPdXRwdXQsIE91dHB1dFR5cGUsIFNtaXRoeVJlc29sdmVkQ29uZmlndXJhdGlvbjxIYW5kbGVyT3B0aW9ucz4+LFxuICAgIGNiOiAoZXJyOiBhbnksIGRhdGE/OiBPdXRwdXRUeXBlKSA9PiB2b2lkXG4gICk6IHZvaWQ7XG4gIHNlbmQ8SW5wdXRUeXBlIGV4dGVuZHMgQ2xpZW50SW5wdXQsIE91dHB1dFR5cGUgZXh0ZW5kcyBDbGllbnRPdXRwdXQ+KFxuICAgIGNvbW1hbmQ6IENvbW1hbmQ8Q2xpZW50SW5wdXQsIElucHV0VHlwZSwgQ2xpZW50T3V0cHV0LCBPdXRwdXRUeXBlLCBTbWl0aHlSZXNvbHZlZENvbmZpZ3VyYXRpb248SGFuZGxlck9wdGlvbnM+PixcbiAgICBvcHRpb25zOiBIYW5kbGVyT3B0aW9ucyxcbiAgICBjYjogKGVycjogYW55LCBkYXRhPzogT3V0cHV0VHlwZSkgPT4gdm9pZFxuICApOiB2b2lkO1xuICBzZW5kPElucHV0VHlwZSBleHRlbmRzIENsaWVudElucHV0LCBPdXRwdXRUeXBlIGV4dGVuZHMgQ2xpZW50T3V0cHV0PihcbiAgICBjb21tYW5kOiBDb21tYW5kPENsaWVudElucHV0LCBJbnB1dFR5cGUsIENsaWVudE91dHB1dCwgT3V0cHV0VHlwZSwgU21pdGh5UmVzb2x2ZWRDb25maWd1cmF0aW9uPEhhbmRsZXJPcHRpb25zPj4sXG4gICAgb3B0aW9uc09yQ2I/OiBIYW5kbGVyT3B0aW9ucyB8ICgoZXJyOiBhbnksIGRhdGE/OiBPdXRwdXRUeXBlKSA9PiB2b2lkKSxcbiAgICBjYj86IChlcnI6IGFueSwgZGF0YT86IE91dHB1dFR5cGUpID0+IHZvaWRcbiAgKTogUHJvbWlzZTxPdXRwdXRUeXBlPiB8IHZvaWQge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uc09yQ2IgIT09IFwiZnVuY3Rpb25cIiA/IG9wdGlvbnNPckNiIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IGNhbGxiYWNrID0gdHlwZW9mIG9wdGlvbnNPckNiID09PSBcImZ1bmN0aW9uXCIgPyAob3B0aW9uc09yQ2IgYXMgKGVycjogYW55LCBkYXRhPzogT3V0cHV0VHlwZSkgPT4gdm9pZCkgOiBjYjtcbiAgICBjb25zdCBoYW5kbGVyID0gY29tbWFuZC5yZXNvbHZlTWlkZGxld2FyZSh0aGlzLm1pZGRsZXdhcmVTdGFjayBhcyBhbnksIHRoaXMuY29uZmlnLCBvcHRpb25zKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGhhbmRsZXIoY29tbWFuZClcbiAgICAgICAgLnRoZW4oXG4gICAgICAgICAgKHJlc3VsdCkgPT4gY2FsbGJhY2sobnVsbCwgcmVzdWx0Lm91dHB1dCksXG4gICAgICAgICAgKGVycjogYW55KSA9PiBjYWxsYmFjayhlcnIpXG4gICAgICAgIClcbiAgICAgICAgLmNhdGNoKFxuICAgICAgICAgIC8vIHByZXZlbnQgYW55IGVycm9ycyB0aHJvd24gaW4gdGhlIGNhbGxiYWNrIGZyb20gdHJpZ2dlcmluZyBhblxuICAgICAgICAgIC8vIHVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvblxuICAgICAgICAgICgpID0+IHt9XG4gICAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBoYW5kbGVyKGNvbW1hbmQpLnRoZW4oKHJlc3VsdCkgPT4gcmVzdWx0Lm91dHB1dCk7XG4gICAgfVxuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5jb25maWcucmVxdWVzdEhhbmRsZXIuZGVzdHJveSkgdGhpcy5jb25maWcucmVxdWVzdEhhbmRsZXIuZGVzdHJveSgpO1xuICB9XG59XG4iXX0=","import { constructStack } from \"@aws-sdk/middleware-stack\";\nvar Command = /** @class */ (function () {\n    function Command() {\n        this.middlewareStack = constructStack();\n    }\n    return Command;\n}());\nexport { Command };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWFuZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tYW5kLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUczRDtJQUFBO1FBUVcsb0JBQWUsR0FBb0MsY0FBYyxFQUFpQixDQUFDO0lBTTlGLENBQUM7SUFBRCxjQUFDO0FBQUQsQ0FBQyxBQWRELElBY0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25zdHJ1Y3RTdGFjayB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXN0YWNrXCI7XG5pbXBvcnQgeyBDb21tYW5kIGFzIElDb21tYW5kLCBIYW5kbGVyLCBNZXRhZGF0YUJlYXJlciwgTWlkZGxld2FyZVN0YWNrIGFzIElNaWRkbGV3YXJlU3RhY2sgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbW1hbmQ8XG4gIElucHV0IGV4dGVuZHMgQ2xpZW50SW5wdXQsXG4gIE91dHB1dCBleHRlbmRzIENsaWVudE91dHB1dCxcbiAgUmVzb2x2ZWRDbGllbnRDb25maWd1cmF0aW9uLFxuICBDbGllbnRJbnB1dCBleHRlbmRzIG9iamVjdCA9IGFueSxcbiAgQ2xpZW50T3V0cHV0IGV4dGVuZHMgTWV0YWRhdGFCZWFyZXIgPSBhbnlcbj4gaW1wbGVtZW50cyBJQ29tbWFuZDxDbGllbnRJbnB1dCwgSW5wdXQsIENsaWVudE91dHB1dCwgT3V0cHV0LCBSZXNvbHZlZENsaWVudENvbmZpZ3VyYXRpb24+IHtcbiAgYWJzdHJhY3QgaW5wdXQ6IElucHV0O1xuICByZWFkb25seSBtaWRkbGV3YXJlU3RhY2s6IElNaWRkbGV3YXJlU3RhY2s8SW5wdXQsIE91dHB1dD4gPSBjb25zdHJ1Y3RTdGFjazxJbnB1dCwgT3V0cHV0PigpO1xuICBhYnN0cmFjdCByZXNvbHZlTWlkZGxld2FyZShcbiAgICBzdGFjazogSU1pZGRsZXdhcmVTdGFjazxDbGllbnRJbnB1dCwgQ2xpZW50T3V0cHV0PixcbiAgICBjb25maWd1cmF0aW9uOiBSZXNvbHZlZENsaWVudENvbmZpZ3VyYXRpb24sXG4gICAgb3B0aW9uczogYW55XG4gICk6IEhhbmRsZXI8SW5wdXQsIE91dHB1dD47XG59XG4iXX0=","/**\n * Function that wraps encodeURIComponent to encode additional characters\n * to fully adhere to RFC 3986.\n */\nexport function extendedEncodeURIComponent(str) {\n    return encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n        return \"%\" + c.charCodeAt(0).toString(16);\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXh0ZW5kZWQtZW5jb2RlLXVyaS1jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZXh0ZW5kZWQtZW5jb2RlLXVyaS1jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztHQUdHO0FBQ0gsTUFBTSxVQUFVLDBCQUEwQixDQUFDLEdBQVc7SUFDcEQsT0FBTyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQztRQUM1RCxPQUFPLEdBQUcsR0FBRyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUM1QyxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZ1bmN0aW9uIHRoYXQgd3JhcHMgZW5jb2RlVVJJQ29tcG9uZW50IHRvIGVuY29kZSBhZGRpdGlvbmFsIGNoYXJhY3RlcnNcbiAqIHRvIGZ1bGx5IGFkaGVyZSB0byBSRkMgMzk4Ni5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dGVuZGVkRW5jb2RlVVJJQ29tcG9uZW50KHN0cjogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpKl0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICByZXR1cm4gXCIlXCIgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpO1xuICB9KTtcbn1cbiJdfQ==","/**\n * Checks if the given value is a Smithy structure of the given type.\n */\nexport function isa(o) {\n    var ids = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        ids[_i - 1] = arguments[_i];\n    }\n    return (typeof o === \"object\" &&\n        // Checks for name after __type, as name is used instead for errors.\n        ((\"__type\" in o && ids.indexOf(o[\"__type\"]) > -1) || (\"name\" in o && ids.indexOf(o[\"name\"]) > -1)));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXNhLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2lzYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRztBQUNILE1BQU0sVUFBVSxHQUFHLENBQUksQ0FBTTtJQUFFLGFBQWdCO1NBQWhCLFVBQWdCLEVBQWhCLHFCQUFnQixFQUFoQixJQUFnQjtRQUFoQiw0QkFBZ0I7O0lBQzdDLE9BQU8sQ0FDTCxPQUFPLENBQUMsS0FBSyxRQUFRO1FBQ3JCLG9FQUFvRTtRQUNwRSxDQUFDLENBQUMsUUFBUSxJQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFJLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUNuRyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2hlY2tzIGlmIHRoZSBnaXZlbiB2YWx1ZSBpcyBhIFNtaXRoeSBzdHJ1Y3R1cmUgb2YgdGhlIGdpdmVuIHR5cGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc2E8VD4obzogYW55LCAuLi5pZHM6IHN0cmluZ1tdKTogbyBpcyBUIHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgbyA9PT0gXCJvYmplY3RcIiAmJlxuICAgIC8vIENoZWNrcyBmb3IgbmFtZSBhZnRlciBfX3R5cGUsIGFzIG5hbWUgaXMgdXNlZCBpbnN0ZWFkIGZvciBlcnJvcnMuXG4gICAgKChcIl9fdHlwZVwiIGluIG8gJiYgaWRzLmluZGV4T2Yob1tcIl9fdHlwZVwiXSkgPiAtMSkgfHwgKFwibmFtZVwiIGluIG8gJiYgaWRzLmluZGV4T2Yob1tcIm5hbWVcIl0pID4gLTEpKVxuICApO1xufVxuIl19","/**\n * Lazy String holder for JSON typed contents.\n */\nimport { __extends, __read, __spread } from \"tslib\";\n/**\n * Because of https://github.com/microsoft/tslib/issues/95,\n * TS 'extends' shim doesn't support extending native types like String.\n * So here we create StringWrapper that duplicate everything from String\n * class including its prototype chain. So we can extend from here.\n */\n// @ts-ignore StringWrapper implementation is not a simple constructor\nexport var StringWrapper = function () {\n    //@ts-ignore 'this' cannot be assigned to any, but Object.getPrototypeOf accepts any\n    var Class = Object.getPrototypeOf(this).constructor;\n    var Constructor = Function.bind.apply(String, __spread([null], arguments));\n    //@ts-ignore Call wrapped String constructor directly, don't bother typing it.\n    var instance = new Constructor();\n    Object.setPrototypeOf(instance, Class.prototype);\n    return instance;\n};\nStringWrapper.prototype = Object.create(String.prototype, {\n    constructor: {\n        value: StringWrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true,\n    },\n});\nObject.setPrototypeOf(StringWrapper, String);\nvar LazyJsonString = /** @class */ (function (_super) {\n    __extends(LazyJsonString, _super);\n    function LazyJsonString() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LazyJsonString.prototype.deserializeJSON = function () {\n        return JSON.parse(_super.prototype.toString.call(this));\n    };\n    LazyJsonString.prototype.toJSON = function () {\n        return _super.prototype.toString.call(this);\n    };\n    LazyJsonString.fromObject = function (object) {\n        if (object instanceof LazyJsonString) {\n            return object;\n        }\n        else if (object instanceof String || typeof object === \"string\") {\n            return new LazyJsonString(object);\n        }\n        return new LazyJsonString(JSON.stringify(object));\n    };\n    return LazyJsonString;\n}(StringWrapper));\nexport { LazyJsonString };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF6eS1qc29uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2xhenktanNvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRzs7QUFNSDs7Ozs7R0FLRztBQUNILHNFQUFzRTtBQUN0RSxNQUFNLENBQUMsSUFBTSxhQUFhLEdBQWtCO0lBQzFDLG9GQUFvRjtJQUNwRixJQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQztJQUN0RCxJQUFNLFdBQVcsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLFlBQUcsSUFBVyxHQUFLLFNBQVMsRUFBRSxDQUFDO0lBQzdFLDhFQUE4RTtJQUM5RSxJQUFNLFFBQVEsR0FBRyxJQUFJLFdBQVcsRUFBRSxDQUFDO0lBQ25DLE1BQU0sQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNqRCxPQUFPLFFBQWtCLENBQUM7QUFDNUIsQ0FBQyxDQUFDO0FBQ0YsYUFBYSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLEVBQUU7SUFDeEQsV0FBVyxFQUFFO1FBQ1gsS0FBSyxFQUFFLGFBQWE7UUFDcEIsVUFBVSxFQUFFLEtBQUs7UUFDakIsUUFBUSxFQUFFLElBQUk7UUFDZCxZQUFZLEVBQUUsSUFBSTtLQUNuQjtDQUNGLENBQUMsQ0FBQztBQUNILE1BQU0sQ0FBQyxjQUFjLENBQUMsYUFBYSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBRTdDO0lBQW9DLGtDQUFhO0lBQWpEOztJQWlCQSxDQUFDO0lBaEJDLHdDQUFlLEdBQWY7UUFDRSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsaUJBQU0sUUFBUSxXQUFFLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBRUQsK0JBQU0sR0FBTjtRQUNFLE9BQU8saUJBQU0sUUFBUSxXQUFFLENBQUM7SUFDMUIsQ0FBQztJQUVNLHlCQUFVLEdBQWpCLFVBQWtCLE1BQVc7UUFDM0IsSUFBSSxNQUFNLFlBQVksY0FBYyxFQUFFO1lBQ3BDLE9BQU8sTUFBTSxDQUFDO1NBQ2Y7YUFBTSxJQUFJLE1BQU0sWUFBWSxNQUFNLElBQUksT0FBTyxNQUFNLEtBQUssUUFBUSxFQUFFO1lBQ2pFLE9BQU8sSUFBSSxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDbkM7UUFDRCxPQUFPLElBQUksY0FBYyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBQ0gscUJBQUM7QUFBRCxDQUFDLEFBakJELENBQW9DLGFBQWEsR0FpQmhEIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMYXp5IFN0cmluZyBob2xkZXIgZm9yIEpTT04gdHlwZWQgY29udGVudHMuXG4gKi9cblxuaW50ZXJmYWNlIFN0cmluZ1dyYXBwZXIge1xuICBuZXcgKGFyZzogYW55KTogU3RyaW5nO1xufVxuXG4vKipcbiAqIEJlY2F1c2Ugb2YgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC90c2xpYi9pc3N1ZXMvOTUsXG4gKiBUUyAnZXh0ZW5kcycgc2hpbSBkb2Vzbid0IHN1cHBvcnQgZXh0ZW5kaW5nIG5hdGl2ZSB0eXBlcyBsaWtlIFN0cmluZy5cbiAqIFNvIGhlcmUgd2UgY3JlYXRlIFN0cmluZ1dyYXBwZXIgdGhhdCBkdXBsaWNhdGUgZXZlcnl0aGluZyBmcm9tIFN0cmluZ1xuICogY2xhc3MgaW5jbHVkaW5nIGl0cyBwcm90b3R5cGUgY2hhaW4uIFNvIHdlIGNhbiBleHRlbmQgZnJvbSBoZXJlLlxuICovXG4vLyBAdHMtaWdub3JlIFN0cmluZ1dyYXBwZXIgaW1wbGVtZW50YXRpb24gaXMgbm90IGEgc2ltcGxlIGNvbnN0cnVjdG9yXG5leHBvcnQgY29uc3QgU3RyaW5nV3JhcHBlcjogU3RyaW5nV3JhcHBlciA9IGZ1bmN0aW9uICgpIHtcbiAgLy9AdHMtaWdub3JlICd0aGlzJyBjYW5ub3QgYmUgYXNzaWduZWQgdG8gYW55LCBidXQgT2JqZWN0LmdldFByb3RvdHlwZU9mIGFjY2VwdHMgYW55XG4gIGNvbnN0IENsYXNzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yO1xuICBjb25zdCBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoU3RyaW5nLCBbbnVsbCBhcyBhbnksIC4uLmFyZ3VtZW50c10pO1xuICAvL0B0cy1pZ25vcmUgQ2FsbCB3cmFwcGVkIFN0cmluZyBjb25zdHJ1Y3RvciBkaXJlY3RseSwgZG9uJ3QgYm90aGVyIHR5cGluZyBpdC5cbiAgY29uc3QgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTtcbiAgT2JqZWN0LnNldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpO1xuICByZXR1cm4gaW5zdGFuY2UgYXMgU3RyaW5nO1xufTtcblN0cmluZ1dyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShTdHJpbmcucHJvdG90eXBlLCB7XG4gIGNvbnN0cnVjdG9yOiB7XG4gICAgdmFsdWU6IFN0cmluZ1dyYXBwZXIsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICB9LFxufSk7XG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU3RyaW5nV3JhcHBlciwgU3RyaW5nKTtcblxuZXhwb3J0IGNsYXNzIExhenlKc29uU3RyaW5nIGV4dGVuZHMgU3RyaW5nV3JhcHBlciB7XG4gIGRlc2VyaWFsaXplSlNPTigpOiBhbnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHN1cGVyLnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgdG9KU09OKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHN1cGVyLnRvU3RyaW5nKCk7XG4gIH1cblxuICBzdGF0aWMgZnJvbU9iamVjdChvYmplY3Q6IGFueSk6IExhenlKc29uU3RyaW5nIHtcbiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgTGF6eUpzb25TdHJpbmcpIHtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBTdHJpbmcgfHwgdHlwZW9mIG9iamVjdCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIG5ldyBMYXp5SnNvblN0cmluZyhvYmplY3QpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IExhenlKc29uU3RyaW5nKEpTT04uc3RyaW5naWZ5KG9iamVjdCkpO1xuICB9XG59XG4iXX0=","export var SENSITIVE_STRING = \"***SensitiveInformation***\";\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsSUFBTSxnQkFBZ0IsR0FBRyw0QkFBNEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBTRU5TSVRJVkVfU1RSSU5HID0gXCIqKipTZW5zaXRpdmVJbmZvcm1hdGlvbioqKlwiO1xuIl19","import { __assign } from \"tslib\";\nimport { SENSITIVE_STRING, isa as __isa, } from \"@aws-sdk/smithy-client\";\nexport var BadGatewayException;\n(function (BadGatewayException) {\n    BadGatewayException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    BadGatewayException.isa = function (o) { return __isa(o, \"BadGatewayException\"); };\n})(BadGatewayException || (BadGatewayException = {}));\nexport var BadRequestException;\n(function (BadRequestException) {\n    BadRequestException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    BadRequestException.isa = function (o) { return __isa(o, \"BadRequestException\"); };\n})(BadRequestException || (BadRequestException = {}));\nexport var Button;\n(function (Button) {\n    Button.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    Button.isa = function (o) { return __isa(o, \"Button\"); };\n})(Button || (Button = {}));\nexport var ConfirmationStatus;\n(function (ConfirmationStatus) {\n    ConfirmationStatus[\"CONFIRMED\"] = \"Confirmed\";\n    ConfirmationStatus[\"DENIED\"] = \"Denied\";\n    ConfirmationStatus[\"NONE\"] = \"None\";\n})(ConfirmationStatus || (ConfirmationStatus = {}));\nexport var ConflictException;\n(function (ConflictException) {\n    ConflictException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    ConflictException.isa = function (o) { return __isa(o, \"ConflictException\"); };\n})(ConflictException || (ConflictException = {}));\nexport var ContentType;\n(function (ContentType) {\n    ContentType[\"GENERIC\"] = \"application/vnd.amazonaws.card.generic\";\n})(ContentType || (ContentType = {}));\nexport var DeleteSessionRequest;\n(function (DeleteSessionRequest) {\n    DeleteSessionRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    DeleteSessionRequest.isa = function (o) { return __isa(o, \"DeleteSessionRequest\"); };\n})(DeleteSessionRequest || (DeleteSessionRequest = {}));\nexport var DeleteSessionResponse;\n(function (DeleteSessionResponse) {\n    DeleteSessionResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    DeleteSessionResponse.isa = function (o) { return __isa(o, \"DeleteSessionResponse\"); };\n})(DeleteSessionResponse || (DeleteSessionResponse = {}));\nexport var DependencyFailedException;\n(function (DependencyFailedException) {\n    DependencyFailedException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    DependencyFailedException.isa = function (o) { return __isa(o, \"DependencyFailedException\"); };\n})(DependencyFailedException || (DependencyFailedException = {}));\nexport var DialogAction;\n(function (DialogAction) {\n    DialogAction.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign({}, obj), (obj.message && { message: SENSITIVE_STRING })), (obj.slots && { slots: SENSITIVE_STRING }))); };\n    DialogAction.isa = function (o) { return __isa(o, \"DialogAction\"); };\n})(DialogAction || (DialogAction = {}));\nexport var DialogActionType;\n(function (DialogActionType) {\n    DialogActionType[\"CLOSE\"] = \"Close\";\n    DialogActionType[\"CONFIRM_INTENT\"] = \"ConfirmIntent\";\n    DialogActionType[\"DELEGATE\"] = \"Delegate\";\n    DialogActionType[\"ELICIT_INTENT\"] = \"ElicitIntent\";\n    DialogActionType[\"ELICIT_SLOT\"] = \"ElicitSlot\";\n})(DialogActionType || (DialogActionType = {}));\nexport var DialogState;\n(function (DialogState) {\n    DialogState[\"CONFIRM_INTENT\"] = \"ConfirmIntent\";\n    DialogState[\"ELICIT_INTENT\"] = \"ElicitIntent\";\n    DialogState[\"ELICIT_SLOT\"] = \"ElicitSlot\";\n    DialogState[\"FAILED\"] = \"Failed\";\n    DialogState[\"FULFILLED\"] = \"Fulfilled\";\n    DialogState[\"READY_FOR_FULFILLMENT\"] = \"ReadyForFulfillment\";\n})(DialogState || (DialogState = {}));\nexport var FulfillmentState;\n(function (FulfillmentState) {\n    FulfillmentState[\"FAILED\"] = \"Failed\";\n    FulfillmentState[\"FULFILLED\"] = \"Fulfilled\";\n    FulfillmentState[\"READY_FOR_FULFILLMENT\"] = \"ReadyForFulfillment\";\n})(FulfillmentState || (FulfillmentState = {}));\nexport var GenericAttachment;\n(function (GenericAttachment) {\n    GenericAttachment.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    GenericAttachment.isa = function (o) { return __isa(o, \"GenericAttachment\"); };\n})(GenericAttachment || (GenericAttachment = {}));\nexport var GetSessionRequest;\n(function (GetSessionRequest) {\n    GetSessionRequest.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    GetSessionRequest.isa = function (o) { return __isa(o, \"GetSessionRequest\"); };\n})(GetSessionRequest || (GetSessionRequest = {}));\nexport var GetSessionResponse;\n(function (GetSessionResponse) {\n    GetSessionResponse.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign({}, obj), (obj.dialogAction && { dialogAction: DialogAction.filterSensitiveLog(obj.dialogAction) })), (obj.recentIntentSummaryView && {\n        recentIntentSummaryView: obj.recentIntentSummaryView.map(function (item) { return IntentSummary.filterSensitiveLog(item); }),\n    })), (obj.sessionAttributes && { sessionAttributes: SENSITIVE_STRING }))); };\n    GetSessionResponse.isa = function (o) { return __isa(o, \"GetSessionResponse\"); };\n})(GetSessionResponse || (GetSessionResponse = {}));\nexport var IntentSummary;\n(function (IntentSummary) {\n    IntentSummary.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.slots && { slots: SENSITIVE_STRING }))); };\n    IntentSummary.isa = function (o) { return __isa(o, \"IntentSummary\"); };\n})(IntentSummary || (IntentSummary = {}));\nexport var InternalFailureException;\n(function (InternalFailureException) {\n    InternalFailureException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    InternalFailureException.isa = function (o) { return __isa(o, \"InternalFailureException\"); };\n})(InternalFailureException || (InternalFailureException = {}));\nexport var LimitExceededException;\n(function (LimitExceededException) {\n    LimitExceededException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    LimitExceededException.isa = function (o) { return __isa(o, \"LimitExceededException\"); };\n})(LimitExceededException || (LimitExceededException = {}));\nexport var LoopDetectedException;\n(function (LoopDetectedException) {\n    LoopDetectedException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    LoopDetectedException.isa = function (o) { return __isa(o, \"LoopDetectedException\"); };\n})(LoopDetectedException || (LoopDetectedException = {}));\nexport var MessageFormatType;\n(function (MessageFormatType) {\n    MessageFormatType[\"COMPOSITE\"] = \"Composite\";\n    MessageFormatType[\"CUSTOM_PAYLOAD\"] = \"CustomPayload\";\n    MessageFormatType[\"PLAIN_TEXT\"] = \"PlainText\";\n    MessageFormatType[\"SSML\"] = \"SSML\";\n})(MessageFormatType || (MessageFormatType = {}));\nexport var NotAcceptableException;\n(function (NotAcceptableException) {\n    NotAcceptableException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    NotAcceptableException.isa = function (o) { return __isa(o, \"NotAcceptableException\"); };\n})(NotAcceptableException || (NotAcceptableException = {}));\nexport var NotFoundException;\n(function (NotFoundException) {\n    NotFoundException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    NotFoundException.isa = function (o) { return __isa(o, \"NotFoundException\"); };\n})(NotFoundException || (NotFoundException = {}));\nexport var PostContentRequest;\n(function (PostContentRequest) {\n    PostContentRequest.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign({}, obj), (obj.sessionAttributes && { sessionAttributes: SENSITIVE_STRING })), (obj.requestAttributes && { requestAttributes: SENSITIVE_STRING }))); };\n    PostContentRequest.isa = function (o) { return __isa(o, \"PostContentRequest\"); };\n})(PostContentRequest || (PostContentRequest = {}));\nexport var PostContentResponse;\n(function (PostContentResponse) {\n    PostContentResponse.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.message && { message: SENSITIVE_STRING }))); };\n    PostContentResponse.isa = function (o) { return __isa(o, \"PostContentResponse\"); };\n})(PostContentResponse || (PostContentResponse = {}));\nexport var PostTextRequest;\n(function (PostTextRequest) {\n    PostTextRequest.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign({}, obj), (obj.inputText && { inputText: SENSITIVE_STRING })), (obj.sessionAttributes && { sessionAttributes: SENSITIVE_STRING })), (obj.requestAttributes && { requestAttributes: SENSITIVE_STRING }))); };\n    PostTextRequest.isa = function (o) { return __isa(o, \"PostTextRequest\"); };\n})(PostTextRequest || (PostTextRequest = {}));\nexport var PostTextResponse;\n(function (PostTextResponse) {\n    PostTextResponse.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign({}, obj), (obj.message && { message: SENSITIVE_STRING })), (obj.slots && { slots: SENSITIVE_STRING })), (obj.sessionAttributes && { sessionAttributes: SENSITIVE_STRING }))); };\n    PostTextResponse.isa = function (o) { return __isa(o, \"PostTextResponse\"); };\n})(PostTextResponse || (PostTextResponse = {}));\nexport var PutSessionRequest;\n(function (PutSessionRequest) {\n    PutSessionRequest.filterSensitiveLog = function (obj) { return (__assign(__assign(__assign(__assign({}, obj), (obj.dialogAction && { dialogAction: DialogAction.filterSensitiveLog(obj.dialogAction) })), (obj.recentIntentSummaryView && {\n        recentIntentSummaryView: obj.recentIntentSummaryView.map(function (item) { return IntentSummary.filterSensitiveLog(item); }),\n    })), (obj.sessionAttributes && { sessionAttributes: SENSITIVE_STRING }))); };\n    PutSessionRequest.isa = function (o) { return __isa(o, \"PutSessionRequest\"); };\n})(PutSessionRequest || (PutSessionRequest = {}));\nexport var PutSessionResponse;\n(function (PutSessionResponse) {\n    PutSessionResponse.filterSensitiveLog = function (obj) { return (__assign(__assign({}, obj), (obj.message && { message: SENSITIVE_STRING }))); };\n    PutSessionResponse.isa = function (o) { return __isa(o, \"PutSessionResponse\"); };\n})(PutSessionResponse || (PutSessionResponse = {}));\nexport var RequestTimeoutException;\n(function (RequestTimeoutException) {\n    RequestTimeoutException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    RequestTimeoutException.isa = function (o) { return __isa(o, \"RequestTimeoutException\"); };\n})(RequestTimeoutException || (RequestTimeoutException = {}));\nexport var ResponseCard;\n(function (ResponseCard) {\n    ResponseCard.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    ResponseCard.isa = function (o) { return __isa(o, \"ResponseCard\"); };\n})(ResponseCard || (ResponseCard = {}));\nexport var SentimentResponse;\n(function (SentimentResponse) {\n    SentimentResponse.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    SentimentResponse.isa = function (o) { return __isa(o, \"SentimentResponse\"); };\n})(SentimentResponse || (SentimentResponse = {}));\nexport var UnsupportedMediaTypeException;\n(function (UnsupportedMediaTypeException) {\n    UnsupportedMediaTypeException.filterSensitiveLog = function (obj) { return (__assign({}, obj)); };\n    UnsupportedMediaTypeException.isa = function (o) { return __isa(o, \"UnsupportedMediaTypeException\"); };\n})(UnsupportedMediaTypeException || (UnsupportedMediaTypeException = {}));\n//# sourceMappingURL=index.js.map","import { __assign, __extends } from \"tslib\";\nimport { ClientDefaultValues as __ClientDefaultValues } from \"./runtimeConfig\";\nimport { resolveEndpointsConfig, resolveRegionConfig, } from \"@aws-sdk/config-resolver\";\nimport { getContentLengthPlugin } from \"@aws-sdk/middleware-content-length\";\nimport { getHostHeaderPlugin, resolveHostHeaderConfig, } from \"@aws-sdk/middleware-host-header\";\nimport { getLoggerPlugin, resolveLoggerConfig, } from \"@aws-sdk/middleware-logger\";\nimport { getRetryPlugin, resolveRetryConfig } from \"@aws-sdk/middleware-retry\";\nimport { getAwsAuthPlugin, resolveAwsAuthConfig, } from \"@aws-sdk/middleware-signing\";\nimport { getUserAgentPlugin, resolveUserAgentConfig, } from \"@aws-sdk/middleware-user-agent\";\nimport { Client as __Client, } from \"@aws-sdk/smithy-client\";\n/**\n * <p>Amazon Lex provides both build and runtime endpoints. Each endpoint provides a set of\n *       operations (API). Your conversational bot uses the runtime API to understand user utterances\n *       (user input text or voice). For example, suppose a user says \"I want pizza\", your bot sends\n *       this input to Amazon Lex using the runtime API. Amazon Lex recognizes that the user request is\n *       for the OrderPizza intent (one of the intents defined in the bot). Then Amazon Lex engages in\n *       user conversation on behalf of the bot to elicit required information (slot values, such as\n *       pizza size and crust type), and then performs fulfillment activity (that you configured when\n *       you created the bot). You use the build-time API to create and manage your Amazon Lex bot. For\n *       a list of build-time operations, see the build-time API, . </p>\n */\nvar LexRuntimeServiceClient = /** @class */ (function (_super) {\n    __extends(LexRuntimeServiceClient, _super);\n    function LexRuntimeServiceClient(configuration) {\n        var _this = this;\n        var _config_0 = __assign(__assign({}, __ClientDefaultValues), configuration);\n        var _config_1 = resolveRegionConfig(_config_0);\n        var _config_2 = resolveEndpointsConfig(_config_1);\n        var _config_3 = resolveAwsAuthConfig(_config_2);\n        var _config_4 = resolveRetryConfig(_config_3);\n        var _config_5 = resolveUserAgentConfig(_config_4);\n        var _config_6 = resolveHostHeaderConfig(_config_5);\n        var _config_7 = resolveLoggerConfig(_config_6);\n        _this = _super.call(this, _config_7) || this;\n        _this.config = _config_7;\n        _this.middlewareStack.use(getAwsAuthPlugin(_this.config));\n        _this.middlewareStack.use(getRetryPlugin(_this.config));\n        _this.middlewareStack.use(getUserAgentPlugin(_this.config));\n        _this.middlewareStack.use(getContentLengthPlugin(_this.config));\n        _this.middlewareStack.use(getHostHeaderPlugin(_this.config));\n        _this.middlewareStack.use(getLoggerPlugin(_this.config));\n        return _this;\n    }\n    LexRuntimeServiceClient.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n    };\n    return LexRuntimeServiceClient;\n}(__Client));\nexport { LexRuntimeServiceClient };\n//# sourceMappingURL=LexRuntimeServiceClient.js.map","import { __assign, __awaiter, __generator, __read } from \"tslib\";\nimport { HttpRequest as __HttpRequest } from \"@aws-sdk/protocol-http\";\nimport { LazyJsonString as __LazyJsonString, extendedEncodeURIComponent as __extendedEncodeURIComponent, } from \"@aws-sdk/smithy-client\";\nexport var serializeAws_restJson1DeleteSessionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = {\n                    \"Content-Type\": \"\",\n                };\n                resolvedPath = \"/bot/{botName}/alias/{botAlias}/user/{userId}/session\";\n                if (input.userId !== undefined) {\n                    labelValue = input.userId;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: userId.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{userId}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: userId.\");\n                }\n                if (input.botName !== undefined) {\n                    labelValue = input.botName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botName.\");\n                }\n                if (input.botAlias !== undefined) {\n                    labelValue = input.botAlias;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botAlias.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botAlias}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botAlias.\");\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"DELETE\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1GetSessionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, query, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = {\n                    \"Content-Type\": \"\",\n                };\n                resolvedPath = \"/bot/{botName}/alias/{botAlias}/user/{userId}/session\";\n                if (input.botName !== undefined) {\n                    labelValue = input.botName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botName.\");\n                }\n                if (input.botAlias !== undefined) {\n                    labelValue = input.botAlias;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botAlias.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botAlias}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botAlias.\");\n                }\n                if (input.userId !== undefined) {\n                    labelValue = input.userId;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: userId.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{userId}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: userId.\");\n                }\n                query = __assign({}, (input.checkpointLabelFilter !== undefined && { checkpointLabelFilter: input.checkpointLabelFilter }));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"GET\",\n                        headers: headers,\n                        path: resolvedPath,\n                        query: query,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1PostContentCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign(__assign(__assign(__assign({ \"Content-Type\": \"application/octet-stream\", \"x-amz-content-sha256\": \"UNSIGNED-PAYLOAD\" }, (isSerializableHeaderValue(input.sessionAttributes) && {\n                    \"x-amz-lex-session-attributes\": __LazyJsonString.fromObject(input.sessionAttributes),\n                })), (isSerializableHeaderValue(input.requestAttributes) && {\n                    \"x-amz-lex-request-attributes\": __LazyJsonString.fromObject(input.requestAttributes),\n                })), (isSerializableHeaderValue(input.accept) && { Accept: input.accept })), (isSerializableHeaderValue(input.contentType) && { \"Content-Type\": input.contentType }));\n                resolvedPath = \"/bot/{botName}/alias/{botAlias}/user/{userId}/content\";\n                if (input.userId !== undefined) {\n                    labelValue = input.userId;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: userId.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{userId}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: userId.\");\n                }\n                if (input.botName !== undefined) {\n                    labelValue = input.botName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botName.\");\n                }\n                if (input.botAlias !== undefined) {\n                    labelValue = input.botAlias;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botAlias.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botAlias}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botAlias.\");\n                }\n                if (input.inputStream !== undefined) {\n                    body = input.inputStream;\n                }\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1PostTextCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = {\n                    \"Content-Type\": \"application/json\",\n                };\n                resolvedPath = \"/bot/{botName}/alias/{botAlias}/user/{userId}/text\";\n                if (input.userId !== undefined) {\n                    labelValue = input.userId;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: userId.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{userId}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: userId.\");\n                }\n                if (input.botName !== undefined) {\n                    labelValue = input.botName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botName.\");\n                }\n                if (input.botAlias !== undefined) {\n                    labelValue = input.botAlias;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botAlias.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botAlias}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botAlias.\");\n                }\n                body = JSON.stringify(__assign(__assign(__assign({}, (input.inputText !== undefined && { inputText: input.inputText })), (input.requestAttributes !== undefined && {\n                    requestAttributes: serializeAws_restJson1StringMap(input.requestAttributes, context),\n                })), (input.sessionAttributes !== undefined && {\n                    sessionAttributes: serializeAws_restJson1StringMap(input.sessionAttributes, context),\n                })));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var serializeAws_restJson1PutSessionCommand = function (input, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var headers, resolvedPath, labelValue, labelValue, labelValue, body, _a, hostname, _b, protocol, port;\n    return __generator(this, function (_c) {\n        switch (_c.label) {\n            case 0:\n                headers = __assign({ \"Content-Type\": \"application/json\" }, (isSerializableHeaderValue(input.accept) && { Accept: input.accept }));\n                resolvedPath = \"/bot/{botName}/alias/{botAlias}/user/{userId}/session\";\n                if (input.userId !== undefined) {\n                    labelValue = input.userId;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: userId.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{userId}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: userId.\");\n                }\n                if (input.botName !== undefined) {\n                    labelValue = input.botName;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botName.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botName}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botName.\");\n                }\n                if (input.botAlias !== undefined) {\n                    labelValue = input.botAlias;\n                    if (labelValue.length <= 0) {\n                        throw new Error(\"Empty value provided for input HTTP label: botAlias.\");\n                    }\n                    resolvedPath = resolvedPath.replace(\"{botAlias}\", __extendedEncodeURIComponent(labelValue));\n                }\n                else {\n                    throw new Error(\"No value provided for input HTTP label: botAlias.\");\n                }\n                body = JSON.stringify(__assign(__assign(__assign({}, (input.dialogAction !== undefined && {\n                    dialogAction: serializeAws_restJson1DialogAction(input.dialogAction, context),\n                })), (input.recentIntentSummaryView !== undefined && {\n                    recentIntentSummaryView: serializeAws_restJson1IntentSummaryList(input.recentIntentSummaryView, context),\n                })), (input.sessionAttributes !== undefined && {\n                    sessionAttributes: serializeAws_restJson1StringMap(input.sessionAttributes, context),\n                })));\n                return [4 /*yield*/, context.endpoint()];\n            case 1:\n                _a = _c.sent(), hostname = _a.hostname, _b = _a.protocol, protocol = _b === void 0 ? \"https\" : _b, port = _a.port;\n                return [2 /*return*/, new __HttpRequest({\n                        protocol: protocol,\n                        hostname: hostname,\n                        port: port,\n                        method: \"POST\",\n                        headers: headers,\n                        path: resolvedPath,\n                        body: body,\n                    })];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1DeleteSessionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 400) {\n                    return [2 /*return*/, deserializeAws_restJson1DeleteSessionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    __type: \"DeleteSessionResponse\",\n                    botAlias: undefined,\n                    botName: undefined,\n                    sessionId: undefined,\n                    userId: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.botAlias !== undefined && data.botAlias !== null) {\n                    contents.botAlias = data.botAlias;\n                }\n                if (data.botName !== undefined && data.botName !== null) {\n                    contents.botName = data.botName;\n                }\n                if (data.sessionId !== undefined && data.sessionId !== null) {\n                    contents.sessionId = data.sessionId;\n                }\n                if (data.userId !== undefined && data.userId !== null) {\n                    contents.userId = data.userId;\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1DeleteSessionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, parsedBody, message;\n    var _h;\n    return __generator(this, function (_j) {\n        switch (_j.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _h = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_h.body = _j.sent(), _h)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"BadRequestException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.lexruntimeservice#BadRequestException\": return [3 /*break*/, 2];\n                    case \"ConflictException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.lexruntimeservice#ConflictException\": return [3 /*break*/, 4];\n                    case \"InternalFailureException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.lexruntimeservice#InternalFailureException\": return [3 /*break*/, 6];\n                    case \"LimitExceededException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.lexruntimeservice#LimitExceededException\": return [3 /*break*/, 8];\n                    case \"NotFoundException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.lexruntimeservice#NotFoundException\": return [3 /*break*/, 10];\n                }\n                return [3 /*break*/, 12];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_j.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 13];\n            case 12:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _j.label = 13;\n            case 13:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1GetSessionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 400) {\n                    return [2 /*return*/, deserializeAws_restJson1GetSessionCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    __type: \"GetSessionResponse\",\n                    dialogAction: undefined,\n                    recentIntentSummaryView: undefined,\n                    sessionAttributes: undefined,\n                    sessionId: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.dialogAction !== undefined && data.dialogAction !== null) {\n                    contents.dialogAction = deserializeAws_restJson1DialogAction(data.dialogAction, context);\n                }\n                if (data.recentIntentSummaryView !== undefined && data.recentIntentSummaryView !== null) {\n                    contents.recentIntentSummaryView = deserializeAws_restJson1IntentSummaryList(data.recentIntentSummaryView, context);\n                }\n                if (data.sessionAttributes !== undefined && data.sessionAttributes !== null) {\n                    contents.sessionAttributes = deserializeAws_restJson1StringMap(data.sessionAttributes, context);\n                }\n                if (data.sessionId !== undefined && data.sessionId !== null) {\n                    contents.sessionId = data.sessionId;\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1GetSessionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, parsedBody, message;\n    var _g;\n    return __generator(this, function (_h) {\n        switch (_h.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _g = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_g.body = _h.sent(), _g)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"BadRequestException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.lexruntimeservice#BadRequestException\": return [3 /*break*/, 2];\n                    case \"InternalFailureException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.lexruntimeservice#InternalFailureException\": return [3 /*break*/, 4];\n                    case \"LimitExceededException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.lexruntimeservice#LimitExceededException\": return [3 /*break*/, 6];\n                    case \"NotFoundException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.lexruntimeservice#NotFoundException\": return [3 /*break*/, 8];\n                }\n                return [3 /*break*/, 10];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_h.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 11];\n            case 10:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _h.label = 11;\n            case 11:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1PostContentCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        if (output.statusCode !== 200 && output.statusCode >= 400) {\n            return [2 /*return*/, deserializeAws_restJson1PostContentCommandError(output, context)];\n        }\n        contents = {\n            $metadata: deserializeMetadata(output),\n            __type: \"PostContentResponse\",\n            audioStream: undefined,\n            contentType: undefined,\n            dialogState: undefined,\n            inputTranscript: undefined,\n            intentName: undefined,\n            message: undefined,\n            messageFormat: undefined,\n            sentimentResponse: undefined,\n            sessionAttributes: undefined,\n            sessionId: undefined,\n            slotToElicit: undefined,\n            slots: undefined,\n        };\n        if (output.headers[\"x-amz-lex-message\"] !== undefined) {\n            contents.message = output.headers[\"x-amz-lex-message\"];\n        }\n        if (output.headers[\"x-amz-lex-slots\"] !== undefined) {\n            contents.slots = new __LazyJsonString(output.headers[\"x-amz-lex-slots\"]);\n        }\n        if (output.headers[\"x-amz-lex-dialog-state\"] !== undefined) {\n            contents.dialogState = output.headers[\"x-amz-lex-dialog-state\"];\n        }\n        if (output.headers[\"x-amz-lex-intent-name\"] !== undefined) {\n            contents.intentName = output.headers[\"x-amz-lex-intent-name\"];\n        }\n        if (output.headers[\"x-amz-lex-input-transcript\"] !== undefined) {\n            contents.inputTranscript = output.headers[\"x-amz-lex-input-transcript\"];\n        }\n        if (output.headers[\"x-amz-lex-message-format\"] !== undefined) {\n            contents.messageFormat = output.headers[\"x-amz-lex-message-format\"];\n        }\n        if (output.headers[\"content-type\"] !== undefined) {\n            contents.contentType = output.headers[\"content-type\"];\n        }\n        if (output.headers[\"x-amz-lex-session-id\"] !== undefined) {\n            contents.sessionId = output.headers[\"x-amz-lex-session-id\"];\n        }\n        if (output.headers[\"x-amz-lex-session-attributes\"] !== undefined) {\n            contents.sessionAttributes = new __LazyJsonString(output.headers[\"x-amz-lex-session-attributes\"]);\n        }\n        if (output.headers[\"x-amz-lex-sentiment\"] !== undefined) {\n            contents.sentimentResponse = output.headers[\"x-amz-lex-sentiment\"];\n        }\n        if (output.headers[\"x-amz-lex-slot-to-elicit\"] !== undefined) {\n            contents.slotToElicit = output.headers[\"x-amz-lex-slot-to-elicit\"];\n        }\n        data = output.body;\n        contents.audioStream = data;\n        return [2 /*return*/, Promise.resolve(contents)];\n    });\n}); };\nvar deserializeAws_restJson1PostContentCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, parsedBody, message;\n    var _p;\n    return __generator(this, function (_q) {\n        switch (_q.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _p = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_p.body = _q.sent(), _p)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"BadGatewayException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.lexruntimeservice#BadGatewayException\": return [3 /*break*/, 2];\n                    case \"BadRequestException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.lexruntimeservice#BadRequestException\": return [3 /*break*/, 4];\n                    case \"ConflictException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.lexruntimeservice#ConflictException\": return [3 /*break*/, 6];\n                    case \"DependencyFailedException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.lexruntimeservice#DependencyFailedException\": return [3 /*break*/, 8];\n                    case \"InternalFailureException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.lexruntimeservice#InternalFailureException\": return [3 /*break*/, 10];\n                    case \"LimitExceededException\": return [3 /*break*/, 12];\n                    case \"com.amazonaws.lexruntimeservice#LimitExceededException\": return [3 /*break*/, 12];\n                    case \"LoopDetectedException\": return [3 /*break*/, 14];\n                    case \"com.amazonaws.lexruntimeservice#LoopDetectedException\": return [3 /*break*/, 14];\n                    case \"NotAcceptableException\": return [3 /*break*/, 16];\n                    case \"com.amazonaws.lexruntimeservice#NotAcceptableException\": return [3 /*break*/, 16];\n                    case \"NotFoundException\": return [3 /*break*/, 18];\n                    case \"com.amazonaws.lexruntimeservice#NotFoundException\": return [3 /*break*/, 18];\n                    case \"RequestTimeoutException\": return [3 /*break*/, 20];\n                    case \"com.amazonaws.lexruntimeservice#RequestTimeoutException\": return [3 /*break*/, 20];\n                    case \"UnsupportedMediaTypeException\": return [3 /*break*/, 22];\n                    case \"com.amazonaws.lexruntimeservice#UnsupportedMediaTypeException\": return [3 /*break*/, 22];\n                }\n                return [3 /*break*/, 24];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadGatewayExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1DependencyFailedExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 12:\n                _h = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n            case 13:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 14:\n                _j = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LoopDetectedExceptionResponse(parsedOutput, context)];\n            case 15:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 16:\n                _k = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotAcceptableExceptionResponse(parsedOutput, context)];\n            case 17:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _k.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 18:\n                _l = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n            case 19:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _l.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 20:\n                _m = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1RequestTimeoutExceptionResponse(parsedOutput, context)];\n            case 21:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _m.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 22:\n                _o = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1UnsupportedMediaTypeExceptionResponse(parsedOutput, context)];\n            case 23:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _o.concat([(_q.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 25];\n            case 24:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _q.label = 25;\n            case 25:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1PostTextCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (output.statusCode !== 200 && output.statusCode >= 400) {\n                    return [2 /*return*/, deserializeAws_restJson1PostTextCommandError(output, context)];\n                }\n                contents = {\n                    $metadata: deserializeMetadata(output),\n                    __type: \"PostTextResponse\",\n                    dialogState: undefined,\n                    intentName: undefined,\n                    message: undefined,\n                    messageFormat: undefined,\n                    responseCard: undefined,\n                    sentimentResponse: undefined,\n                    sessionAttributes: undefined,\n                    sessionId: undefined,\n                    slotToElicit: undefined,\n                    slots: undefined,\n                };\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                data = _a.sent();\n                if (data.dialogState !== undefined && data.dialogState !== null) {\n                    contents.dialogState = data.dialogState;\n                }\n                if (data.intentName !== undefined && data.intentName !== null) {\n                    contents.intentName = data.intentName;\n                }\n                if (data.message !== undefined && data.message !== null) {\n                    contents.message = data.message;\n                }\n                if (data.messageFormat !== undefined && data.messageFormat !== null) {\n                    contents.messageFormat = data.messageFormat;\n                }\n                if (data.responseCard !== undefined && data.responseCard !== null) {\n                    contents.responseCard = deserializeAws_restJson1ResponseCard(data.responseCard, context);\n                }\n                if (data.sentimentResponse !== undefined && data.sentimentResponse !== null) {\n                    contents.sentimentResponse = deserializeAws_restJson1SentimentResponse(data.sentimentResponse, context);\n                }\n                if (data.sessionAttributes !== undefined && data.sessionAttributes !== null) {\n                    contents.sessionAttributes = deserializeAws_restJson1StringMap(data.sessionAttributes, context);\n                }\n                if (data.sessionId !== undefined && data.sessionId !== null) {\n                    contents.sessionId = data.sessionId;\n                }\n                if (data.slotToElicit !== undefined && data.slotToElicit !== null) {\n                    contents.slotToElicit = data.slotToElicit;\n                }\n                if (data.slots !== undefined && data.slots !== null) {\n                    contents.slots = deserializeAws_restJson1StringMap(data.slots, context);\n                }\n                return [2 /*return*/, Promise.resolve(contents)];\n        }\n    });\n}); };\nvar deserializeAws_restJson1PostTextCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, _h, _j, _k, parsedBody, message;\n    var _l;\n    return __generator(this, function (_m) {\n        switch (_m.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _l = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_l.body = _m.sent(), _l)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"BadGatewayException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.lexruntimeservice#BadGatewayException\": return [3 /*break*/, 2];\n                    case \"BadRequestException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.lexruntimeservice#BadRequestException\": return [3 /*break*/, 4];\n                    case \"ConflictException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.lexruntimeservice#ConflictException\": return [3 /*break*/, 6];\n                    case \"DependencyFailedException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.lexruntimeservice#DependencyFailedException\": return [3 /*break*/, 8];\n                    case \"InternalFailureException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.lexruntimeservice#InternalFailureException\": return [3 /*break*/, 10];\n                    case \"LimitExceededException\": return [3 /*break*/, 12];\n                    case \"com.amazonaws.lexruntimeservice#LimitExceededException\": return [3 /*break*/, 12];\n                    case \"LoopDetectedException\": return [3 /*break*/, 14];\n                    case \"com.amazonaws.lexruntimeservice#LoopDetectedException\": return [3 /*break*/, 14];\n                    case \"NotFoundException\": return [3 /*break*/, 16];\n                    case \"com.amazonaws.lexruntimeservice#NotFoundException\": return [3 /*break*/, 16];\n                }\n                return [3 /*break*/, 18];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadGatewayExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1DependencyFailedExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 12:\n                _h = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n            case 13:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 14:\n                _j = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LoopDetectedExceptionResponse(parsedOutput, context)];\n            case 15:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 16:\n                _k = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n            case 17:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _k.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 18:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _m.label = 19;\n            case 19:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nexport var deserializeAws_restJson1PutSessionCommand = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        if (output.statusCode !== 200 && output.statusCode >= 400) {\n            return [2 /*return*/, deserializeAws_restJson1PutSessionCommandError(output, context)];\n        }\n        contents = {\n            $metadata: deserializeMetadata(output),\n            __type: \"PutSessionResponse\",\n            audioStream: undefined,\n            contentType: undefined,\n            dialogState: undefined,\n            intentName: undefined,\n            message: undefined,\n            messageFormat: undefined,\n            sessionAttributes: undefined,\n            sessionId: undefined,\n            slotToElicit: undefined,\n            slots: undefined,\n        };\n        if (output.headers[\"x-amz-lex-slots\"] !== undefined) {\n            contents.slots = new __LazyJsonString(output.headers[\"x-amz-lex-slots\"]);\n        }\n        if (output.headers[\"x-amz-lex-message-format\"] !== undefined) {\n            contents.messageFormat = output.headers[\"x-amz-lex-message-format\"];\n        }\n        if (output.headers[\"x-amz-lex-intent-name\"] !== undefined) {\n            contents.intentName = output.headers[\"x-amz-lex-intent-name\"];\n        }\n        if (output.headers[\"x-amz-lex-session-id\"] !== undefined) {\n            contents.sessionId = output.headers[\"x-amz-lex-session-id\"];\n        }\n        if (output.headers[\"x-amz-lex-session-attributes\"] !== undefined) {\n            contents.sessionAttributes = new __LazyJsonString(output.headers[\"x-amz-lex-session-attributes\"]);\n        }\n        if (output.headers[\"x-amz-lex-dialog-state\"] !== undefined) {\n            contents.dialogState = output.headers[\"x-amz-lex-dialog-state\"];\n        }\n        if (output.headers[\"x-amz-lex-message\"] !== undefined) {\n            contents.message = output.headers[\"x-amz-lex-message\"];\n        }\n        if (output.headers[\"content-type\"] !== undefined) {\n            contents.contentType = output.headers[\"content-type\"];\n        }\n        if (output.headers[\"x-amz-lex-slot-to-elicit\"] !== undefined) {\n            contents.slotToElicit = output.headers[\"x-amz-lex-slot-to-elicit\"];\n        }\n        data = output.body;\n        contents.audioStream = data;\n        return [2 /*return*/, Promise.resolve(contents)];\n    });\n}); };\nvar deserializeAws_restJson1PutSessionCommandError = function (output, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var parsedOutput, _a, response, errorCode, _b, _c, _d, _e, _f, _g, _h, _j, _k, parsedBody, message;\n    var _l;\n    return __generator(this, function (_m) {\n        switch (_m.label) {\n            case 0:\n                _a = [__assign({}, output)];\n                _l = {};\n                return [4 /*yield*/, parseBody(output.body, context)];\n            case 1:\n                parsedOutput = __assign.apply(void 0, _a.concat([(_l.body = _m.sent(), _l)]));\n                errorCode = \"UnknownError\";\n                errorCode = loadRestJsonErrorCode(output, parsedOutput.body);\n                _b = errorCode;\n                switch (_b) {\n                    case \"BadGatewayException\": return [3 /*break*/, 2];\n                    case \"com.amazonaws.lexruntimeservice#BadGatewayException\": return [3 /*break*/, 2];\n                    case \"BadRequestException\": return [3 /*break*/, 4];\n                    case \"com.amazonaws.lexruntimeservice#BadRequestException\": return [3 /*break*/, 4];\n                    case \"ConflictException\": return [3 /*break*/, 6];\n                    case \"com.amazonaws.lexruntimeservice#ConflictException\": return [3 /*break*/, 6];\n                    case \"DependencyFailedException\": return [3 /*break*/, 8];\n                    case \"com.amazonaws.lexruntimeservice#DependencyFailedException\": return [3 /*break*/, 8];\n                    case \"InternalFailureException\": return [3 /*break*/, 10];\n                    case \"com.amazonaws.lexruntimeservice#InternalFailureException\": return [3 /*break*/, 10];\n                    case \"LimitExceededException\": return [3 /*break*/, 12];\n                    case \"com.amazonaws.lexruntimeservice#LimitExceededException\": return [3 /*break*/, 12];\n                    case \"NotAcceptableException\": return [3 /*break*/, 14];\n                    case \"com.amazonaws.lexruntimeservice#NotAcceptableException\": return [3 /*break*/, 14];\n                    case \"NotFoundException\": return [3 /*break*/, 16];\n                    case \"com.amazonaws.lexruntimeservice#NotFoundException\": return [3 /*break*/, 16];\n                }\n                return [3 /*break*/, 18];\n            case 2:\n                _c = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadGatewayExceptionResponse(parsedOutput, context)];\n            case 3:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _c.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 4:\n                _d = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1BadRequestExceptionResponse(parsedOutput, context)];\n            case 5:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _d.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 6:\n                _e = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1ConflictExceptionResponse(parsedOutput, context)];\n            case 7:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _e.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 8:\n                _f = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1DependencyFailedExceptionResponse(parsedOutput, context)];\n            case 9:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _f.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 10:\n                _g = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1InternalFailureExceptionResponse(parsedOutput, context)];\n            case 11:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _g.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 12:\n                _h = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1LimitExceededExceptionResponse(parsedOutput, context)];\n            case 13:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _h.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 14:\n                _j = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotAcceptableExceptionResponse(parsedOutput, context)];\n            case 15:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _j.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 16:\n                _k = [{}];\n                return [4 /*yield*/, deserializeAws_restJson1NotFoundExceptionResponse(parsedOutput, context)];\n            case 17:\n                response = __assign.apply(void 0, [__assign.apply(void 0, _k.concat([(_m.sent())])), { name: errorCode, $metadata: deserializeMetadata(output) }]);\n                return [3 /*break*/, 19];\n            case 18:\n                parsedBody = parsedOutput.body;\n                errorCode = parsedBody.code || parsedBody.Code || errorCode;\n                response = __assign(__assign({}, parsedBody), { name: \"\" + errorCode, message: parsedBody.message || parsedBody.Message || errorCode, $fault: \"client\", $metadata: deserializeMetadata(output) });\n                _m.label = 19;\n            case 19:\n                message = response.message || response.Message || errorCode;\n                response.message = message;\n                delete response.Message;\n                return [2 /*return*/, Promise.reject(Object.assign(new Error(message), response))];\n        }\n    });\n}); };\nvar deserializeAws_restJson1BadGatewayExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"BadGatewayException\",\n            $fault: \"server\",\n            $metadata: deserializeMetadata(parsedOutput),\n            Message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.Message !== undefined && data.Message !== null) {\n            contents.Message = data.Message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1BadRequestExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"BadRequestException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1ConflictExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"ConflictException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1DependencyFailedExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"DependencyFailedException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            Message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.Message !== undefined && data.Message !== null) {\n            contents.Message = data.Message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1InternalFailureExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"InternalFailureException\",\n            $fault: \"server\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1LimitExceededExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"LimitExceededException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n            retryAfterSeconds: undefined,\n        };\n        if (parsedOutput.headers[\"retry-after\"] !== undefined) {\n            contents.retryAfterSeconds = parsedOutput.headers[\"retry-after\"];\n        }\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1LoopDetectedExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"LoopDetectedException\",\n            $fault: \"server\",\n            $metadata: deserializeMetadata(parsedOutput),\n            Message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.Message !== undefined && data.Message !== null) {\n            contents.Message = data.Message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1NotAcceptableExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"NotAcceptableException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1NotFoundExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"NotFoundException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1RequestTimeoutExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"RequestTimeoutException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar deserializeAws_restJson1UnsupportedMediaTypeExceptionResponse = function (parsedOutput, context) { return __awaiter(void 0, void 0, void 0, function () {\n    var contents, data;\n    return __generator(this, function (_a) {\n        contents = {\n            name: \"UnsupportedMediaTypeException\",\n            $fault: \"client\",\n            $metadata: deserializeMetadata(parsedOutput),\n            message: undefined,\n        };\n        data = parsedOutput.body;\n        if (data.message !== undefined && data.message !== null) {\n            contents.message = data.message;\n        }\n        return [2 /*return*/, contents];\n    });\n}); };\nvar serializeAws_restJson1DialogAction = function (input, context) {\n    return __assign(__assign(__assign(__assign(__assign(__assign(__assign({}, (input.fulfillmentState !== undefined && { fulfillmentState: input.fulfillmentState })), (input.intentName !== undefined && { intentName: input.intentName })), (input.message !== undefined && { message: input.message })), (input.messageFormat !== undefined && { messageFormat: input.messageFormat })), (input.slotToElicit !== undefined && { slotToElicit: input.slotToElicit })), (input.slots !== undefined && { slots: serializeAws_restJson1StringMap(input.slots, context) })), (input.type !== undefined && { type: input.type }));\n};\nvar serializeAws_restJson1IntentSummary = function (input, context) {\n    return __assign(__assign(__assign(__assign(__assign(__assign(__assign({}, (input.checkpointLabel !== undefined && { checkpointLabel: input.checkpointLabel })), (input.confirmationStatus !== undefined && { confirmationStatus: input.confirmationStatus })), (input.dialogActionType !== undefined && { dialogActionType: input.dialogActionType })), (input.fulfillmentState !== undefined && { fulfillmentState: input.fulfillmentState })), (input.intentName !== undefined && { intentName: input.intentName })), (input.slotToElicit !== undefined && { slotToElicit: input.slotToElicit })), (input.slots !== undefined && { slots: serializeAws_restJson1StringMap(input.slots, context) }));\n};\nvar serializeAws_restJson1IntentSummaryList = function (input, context) {\n    return input.map(function (entry) { return serializeAws_restJson1IntentSummary(entry, context); });\n};\nvar serializeAws_restJson1StringMap = function (input, context) {\n    return Object.entries(input).reduce(function (acc, _a) {\n        var _b;\n        var _c = __read(_a, 2), key = _c[0], value = _c[1];\n        return (__assign(__assign({}, acc), (_b = {}, _b[key] = value, _b)));\n    }, {});\n};\nvar deserializeAws_restJson1Button = function (output, context) {\n    return {\n        __type: \"Button\",\n        text: output.text !== undefined && output.text !== null ? output.text : undefined,\n        value: output.value !== undefined && output.value !== null ? output.value : undefined,\n    };\n};\nvar deserializeAws_restJson1DialogAction = function (output, context) {\n    return {\n        __type: \"DialogAction\",\n        fulfillmentState: output.fulfillmentState !== undefined && output.fulfillmentState !== null ? output.fulfillmentState : undefined,\n        intentName: output.intentName !== undefined && output.intentName !== null ? output.intentName : undefined,\n        message: output.message !== undefined && output.message !== null ? output.message : undefined,\n        messageFormat: output.messageFormat !== undefined && output.messageFormat !== null ? output.messageFormat : undefined,\n        slotToElicit: output.slotToElicit !== undefined && output.slotToElicit !== null ? output.slotToElicit : undefined,\n        slots: output.slots !== undefined && output.slots !== null\n            ? deserializeAws_restJson1StringMap(output.slots, context)\n            : undefined,\n        type: output.type !== undefined && output.type !== null ? output.type : undefined,\n    };\n};\nvar deserializeAws_restJson1GenericAttachment = function (output, context) {\n    return {\n        __type: \"GenericAttachment\",\n        attachmentLinkUrl: output.attachmentLinkUrl !== undefined && output.attachmentLinkUrl !== null\n            ? output.attachmentLinkUrl\n            : undefined,\n        buttons: output.buttons !== undefined && output.buttons !== null\n            ? deserializeAws_restJson1listOfButtons(output.buttons, context)\n            : undefined,\n        imageUrl: output.imageUrl !== undefined && output.imageUrl !== null ? output.imageUrl : undefined,\n        subTitle: output.subTitle !== undefined && output.subTitle !== null ? output.subTitle : undefined,\n        title: output.title !== undefined && output.title !== null ? output.title : undefined,\n    };\n};\nvar deserializeAws_restJson1genericAttachmentList = function (output, context) {\n    return (output || []).map(function (entry) { return deserializeAws_restJson1GenericAttachment(entry, context); });\n};\nvar deserializeAws_restJson1IntentSummary = function (output, context) {\n    return {\n        __type: \"IntentSummary\",\n        checkpointLabel: output.checkpointLabel !== undefined && output.checkpointLabel !== null ? output.checkpointLabel : undefined,\n        confirmationStatus: output.confirmationStatus !== undefined && output.confirmationStatus !== null\n            ? output.confirmationStatus\n            : undefined,\n        dialogActionType: output.dialogActionType !== undefined && output.dialogActionType !== null ? output.dialogActionType : undefined,\n        fulfillmentState: output.fulfillmentState !== undefined && output.fulfillmentState !== null ? output.fulfillmentState : undefined,\n        intentName: output.intentName !== undefined && output.intentName !== null ? output.intentName : undefined,\n        slotToElicit: output.slotToElicit !== undefined && output.slotToElicit !== null ? output.slotToElicit : undefined,\n        slots: output.slots !== undefined && output.slots !== null\n            ? deserializeAws_restJson1StringMap(output.slots, context)\n            : undefined,\n    };\n};\nvar deserializeAws_restJson1IntentSummaryList = function (output, context) {\n    return (output || []).map(function (entry) { return deserializeAws_restJson1IntentSummary(entry, context); });\n};\nvar deserializeAws_restJson1listOfButtons = function (output, context) {\n    return (output || []).map(function (entry) { return deserializeAws_restJson1Button(entry, context); });\n};\nvar deserializeAws_restJson1ResponseCard = function (output, context) {\n    return {\n        __type: \"ResponseCard\",\n        contentType: output.contentType !== undefined && output.contentType !== null ? output.contentType : undefined,\n        genericAttachments: output.genericAttachments !== undefined && output.genericAttachments !== null\n            ? deserializeAws_restJson1genericAttachmentList(output.genericAttachments, context)\n            : undefined,\n        version: output.version !== undefined && output.version !== null ? output.version : undefined,\n    };\n};\nvar deserializeAws_restJson1SentimentResponse = function (output, context) {\n    return {\n        __type: \"SentimentResponse\",\n        sentimentLabel: output.sentimentLabel !== undefined && output.sentimentLabel !== null ? output.sentimentLabel : undefined,\n        sentimentScore: output.sentimentScore !== undefined && output.sentimentScore !== null ? output.sentimentScore : undefined,\n    };\n};\nvar deserializeAws_restJson1StringMap = function (output, context) {\n    return Object.entries(output).reduce(function (acc, _a) {\n        var _b;\n        var _c = __read(_a, 2), key = _c[0], value = _c[1];\n        return (__assign(__assign({}, acc), (_b = {}, _b[key] = value, _b)));\n    }, {});\n};\nvar deserializeMetadata = function (output) { return ({\n    httpStatusCode: output.statusCode,\n    httpHeaders: output.headers,\n    requestId: output.headers[\"x-amzn-requestid\"],\n}); };\n// Collect low-level response body stream to Uint8Array.\nvar collectBody = function (streamBody, context) {\n    if (streamBody === void 0) { streamBody = new Uint8Array(); }\n    if (streamBody instanceof Uint8Array) {\n        return Promise.resolve(streamBody);\n    }\n    return context.streamCollector(streamBody) || Promise.resolve(new Uint8Array());\n};\n// Encode Uint8Array data into string with utf-8.\nvar collectBodyString = function (streamBody, context) {\n    return collectBody(streamBody, context).then(function (body) { return context.utf8Encoder(body); });\n};\nvar isSerializableHeaderValue = function (value) {\n    return value !== undefined &&\n        value !== \"\" &&\n        (!Object.getOwnPropertyNames(value).includes(\"length\") || value.length != 0) &&\n        (!Object.getOwnPropertyNames(value).includes(\"size\") || value.size != 0);\n};\nvar parseBody = function (streamBody, context) {\n    return collectBodyString(streamBody, context).then(function (encoded) {\n        if (encoded.length) {\n            return JSON.parse(encoded);\n        }\n        return {};\n    });\n};\n/**\n * Load an error code for the aws.rest-json-1.1 protocol.\n */\nvar loadRestJsonErrorCode = function (output, data) {\n    var findKey = function (object, key) { return Object.keys(object).find(function (k) { return k.toLowerCase() === key.toLowerCase(); }); };\n    var sanitizeErrorCode = function (rawValue) {\n        var cleanValue = rawValue;\n        if (cleanValue.indexOf(\":\") >= 0) {\n            cleanValue = cleanValue.split(\":\")[0];\n        }\n        if (cleanValue.indexOf(\"#\") >= 0) {\n            cleanValue = cleanValue.split(\"#\")[1];\n        }\n        return cleanValue;\n    };\n    var headerKey = findKey(output.headers, \"x-amzn-errortype\");\n    if (headerKey !== undefined) {\n        return sanitizeErrorCode(output.headers[headerKey]);\n    }\n    if (data.code !== undefined) {\n        return sanitizeErrorCode(data.code);\n    }\n    if (data[\"__type\"] !== undefined) {\n        return sanitizeErrorCode(data[\"__type\"]);\n    }\n    return \"\";\n};\n//# sourceMappingURL=Aws_restJson1.js.map","import { deserializerMiddleware } from \"./deserializerMiddleware\";\nimport { serializerMiddleware } from \"./serializerMiddleware\";\nexport var deserializerMiddlewareOption = {\n    name: \"deserializerMiddleware\",\n    step: \"deserialize\",\n    tags: [\"DESERIALIZER\"],\n};\nexport var serializerMiddlewareOption = {\n    name: \"serializerMiddleware\",\n    step: \"serialize\",\n    tags: [\"SERIALIZER\"],\n};\nexport function getSerdePlugin(config, serializer, deserializer) {\n    return {\n        applyToStack: function (commandStack) {\n            commandStack.add(deserializerMiddleware(config, deserializer), deserializerMiddlewareOption);\n            commandStack.add(serializerMiddleware(config, serializer), serializerMiddlewareOption);\n        },\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyZGVQbHVnaW4uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2VyZGVQbHVnaW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBV0EsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDbEUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFOUQsTUFBTSxDQUFDLElBQU0sNEJBQTRCLEdBQThCO0lBQ3JFLElBQUksRUFBRSx3QkFBd0I7SUFDOUIsSUFBSSxFQUFFLGFBQWE7SUFDbkIsSUFBSSxFQUFFLENBQUMsY0FBYyxDQUFDO0NBQ3ZCLENBQUM7QUFFRixNQUFNLENBQUMsSUFBTSwwQkFBMEIsR0FBNEI7SUFDakUsSUFBSSxFQUFFLHNCQUFzQjtJQUM1QixJQUFJLEVBQUUsV0FBVztJQUNqQixJQUFJLEVBQUUsQ0FBQyxZQUFZLENBQUM7Q0FDckIsQ0FBQztBQUVGLE1BQU0sVUFBVSxjQUFjLENBSzVCLE1BQW9CLEVBQ3BCLFVBQWdELEVBQ2hELFlBQWlFO0lBRWpFLE9BQU87UUFDTCxZQUFZLEVBQUUsVUFBQyxZQUFvRDtZQUNqRSxZQUFZLENBQUMsR0FBRyxDQUFDLHNCQUFzQixDQUFDLE1BQU0sRUFBRSxZQUFZLENBQUMsRUFBRSw0QkFBNEIsQ0FBQyxDQUFDO1lBQzdGLFlBQVksQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxFQUFFLDBCQUEwQixDQUFDLENBQUM7UUFDekYsQ0FBQztLQUNGLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRGVzZXJpYWxpemVIYW5kbGVyT3B0aW9ucyxcbiAgRW5kcG9pbnRCZWFyZXIsXG4gIE1ldGFkYXRhQmVhcmVyLFxuICBNaWRkbGV3YXJlU3RhY2ssXG4gIFBsdWdnYWJsZSxcbiAgUmVxdWVzdFNlcmlhbGl6ZXIsXG4gIFJlc3BvbnNlRGVzZXJpYWxpemVyLFxuICBTZXJpYWxpemVIYW5kbGVyT3B0aW9ucyxcbn0gZnJvbSBcIkBhd3Mtc2RrL3R5cGVzXCI7XG5cbmltcG9ydCB7IGRlc2VyaWFsaXplck1pZGRsZXdhcmUgfSBmcm9tIFwiLi9kZXNlcmlhbGl6ZXJNaWRkbGV3YXJlXCI7XG5pbXBvcnQgeyBzZXJpYWxpemVyTWlkZGxld2FyZSB9IGZyb20gXCIuL3NlcmlhbGl6ZXJNaWRkbGV3YXJlXCI7XG5cbmV4cG9ydCBjb25zdCBkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlT3B0aW9uOiBEZXNlcmlhbGl6ZUhhbmRsZXJPcHRpb25zID0ge1xuICBuYW1lOiBcImRlc2VyaWFsaXplck1pZGRsZXdhcmVcIixcbiAgc3RlcDogXCJkZXNlcmlhbGl6ZVwiLFxuICB0YWdzOiBbXCJERVNFUklBTElaRVJcIl0sXG59O1xuXG5leHBvcnQgY29uc3Qgc2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb246IFNlcmlhbGl6ZUhhbmRsZXJPcHRpb25zID0ge1xuICBuYW1lOiBcInNlcmlhbGl6ZXJNaWRkbGV3YXJlXCIsXG4gIHN0ZXA6IFwic2VyaWFsaXplXCIsXG4gIHRhZ3M6IFtcIlNFUklBTElaRVJcIl0sXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VyZGVQbHVnaW48XG4gIElucHV0VHlwZSBleHRlbmRzIG9iamVjdCxcbiAgU2VyRGVDb250ZXh0IGV4dGVuZHMgRW5kcG9pbnRCZWFyZXIsXG4gIE91dHB1dFR5cGUgZXh0ZW5kcyBNZXRhZGF0YUJlYXJlclxuPihcbiAgY29uZmlnOiBTZXJEZUNvbnRleHQsXG4gIHNlcmlhbGl6ZXI6IFJlcXVlc3RTZXJpYWxpemVyPGFueSwgU2VyRGVDb250ZXh0PixcbiAgZGVzZXJpYWxpemVyOiBSZXNwb25zZURlc2VyaWFsaXplcjxPdXRwdXRUeXBlLCBhbnksIFNlckRlQ29udGV4dD5cbik6IFBsdWdnYWJsZTxJbnB1dFR5cGUsIE91dHB1dFR5cGU+IHtcbiAgcmV0dXJuIHtcbiAgICBhcHBseVRvU3RhY2s6IChjb21tYW5kU3RhY2s6IE1pZGRsZXdhcmVTdGFjazxJbnB1dFR5cGUsIE91dHB1dFR5cGU+KSA9PiB7XG4gICAgICBjb21tYW5kU3RhY2suYWRkKGRlc2VyaWFsaXplck1pZGRsZXdhcmUoY29uZmlnLCBkZXNlcmlhbGl6ZXIpLCBkZXNlcmlhbGl6ZXJNaWRkbGV3YXJlT3B0aW9uKTtcbiAgICAgIGNvbW1hbmRTdGFjay5hZGQoc2VyaWFsaXplck1pZGRsZXdhcmUoY29uZmlnLCBzZXJpYWxpemVyKSwgc2VyaWFsaXplck1pZGRsZXdhcmVPcHRpb24pO1xuICAgIH0sXG4gIH07XG59XG4iXX0=","import { __awaiter, __generator } from \"tslib\";\nexport function deserializerMiddleware(options, deserializer) {\n    var _this = this;\n    return function (next) { return function (args) { return __awaiter(_this, void 0, void 0, function () {\n        var response, parsed;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, next(args)];\n                case 1:\n                    response = (_a.sent()).response;\n                    return [4 /*yield*/, deserializer(response, options)];\n                case 2:\n                    parsed = _a.sent();\n                    return [2 /*return*/, {\n                            response: response,\n                            output: parsed,\n                        }];\n            }\n        });\n    }); }; };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVzZXJpYWxpemVyTWlkZGxld2FyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kZXNlcmlhbGl6ZXJNaWRkbGV3YXJlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFRQSxNQUFNLFVBQVUsc0JBQXNCLENBQ3BDLE9BQXFCLEVBQ3JCLFlBQTBEO0lBRjVELGlCQWNDO0lBVkMsT0FBTyxVQUFDLElBQXVDLElBQXdDLE9BQUEsVUFDckYsSUFBd0M7Ozs7d0JBRW5CLHFCQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQTs7b0JBQTdCLFFBQVEsR0FBSyxDQUFBLFNBQWdCLENBQUEsU0FBckI7b0JBQ0QscUJBQU0sWUFBWSxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsRUFBQTs7b0JBQTlDLE1BQU0sR0FBRyxTQUFxQztvQkFDcEQsc0JBQU87NEJBQ0wsUUFBUSxVQUFBOzRCQUNSLE1BQU0sRUFBRSxNQUFnQjt5QkFDekIsRUFBQzs7O1NBQ0gsRUFUc0YsQ0FTdEYsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBEZXNlcmlhbGl6ZUhhbmRsZXIsXG4gIERlc2VyaWFsaXplSGFuZGxlckFyZ3VtZW50cyxcbiAgRGVzZXJpYWxpemVIYW5kbGVyT3V0cHV0LFxuICBEZXNlcmlhbGl6ZU1pZGRsZXdhcmUsXG4gIFJlc3BvbnNlRGVzZXJpYWxpemVyLFxufSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGRlc2VyaWFsaXplck1pZGRsZXdhcmU8SW5wdXQgZXh0ZW5kcyBvYmplY3QsIE91dHB1dCBleHRlbmRzIG9iamVjdCwgUnVudGltZVV0aWxzID0gYW55PihcbiAgb3B0aW9uczogUnVudGltZVV0aWxzLFxuICBkZXNlcmlhbGl6ZXI6IFJlc3BvbnNlRGVzZXJpYWxpemVyPGFueSwgYW55LCBSdW50aW1lVXRpbHM+XG4pOiBEZXNlcmlhbGl6ZU1pZGRsZXdhcmU8SW5wdXQsIE91dHB1dD4ge1xuICByZXR1cm4gKG5leHQ6IERlc2VyaWFsaXplSGFuZGxlcjxJbnB1dCwgT3V0cHV0Pik6IERlc2VyaWFsaXplSGFuZGxlcjxJbnB1dCwgT3V0cHV0PiA9PiBhc3luYyAoXG4gICAgYXJnczogRGVzZXJpYWxpemVIYW5kbGVyQXJndW1lbnRzPElucHV0PlxuICApOiBQcm9taXNlPERlc2VyaWFsaXplSGFuZGxlck91dHB1dDxPdXRwdXQ+PiA9PiB7XG4gICAgY29uc3QgeyByZXNwb25zZSB9ID0gYXdhaXQgbmV4dChhcmdzKTtcbiAgICBjb25zdCBwYXJzZWQgPSBhd2FpdCBkZXNlcmlhbGl6ZXIocmVzcG9uc2UsIG9wdGlvbnMpO1xuICAgIHJldHVybiB7XG4gICAgICByZXNwb25zZSxcbiAgICAgIG91dHB1dDogcGFyc2VkIGFzIE91dHB1dCxcbiAgICB9O1xuICB9O1xufVxuIl19","import { __assign, __awaiter, __generator } from \"tslib\";\nexport function serializerMiddleware(options, serializer) {\n    var _this = this;\n    return function (next) { return function (args) { return __awaiter(_this, void 0, void 0, function () {\n        var request;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0: return [4 /*yield*/, serializer(args.input, options)];\n                case 1:\n                    request = _a.sent();\n                    return [2 /*return*/, next(__assign(__assign({}, args), { request: request }))];\n            }\n        });\n    }); }; };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXplck1pZGRsZXdhcmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2VyaWFsaXplck1pZGRsZXdhcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQVNBLE1BQU0sVUFBVSxvQkFBb0IsQ0FDbEMsT0FBcUIsRUFDckIsVUFBZ0Q7SUFGbEQsaUJBYUM7SUFUQyxPQUFPLFVBQUMsSUFBcUMsSUFBc0MsT0FBQSxVQUNqRixJQUFzQzs7Ozt3QkFFdEIscUJBQU0sVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLEVBQUE7O29CQUEvQyxPQUFPLEdBQUcsU0FBcUM7b0JBQ3JELHNCQUFPLElBQUksdUJBQ04sSUFBSSxLQUNQLE9BQU8sU0FBQSxJQUNQLEVBQUM7OztTQUNKLEVBUmtGLENBUWxGLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRW5kcG9pbnRCZWFyZXIsXG4gIFJlcXVlc3RTZXJpYWxpemVyLFxuICBTZXJpYWxpemVIYW5kbGVyLFxuICBTZXJpYWxpemVIYW5kbGVyQXJndW1lbnRzLFxuICBTZXJpYWxpemVIYW5kbGVyT3V0cHV0LFxuICBTZXJpYWxpemVNaWRkbGV3YXJlLFxufSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZXJNaWRkbGV3YXJlPElucHV0IGV4dGVuZHMgb2JqZWN0LCBPdXRwdXQgZXh0ZW5kcyBvYmplY3QsIFJ1bnRpbWVVdGlscyBleHRlbmRzIEVuZHBvaW50QmVhcmVyPihcbiAgb3B0aW9uczogUnVudGltZVV0aWxzLFxuICBzZXJpYWxpemVyOiBSZXF1ZXN0U2VyaWFsaXplcjxhbnksIFJ1bnRpbWVVdGlscz5cbik6IFNlcmlhbGl6ZU1pZGRsZXdhcmU8SW5wdXQsIE91dHB1dD4ge1xuICByZXR1cm4gKG5leHQ6IFNlcmlhbGl6ZUhhbmRsZXI8SW5wdXQsIE91dHB1dD4pOiBTZXJpYWxpemVIYW5kbGVyPElucHV0LCBPdXRwdXQ+ID0+IGFzeW5jIChcbiAgICBhcmdzOiBTZXJpYWxpemVIYW5kbGVyQXJndW1lbnRzPElucHV0PlxuICApOiBQcm9taXNlPFNlcmlhbGl6ZUhhbmRsZXJPdXRwdXQ8T3V0cHV0Pj4gPT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBhd2FpdCBzZXJpYWxpemVyKGFyZ3MuaW5wdXQsIG9wdGlvbnMpO1xuICAgIHJldHVybiBuZXh0KHtcbiAgICAgIC4uLmFyZ3MsXG4gICAgICByZXF1ZXN0LFxuICAgIH0pO1xuICB9O1xufVxuIl19","import { __extends } from \"tslib\";\nimport { PostTextRequest, PostTextResponse } from \"../models/index\";\nimport { deserializeAws_restJson1PostTextCommand, serializeAws_restJson1PostTextCommand, } from \"../protocols/Aws_restJson1\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\nvar PostTextCommand = /** @class */ (function (_super) {\n    __extends(PostTextCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function PostTextCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    PostTextCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var handlerExecutionContext = {\n            logger: logger,\n            inputFilterSensitiveLog: PostTextRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: PostTextResponse.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    PostTextCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restJson1PostTextCommand(input, context);\n    };\n    PostTextCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restJson1PostTextCommand(output, context);\n    };\n    return PostTextCommand;\n}($Command));\nexport { PostTextCommand };\n//# sourceMappingURL=PostTextCommand.js.map","import { __extends } from \"tslib\";\nimport { PostContentRequest, PostContentResponse } from \"../models/index\";\nimport { deserializeAws_restJson1PostContentCommand, serializeAws_restJson1PostContentCommand, } from \"../protocols/Aws_restJson1\";\nimport { getSerdePlugin } from \"@aws-sdk/middleware-serde\";\nimport { Command as $Command } from \"@aws-sdk/smithy-client\";\nvar PostContentCommand = /** @class */ (function (_super) {\n    __extends(PostContentCommand, _super);\n    // Start section: command_properties\n    // End section: command_properties\n    function PostContentCommand(input) {\n        var _this = \n        // Start section: command_constructor\n        _super.call(this) || this;\n        _this.input = input;\n        return _this;\n        // End section: command_constructor\n    }\n    PostContentCommand.prototype.resolveMiddleware = function (clientStack, configuration, options) {\n        this.middlewareStack.use(getSerdePlugin(configuration, this.serialize, this.deserialize));\n        var stack = clientStack.concat(this.middlewareStack);\n        var logger = configuration.logger;\n        var handlerExecutionContext = {\n            logger: logger,\n            inputFilterSensitiveLog: PostContentRequest.filterSensitiveLog,\n            outputFilterSensitiveLog: PostContentResponse.filterSensitiveLog,\n        };\n        var requestHandler = configuration.requestHandler;\n        return stack.resolve(function (request) {\n            return requestHandler.handle(request.request, options || {});\n        }, handlerExecutionContext);\n    };\n    PostContentCommand.prototype.serialize = function (input, context) {\n        return serializeAws_restJson1PostContentCommand(input, context);\n    };\n    PostContentCommand.prototype.deserialize = function (output, context) {\n        return deserializeAws_restJson1PostContentCommand(output, context);\n    };\n    return PostContentCommand;\n}($Command));\nexport { PostContentCommand };\n//# sourceMappingURL=PostContentCommand.js.map","export var convert = function (stream) {\n    if (stream instanceof Blob || stream instanceof ReadableStream) {\n        return new Response(stream)\n            .arrayBuffer()\n            .then(function (buffer) { return new Uint8Array(buffer); });\n    }\n    else {\n        throw new Error('Readable is not supported.');\n    }\n};\n//# sourceMappingURL=convert.js.map","/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { AbstractInteractionsProvider } from './InteractionsProvider';\nimport { LexRuntimeServiceClient, PostTextCommand, PostContentCommand, } from '@aws-sdk/client-lex-runtime-service';\nimport { ConsoleLogger as Logger, Credentials, getAmplifyUserAgent, } from '@aws-amplify/core';\nimport { convert } from './AWSLexProviderHelper/convert';\nvar logger = new Logger('AWSLexProvider');\nvar AWSLexProvider = /** @class */ (function (_super) {\n    __extends(AWSLexProvider, _super);\n    function AWSLexProvider(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this, options) || this;\n        _this._botsCompleteCallback = {};\n        return _this;\n    }\n    AWSLexProvider.prototype.getProviderName = function () {\n        return 'AWSLexProvider';\n    };\n    AWSLexProvider.prototype.reportBotStatus = function (data, botname) {\n        var _this = this;\n        // Check if state is fulfilled to resolve onFullfilment promise\n        logger.debug('postContent state', data.dialogState);\n        if (data.dialogState === 'ReadyForFulfillment' ||\n            data.dialogState === 'Fulfilled') {\n            if (typeof this._botsCompleteCallback[botname] === 'function') {\n                setTimeout(function () {\n                    return _this._botsCompleteCallback[botname](null, { slots: data.slots });\n                }, 0);\n            }\n            if (this._config &&\n                typeof this._config[botname].onComplete === 'function') {\n                setTimeout(function () { return _this._config[botname].onComplete(null, { slots: data.slots }); }, 0);\n            }\n        }\n        if (data.dialogState === 'Failed') {\n            if (typeof this._botsCompleteCallback[botname] === 'function') {\n                setTimeout(function () { return _this._botsCompleteCallback[botname]('Bot conversation failed'); }, 0);\n            }\n            if (this._config &&\n                typeof this._config[botname].onComplete === 'function') {\n                setTimeout(function () { return _this._config[botname].onComplete('Bot conversation failed'); }, 0);\n            }\n        }\n    };\n    AWSLexProvider.prototype.sendMessage = function (botname, message) {\n        return __awaiter(this, void 0, void 0, function () {\n            var credentials, params, postTextCommand, data, err_1, content, messageType, postContentCommand, data, audioArray, err_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this._config[botname]) {\n                            return [2 /*return*/, Promise.reject('Bot ' + botname + ' does not exist')];\n                        }\n                        return [4 /*yield*/, Credentials.get()];\n                    case 1:\n                        credentials = _a.sent();\n                        if (!credentials) {\n                            return [2 /*return*/, Promise.reject('No credentials')];\n                        }\n                        this.lexRuntimeServiceClient = new LexRuntimeServiceClient({\n                            region: this._config[botname].region,\n                            credentials: credentials,\n                            customUserAgent: getAmplifyUserAgent(),\n                        });\n                        if (!(typeof message === 'string')) return [3 /*break*/, 6];\n                        params = {\n                            botAlias: this._config[botname].alias,\n                            botName: botname,\n                            inputText: message,\n                            userId: credentials.identityId,\n                        };\n                        logger.debug('postText to lex', message);\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        postTextCommand = new PostTextCommand(params);\n                        return [4 /*yield*/, this.lexRuntimeServiceClient.send(postTextCommand)];\n                    case 3:\n                        data = _a.sent();\n                        this.reportBotStatus(data, botname);\n                        return [2 /*return*/, data];\n                    case 4:\n                        err_1 = _a.sent();\n                        return [2 /*return*/, Promise.reject(err_1)];\n                    case 5: return [3 /*break*/, 11];\n                    case 6:\n                        content = message.content, messageType = message.options.messageType;\n                        if (messageType === 'voice') {\n                            params = {\n                                botAlias: this._config[botname].alias,\n                                botName: botname,\n                                contentType: 'audio/x-l16; sample-rate=16000',\n                                inputStream: content,\n                                userId: credentials.identityId,\n                                accept: 'audio/mpeg',\n                            };\n                        }\n                        else {\n                            params = {\n                                botAlias: this._config[botname].alias,\n                                botName: botname,\n                                contentType: 'text/plain; charset=utf-8',\n                                inputStream: content,\n                                userId: credentials.identityId,\n                                accept: 'audio/mpeg',\n                            };\n                        }\n                        logger.debug('postContent to lex', message);\n                        _a.label = 7;\n                    case 7:\n                        _a.trys.push([7, 10, , 11]);\n                        postContentCommand = new PostContentCommand(params);\n                        return [4 /*yield*/, this.lexRuntimeServiceClient.send(postContentCommand)];\n                    case 8:\n                        data = _a.sent();\n                        return [4 /*yield*/, convert(data.audioStream)];\n                    case 9:\n                        audioArray = _a.sent();\n                        this.reportBotStatus(data, botname);\n                        return [2 /*return*/, __assign(__assign({}, data), { audioStream: audioArray })];\n                    case 10:\n                        err_2 = _a.sent();\n                        return [2 /*return*/, Promise.reject(err_2)];\n                    case 11: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AWSLexProvider.prototype.onComplete = function (botname, callback) {\n        if (!this._config[botname]) {\n            throw new ErrorEvent('Bot ' + botname + ' does not exist');\n        }\n        this._botsCompleteCallback[botname] = callback;\n    };\n    return AWSLexProvider;\n}(AbstractInteractionsProvider));\nexport { AWSLexProvider };\n//# sourceMappingURL=AWSLexProvider.js.map","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { Amplify, ConsoleLogger as Logger } from '@aws-amplify/core';\nimport { AWSLexProvider } from './Providers';\nvar logger = new Logger('Interactions');\nvar InteractionsClass = /** @class */ (function () {\n    /**\n     * Initialize PubSub with AWS configurations\n     *\n     * @param {InteractionsOptions} options - Configuration object for Interactions\n     */\n    function InteractionsClass(options) {\n        this._options = options;\n        logger.debug('Interactions Options', this._options);\n        this._pluggables = {};\n    }\n    InteractionsClass.prototype.getModuleName = function () {\n        return 'Interactions';\n    };\n    /**\n     *\n     * @param {InteractionsOptions} options - Configuration object for Interactions\n     * @return {Object} - The current configuration\n     */\n    InteractionsClass.prototype.configure = function (options) {\n        var _this = this;\n        var opt = options ? options.Interactions || options : {};\n        logger.debug('configure Interactions', { opt: opt });\n        this._options = __assign(__assign({ bots: {} }, opt), opt.Interactions);\n        var aws_bots_config = this._options.aws_bots_config;\n        var bots_config = this._options.bots;\n        if (!Object.keys(bots_config).length && aws_bots_config) {\n            // Convert aws_bots_config to bots object\n            if (Array.isArray(aws_bots_config)) {\n                aws_bots_config.forEach(function (bot) {\n                    _this._options.bots[bot.name] = bot;\n                });\n            }\n        }\n        // Check if AWSLex provider is already on pluggables\n        if (!this._pluggables.AWSLexProvider &&\n            bots_config &&\n            Object.keys(bots_config)\n                .map(function (key) { return bots_config[key]; })\n                .find(function (bot) { return !bot.providerName || bot.providerName === 'AWSLexProvider'; })) {\n            this._pluggables.AWSLexProvider = new AWSLexProvider();\n        }\n        Object.keys(this._pluggables).map(function (key) {\n            _this._pluggables[key].configure(_this._options.bots);\n        });\n        return this._options;\n    };\n    InteractionsClass.prototype.addPluggable = function (pluggable) {\n        if (pluggable && pluggable.getCategory() === 'Interactions') {\n            if (!this._pluggables[pluggable.getProviderName()]) {\n                pluggable.configure(this._options.bots);\n                this._pluggables[pluggable.getProviderName()] = pluggable;\n                return;\n            }\n            else {\n                throw new Error('Bot ' + pluggable.getProviderName() + ' already plugged');\n            }\n        }\n    };\n    InteractionsClass.prototype.send = function (botname, message) {\n        return __awaiter(this, void 0, void 0, function () {\n            var botProvider;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this._options.bots || !this._options.bots[botname]) {\n                            throw new Error('Bot ' + botname + ' does not exist');\n                        }\n                        botProvider = this._options.bots[botname].providerName || 'AWSLexProvider';\n                        if (!this._pluggables[botProvider]) {\n                            throw new Error('Bot ' +\n                                botProvider +\n                                ' does not have valid pluggin did you try addPluggable first?');\n                        }\n                        return [4 /*yield*/, this._pluggables[botProvider].sendMessage(botname, message)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    InteractionsClass.prototype.onComplete = function (botname, callback) {\n        if (!this._options.bots || !this._options.bots[botname]) {\n            throw new Error('Bot ' + botname + ' does not exist');\n        }\n        var botProvider = this._options.bots[botname].providerName || 'AWSLexProvider';\n        if (!this._pluggables[botProvider]) {\n            throw new Error('Bot ' +\n                botProvider +\n                ' does not have valid pluggin did you try addPluggable first?');\n        }\n        this._pluggables[botProvider].onComplete(botname, callback);\n    };\n    return InteractionsClass;\n}());\nexport { InteractionsClass };\nexport var Interactions = new InteractionsClass(null);\nAmplify.register(Interactions);\n//# sourceMappingURL=Interactions.js.map","/*\n * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n * the License. A copy of the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n * and limitations under the License.\n */\nimport { Interactions } from './Interactions';\n/**\n * @deprecated use named import\n */\nexport default Interactions;\nexport * from './Providers/AWSLexProvider';\nexport { Interactions };\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}