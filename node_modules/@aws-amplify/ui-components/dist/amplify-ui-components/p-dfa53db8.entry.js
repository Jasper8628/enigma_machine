import{r as t,h as i,H as a}from"./p-8fb49ffc.js";import{Logger as r}from"@aws-amplify/core";import{A as s}from"./p-f199eef0.js";import"./p-2915ed18.js";import"@aws-amplify/storage";import{p as e,g as h}from"./p-0f1a94bf.js";const o=new r("S3Image"),n=class{constructor(i){t(this,i),this.contentType="binary/octet-stream",this.level=s.Public}async watchHandler(){await this.load()}async componentWillLoad(){await this.load()}async load(){const{imgKey:t,path:i,body:a,contentType:r,level:s,track:n,identityId:c}=this;if(!t&&!i)return void o.debug("empty imgKey and path");const m=t||i;o.debug("loading "+m+"...");try{a&&await e(t,a,s,n,r,o),this.src=await h(m,s,n,c,o)}catch(p){throw o.debug(p),new Error(p)}}render(){return i(a,null,this.src&&i("img",{src:this.src,onLoad:this.handleOnLoad,onError:this.handleOnError}))}static get watchers(){return{body:["watchHandler"]}}};n.style=":host{height:inherit;width:inherit;--height:inherit;--width:inherit}img{height:var(--height);width:var(--width)}";export{n as amplify_s3_image}